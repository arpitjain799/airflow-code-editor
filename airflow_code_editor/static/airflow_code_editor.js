(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();function Hn(e,t){const i=Object.create(null),s=e.split(",");for(let n=0;n<s.length;n++)i[s[n]]=!0;return t?n=>!!i[n.toLowerCase()]:n=>!!i[n]}function Hi(e){if(be(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],n=et(s)?Oh(s):Hi(s);if(n)for(const o in n)t[o]=n[o]}return t}else{if(et(e))return e;if(Ne(e))return e}}const Ph=/;(?![^(]*\))/g,Ah=/:([^]+)/,Lh=/\/\*.*?\*\//gs;function Oh(e){const t={};return e.replace(Lh,"").split(Ph).forEach(i=>{if(i){const s=i.split(Ah);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ve(e){let t="";if(et(e))t=e;else if(be(e))for(let i=0;i<e.length;i++){const s=ve(e[i]);s&&(t+=s+" ")}else if(Ne(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Mh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ih=Hn(Mh);function Ka(e){return!!e||e===""}function Bh(e,t){if(e.length!==t.length)return!1;let i=!0;for(let s=0;i&&s<e.length;s++)i=Bi(e[s],t[s]);return i}function Bi(e,t){if(e===t)return!0;let i=Io(e),s=Io(t);if(i||s)return i&&s?e.getTime()===t.getTime():!1;if(i=Rs(e),s=Rs(t),i||s)return e===t;if(i=be(e),s=be(t),i||s)return i&&s?Bh(e,t):!1;if(i=Ne(e),s=Ne(t),i||s){if(!i||!s)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const r=e.hasOwnProperty(c),l=t.hasOwnProperty(c);if(r&&!l||!r&&l||!Bi(e[c],t[c]))return!1}}return String(e)===String(t)}function $n(e,t){return e.findIndex(i=>Bi(i,t))}const we=e=>et(e)?e:e==null?"":be(e)||Ne(e)&&(e.toString===Ga||!Ee(e.toString))?JSON.stringify(e,Va,2):String(e),Va=(e,t)=>t&&t.__v_isRef?Va(e,t.value):Ki(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[s,n])=>(i[`${s} =>`]=n,i),{})}:ss(t)?{[`Set(${t.size})`]:[...t.values()]}:Ne(t)&&!be(t)&&!Xa(t)?String(t):t,$e={},qi=[],Mt=()=>{},Fh=()=>!1,Nh=/^on[^a-z]/,Er=e=>Nh.test(e),Un=e=>e.startsWith("onUpdate:"),pt=Object.assign,jn=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Hh=Object.prototype.hasOwnProperty,Pe=(e,t)=>Hh.call(e,t),be=Array.isArray,Ki=e=>Hs(e)==="[object Map]",ss=e=>Hs(e)==="[object Set]",Io=e=>Hs(e)==="[object Date]",Ee=e=>typeof e=="function",et=e=>typeof e=="string",Rs=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",Ya=e=>Ne(e)&&Ee(e.then)&&Ee(e.catch),Ga=Object.prototype.toString,Hs=e=>Ga.call(e),$h=e=>Hs(e).slice(8,-1),Xa=e=>Hs(e)==="[object Object]",Wn=e=>et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,or=Hn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kr=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Uh=/-(\w)/g,jt=kr(e=>e.replace(Uh,(t,i)=>i?i.toUpperCase():"")),jh=/\B([A-Z])/g,$i=kr(e=>e.replace(jh,"-$1").toLowerCase()),xr=kr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ar=kr(e=>e?`on${xr(e)}`:""),Ps=(e,t)=>!Object.is(e,t),lr=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},pr=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},Ji=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bo;const Wh=()=>Bo||(Bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ht;class zh{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ht,!t&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}run(t){if(this.active){const i=Ht;try{return Ht=this,t()}finally{Ht=i}}}on(){Ht=this}off(){Ht=this.parent}stop(t){if(this.active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}}}function qh(e,t=Ht){t&&t.active&&t.effects.push(e)}const zn=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ja=e=>(e.w&pi)>0,Qa=e=>(e.n&pi)>0,Kh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pi},Vh=e=>{const{deps:t}=e;if(t.length){let i=0;for(let s=0;s<t.length;s++){const n=t[s];Ja(n)&&!Qa(n)?n.delete(e):t[i++]=n,n.w&=~pi,n.n&=~pi}t.length=i}},fn=new WeakMap;let ws=0,pi=1;const pn=30;let Lt;const Oi=Symbol(""),_n=Symbol("");class qn{constructor(t,i=null,s){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,qh(this,s)}run(){if(!this.active)return this.fn();let t=Lt,i=ui;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Lt,Lt=this,ui=!0,pi=1<<++ws,ws<=pn?Kh(this):Fo(this),this.fn()}finally{ws<=pn&&Vh(this),pi=1<<--ws,Lt=this.parent,ui=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Lt===this?this.deferStop=!0:this.active&&(Fo(this),this.onStop&&this.onStop(),this.active=!1)}}function Fo(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let ui=!0;const Za=[];function rs(){Za.push(ui),ui=!1}function ns(){const e=Za.pop();ui=e===void 0?!0:e}function Ct(e,t,i){if(ui&&Lt){let s=fn.get(e);s||fn.set(e,s=new Map);let n=s.get(i);n||s.set(i,n=zn()),el(n)}}function el(e,t){let i=!1;ws<=pn?Qa(e)||(e.n|=pi,i=!Ja(e)):i=!e.has(Lt),i&&(e.add(Lt),Lt.deps.push(e))}function Qt(e,t,i,s,n,o){const c=fn.get(e);if(!c)return;let r=[];if(t==="clear")r=[...c.values()];else if(i==="length"&&be(e)){const l=Ji(s);c.forEach((h,u)=>{(u==="length"||u>=l)&&r.push(h)})}else switch(i!==void 0&&r.push(c.get(i)),t){case"add":be(e)?Wn(i)&&r.push(c.get("length")):(r.push(c.get(Oi)),Ki(e)&&r.push(c.get(_n)));break;case"delete":be(e)||(r.push(c.get(Oi)),Ki(e)&&r.push(c.get(_n)));break;case"set":Ki(e)&&r.push(c.get(Oi));break}if(r.length===1)r[0]&&gn(r[0]);else{const l=[];for(const h of r)h&&l.push(...h);gn(zn(l))}}function gn(e,t){const i=be(e)?e:[...e];for(const s of i)s.computed&&No(s);for(const s of i)s.computed||No(s)}function No(e,t){(e!==Lt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Yh=Hn("__proto__,__v_isRef,__isVue"),tl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rs)),Gh=Kn(),Xh=Kn(!1,!0),Jh=Kn(!0),Ho=Qh();function Qh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const s=Me(this);for(let o=0,c=this.length;o<c;o++)Ct(s,"get",o+"");const n=s[t](...i);return n===-1||n===!1?s[t](...i.map(Me)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){rs();const s=Me(this)[t].apply(this,i);return ns(),s}}),e}function Kn(e=!1,t=!1){return function(s,n,o){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&o===(e?t?pd:ol:t?nl:rl).get(s))return s;const c=be(s);if(!e&&c&&Pe(Ho,n))return Reflect.get(Ho,n,o);const r=Reflect.get(s,n,o);return(Rs(n)?tl.has(n):Yh(n))||(e||Ct(s,"get",n),t)?r:ut(r)?c&&Wn(n)?r:r.value:Ne(r)?e?Dr(r):Gn(r):r}}const Zh=il(),ed=il(!0);function il(e=!1){return function(i,s,n,o){let c=i[s];if(Qi(c)&&ut(c)&&!ut(n))return!1;if(!e&&(!_r(n)&&!Qi(n)&&(c=Me(c),n=Me(n)),!be(i)&&ut(c)&&!ut(n)))return c.value=n,!0;const r=be(i)&&Wn(s)?Number(s)<i.length:Pe(i,s),l=Reflect.set(i,s,n,o);return i===Me(o)&&(r?Ps(n,c)&&Qt(i,"set",s,n):Qt(i,"add",s,n)),l}}function td(e,t){const i=Pe(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&i&&Qt(e,"delete",t,void 0),s}function id(e,t){const i=Reflect.has(e,t);return(!Rs(t)||!tl.has(t))&&Ct(e,"has",t),i}function sd(e){return Ct(e,"iterate",be(e)?"length":Oi),Reflect.ownKeys(e)}const sl={get:Gh,set:Zh,deleteProperty:td,has:id,ownKeys:sd},rd={get:Jh,set(e,t){return!0},deleteProperty(e,t){return!0}},nd=pt({},sl,{get:Xh,set:ed}),Vn=e=>e,Tr=e=>Reflect.getPrototypeOf(e);function Gs(e,t,i=!1,s=!1){e=e.__v_raw;const n=Me(e),o=Me(t);i||(t!==o&&Ct(n,"get",t),Ct(n,"get",o));const{has:c}=Tr(n),r=s?Vn:i?Qn:As;if(c.call(n,t))return r(e.get(t));if(c.call(n,o))return r(e.get(o));e!==n&&e.get(t)}function Xs(e,t=!1){const i=this.__v_raw,s=Me(i),n=Me(e);return t||(e!==n&&Ct(s,"has",e),Ct(s,"has",n)),e===n?i.has(e):i.has(e)||i.has(n)}function Js(e,t=!1){return e=e.__v_raw,!t&&Ct(Me(e),"iterate",Oi),Reflect.get(e,"size",e)}function $o(e){e=Me(e);const t=Me(this);return Tr(t).has.call(t,e)||(t.add(e),Qt(t,"add",e,e)),this}function Uo(e,t){t=Me(t);const i=Me(this),{has:s,get:n}=Tr(i);let o=s.call(i,e);o||(e=Me(e),o=s.call(i,e));const c=n.call(i,e);return i.set(e,t),o?Ps(t,c)&&Qt(i,"set",e,t):Qt(i,"add",e,t),this}function jo(e){const t=Me(this),{has:i,get:s}=Tr(t);let n=i.call(t,e);n||(e=Me(e),n=i.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return n&&Qt(t,"delete",e,void 0),o}function Wo(){const e=Me(this),t=e.size!==0,i=e.clear();return t&&Qt(e,"clear",void 0,void 0),i}function Qs(e,t){return function(s,n){const o=this,c=o.__v_raw,r=Me(c),l=t?Vn:e?Qn:As;return!e&&Ct(r,"iterate",Oi),c.forEach((h,u)=>s.call(n,l(h),l(u),o))}}function Zs(e,t,i){return function(...s){const n=this.__v_raw,o=Me(n),c=Ki(o),r=e==="entries"||e===Symbol.iterator&&c,l=e==="keys"&&c,h=n[e](...s),u=i?Vn:t?Qn:As;return!t&&Ct(o,"iterate",l?_n:Oi),{next(){const{value:p,done:f}=h.next();return f?{value:p,done:f}:{value:r?[u(p[0]),u(p[1])]:u(p),done:f}},[Symbol.iterator](){return this}}}}function ri(e){return function(...t){return e==="delete"?!1:this}}function od(){const e={get(o){return Gs(this,o)},get size(){return Js(this)},has:Xs,add:$o,set:Uo,delete:jo,clear:Wo,forEach:Qs(!1,!1)},t={get(o){return Gs(this,o,!1,!0)},get size(){return Js(this)},has:Xs,add:$o,set:Uo,delete:jo,clear:Wo,forEach:Qs(!1,!0)},i={get(o){return Gs(this,o,!0)},get size(){return Js(this,!0)},has(o){return Xs.call(this,o,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Qs(!0,!1)},s={get(o){return Gs(this,o,!0,!0)},get size(){return Js(this,!0)},has(o){return Xs.call(this,o,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Zs(o,!1,!1),i[o]=Zs(o,!0,!1),t[o]=Zs(o,!1,!0),s[o]=Zs(o,!0,!0)}),[e,i,t,s]}const[ad,ld,cd,hd]=od();function Yn(e,t){const i=t?e?hd:cd:e?ld:ad;return(s,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(Pe(i,n)&&n in s?i:s,n,o)}const dd={get:Yn(!1,!1)},ud={get:Yn(!1,!0)},fd={get:Yn(!0,!1)},rl=new WeakMap,nl=new WeakMap,ol=new WeakMap,pd=new WeakMap;function _d(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gd(e){return e.__v_skip||!Object.isExtensible(e)?0:_d($h(e))}function Gn(e){return Qi(e)?e:Xn(e,!1,sl,dd,rl)}function md(e){return Xn(e,!1,nd,ud,nl)}function Dr(e){return Xn(e,!0,rd,fd,ol)}function Xn(e,t,i,s,n){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const c=gd(e);if(c===0)return e;const r=new Proxy(e,c===2?s:i);return n.set(e,r),r}function Vi(e){return Qi(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Qi(e){return!!(e&&e.__v_isReadonly)}function _r(e){return!!(e&&e.__v_isShallow)}function al(e){return Vi(e)||Qi(e)}function Me(e){const t=e&&e.__v_raw;return t?Me(t):e}function Jn(e){return pr(e,"__v_skip",!0),e}const As=e=>Ne(e)?Gn(e):e,Qn=e=>Ne(e)?Dr(e):e;function ll(e){ui&&Lt&&(e=Me(e),el(e.dep||(e.dep=zn())))}function cl(e,t){e=Me(e),e.dep&&gn(e.dep)}function ut(e){return!!(e&&e.__v_isRef===!0)}function Qe(e){return vd(e,!1)}function vd(e,t){return ut(e)?e:new bd(e,t)}class bd{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:Me(t),this._value=i?t:As(t)}get value(){return ll(this),this._value}set value(t){const i=this.__v_isShallow||_r(t)||Qi(t);t=i?t:Me(t),Ps(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:As(t),cl(this))}}function q(e){return ut(e)?e.value:e}const yd={get:(e,t,i)=>q(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const n=e[t];return ut(n)&&!ut(i)?(n.value=i,!0):Reflect.set(e,t,i,s)}};function hl(e){return Vi(e)?e:new Proxy(e,yd)}function Sd(e){const t=be(e)?new Array(e.length):{};for(const i in e)t[i]=Cd(e,i);return t}class wd{constructor(t,i,s){this._object=t,this._key=i,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Cd(e,t,i){const s=e[t];return ut(s)?s:new wd(e,t,i)}var dl;class Ed{constructor(t,i,s,n){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[dl]=!1,this._dirty=!0,this.effect=new qn(t,()=>{this._dirty||(this._dirty=!0,cl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=Me(this);return ll(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}dl="__v_isReadonly";function kd(e,t,i=!1){let s,n;const o=Ee(e);return o?(s=e,n=Mt):(s=e.get,n=e.set),new Ed(s,n,o||!n,i)}function fi(e,t,i,s){let n;try{n=s?e(...s):e()}catch(o){Rr(o,t,i)}return n}function Tt(e,t,i,s){if(Ee(e)){const o=fi(e,t,i,s);return o&&Ya(o)&&o.catch(c=>{Rr(c,t,i)}),o}const n=[];for(let o=0;o<e.length;o++)n.push(Tt(e[o],t,i,s));return n}function Rr(e,t,i,s=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const c=t.proxy,r=i;for(;o;){const h=o.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](e,c,r)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){fi(l,null,10,[e,c,r]);return}}xd(e,i,n,s)}function xd(e,t,i,s=!0){console.error(e)}let Ls=!1,mn=!1;const mt=[];let Ut=0;const Yi=[];let Kt=null,Ri=0;const ul=Promise.resolve();let Zn=null;function Pr(e){const t=Zn||ul;return e?t.then(this?e.bind(this):e):t}function Td(e){let t=Ut+1,i=mt.length;for(;t<i;){const s=t+i>>>1;Os(mt[s])<e?t=s+1:i=s}return t}function eo(e){(!mt.length||!mt.includes(e,Ls&&e.allowRecurse?Ut+1:Ut))&&(e.id==null?mt.push(e):mt.splice(Td(e.id),0,e),fl())}function fl(){!Ls&&!mn&&(mn=!0,Zn=ul.then(_l))}function Dd(e){const t=mt.indexOf(e);t>Ut&&mt.splice(t,1)}function Rd(e){be(e)?Yi.push(...e):(!Kt||!Kt.includes(e,e.allowRecurse?Ri+1:Ri))&&Yi.push(e),fl()}function zo(e,t=Ls?Ut+1:0){for(;t<mt.length;t++){const i=mt[t];i&&i.pre&&(mt.splice(t,1),t--,i())}}function pl(e){if(Yi.length){const t=[...new Set(Yi)];if(Yi.length=0,Kt){Kt.push(...t);return}for(Kt=t,Kt.sort((i,s)=>Os(i)-Os(s)),Ri=0;Ri<Kt.length;Ri++)Kt[Ri]();Kt=null,Ri=0}}const Os=e=>e.id==null?1/0:e.id,Pd=(e,t)=>{const i=Os(e)-Os(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function _l(e){mn=!1,Ls=!0,mt.sort(Pd);const t=Mt;try{for(Ut=0;Ut<mt.length;Ut++){const i=mt[Ut];i&&i.active!==!1&&fi(i,null,14)}}finally{Ut=0,mt.length=0,pl(),Ls=!1,Zn=null,(mt.length||Yi.length)&&_l()}}function Ad(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||$e;let n=i;const o=t.startsWith("update:"),c=o&&t.slice(7);if(c&&c in s){const u=`${c==="modelValue"?"model":c}Modifiers`,{number:p,trim:f}=s[u]||$e;f&&(n=i.map(S=>et(S)?S.trim():S)),p&&(n=i.map(Ji))}let r,l=s[r=ar(t)]||s[r=ar(jt(t))];!l&&o&&(l=s[r=ar($i(t))]),l&&Tt(l,e,6,n);const h=s[r+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Tt(h,e,6,n)}}function gl(e,t,i=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const o=e.emits;let c={},r=!1;if(!Ee(e)){const l=h=>{const u=gl(h,t,!0);u&&(r=!0,pt(c,u))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!r?(Ne(e)&&s.set(e,null),null):(be(o)?o.forEach(l=>c[l]=null):pt(c,o),Ne(e)&&s.set(e,c),c)}function Ar(e,t){return!e||!Er(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,$i(t))||Pe(e,t))}let ft=null,ml=null;function gr(e){const t=ft;return ft=e,ml=e&&e.type.__scopeId||null,t}function De(e,t=ft,i){if(!t||e._n)return e;const s=(...n)=>{s._d&&ta(-1);const o=gr(t);let c;try{c=e(...n)}finally{gr(o),s._d&&ta(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function Jr(e){const{type:t,vnode:i,proxy:s,withProxy:n,props:o,propsOptions:[c],slots:r,attrs:l,emit:h,render:u,renderCache:p,data:f,setupState:S,ctx:b,inheritAttrs:_}=e;let a,g;const v=gr(e);try{if(i.shapeFlag&4){const m=n||s;a=$t(u.call(m,m,p,o,S,f,b)),g=l}else{const m=t;a=$t(m.length>1?m(o,{attrs:l,slots:r,emit:h}):m(o,null)),g=t.props?l:Ld(l)}}catch(m){xs.length=0,Rr(m,e,1),a=fe(Dt)}let d=a;if(g&&_!==!1){const m=Object.keys(g),{shapeFlag:w}=d;m.length&&w&7&&(c&&m.some(Un)&&(g=Od(g,c)),d=_i(d,g))}return i.dirs&&(d=_i(d),d.dirs=d.dirs?d.dirs.concat(i.dirs):i.dirs),i.transition&&(d.transition=i.transition),a=d,gr(v),a}const Ld=e=>{let t;for(const i in e)(i==="class"||i==="style"||Er(i))&&((t||(t={}))[i]=e[i]);return t},Od=(e,t)=>{const i={};for(const s in e)(!Un(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function Md(e,t,i){const{props:s,children:n,component:o}=e,{props:c,children:r,patchFlag:l}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return s?qo(s,c,h):!!c;if(l&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const f=u[p];if(c[f]!==s[f]&&!Ar(h,f))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:s===c?!1:s?c?qo(s,c,h):!0:!!c;return!1}function qo(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const o=s[n];if(t[o]!==e[o]&&!Ar(i,o))return!0}return!1}function Id({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const Bd=e=>e.__isSuspense;function Fd(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):Rd(e)}function Nd(e,t){if(at){let i=at.provides;const s=at.parent&&at.parent.provides;s===i&&(i=at.provides=Object.create(s)),i[e]=t}}function Gi(e,t,i=!1){const s=at||ft;if(s){const n=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return i&&Ee(t)?t.call(s.proxy):t}}const er={};function Gt(e,t,i){return vl(e,t,i)}function vl(e,t,{immediate:i,deep:s,flush:n,onTrack:o,onTrigger:c}=$e){const r=at;let l,h=!1,u=!1;if(ut(e)?(l=()=>e.value,h=_r(e)):Vi(e)?(l=()=>e,s=!0):be(e)?(u=!0,h=e.some(d=>Vi(d)||_r(d)),l=()=>e.map(d=>{if(ut(d))return d.value;if(Vi(d))return Li(d);if(Ee(d))return fi(d,r,2)})):Ee(e)?t?l=()=>fi(e,r,2):l=()=>{if(!(r&&r.isUnmounted))return p&&p(),Tt(e,r,3,[f])}:l=Mt,t&&s){const d=l;l=()=>Li(d())}let p,f=d=>{p=g.onStop=()=>{fi(d,r,4)}},S;if(Is)if(f=Mt,t?i&&Tt(t,r,3,[l(),u?[]:void 0,f]):l(),n==="sync"){const d=Bu();S=d.__watcherHandles||(d.__watcherHandles=[])}else return Mt;let b=u?new Array(e.length).fill(er):er;const _=()=>{if(!!g.active)if(t){const d=g.run();(s||h||(u?d.some((m,w)=>Ps(m,b[w])):Ps(d,b)))&&(p&&p(),Tt(t,r,3,[d,b===er?void 0:u&&b[0]===er?[]:b,f]),b=d)}else g.run()};_.allowRecurse=!!t;let a;n==="sync"?a=_:n==="post"?a=()=>bt(_,r&&r.suspense):(_.pre=!0,r&&(_.id=r.uid),a=()=>eo(_));const g=new qn(l,a);t?i?_():b=g.run():n==="post"?bt(g.run.bind(g),r&&r.suspense):g.run();const v=()=>{g.stop(),r&&r.scope&&jn(r.scope.effects,g)};return S&&S.push(v),v}function Hd(e,t,i){const s=this.proxy,n=et(e)?e.includes(".")?bl(s,e):()=>s[e]:e.bind(s,s);let o;Ee(t)?o=t:(o=t.handler,i=t);const c=at;Zi(this);const r=vl(n,o.bind(s),i);return c?Zi(c):Mi(),r}function bl(e,t){const i=t.split(".");return()=>{let s=e;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}function Li(e,t){if(!Ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ut(e))Li(e.value,t);else if(be(e))for(let i=0;i<e.length;i++)Li(e[i],t);else if(ss(e)||Ki(e))e.forEach(i=>{Li(i,t)});else if(Xa(e))for(const i in e)Li(e[i],t);return e}function $d(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return os(()=>{e.isMounted=!0}),El(()=>{e.isUnmounting=!0}),e}const xt=[Function,Array],Ud={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xt,onEnter:xt,onAfterEnter:xt,onEnterCancelled:xt,onBeforeLeave:xt,onLeave:xt,onAfterLeave:xt,onLeaveCancelled:xt,onBeforeAppear:xt,onAppear:xt,onAfterAppear:xt,onAppearCancelled:xt},setup(e,{slots:t}){const i=Du(),s=$d();let n;return()=>{const o=t.default&&wl(t.default(),!0);if(!o||!o.length)return;let c=o[0];if(o.length>1){for(const _ of o)if(_.type!==Dt){c=_;break}}const r=Me(e),{mode:l}=r;if(s.isLeaving)return Qr(c);const h=Ko(c);if(!h)return Qr(c);const u=vn(h,r,s,i);bn(h,u);const p=i.subTree,f=p&&Ko(p);let S=!1;const{getTransitionKey:b}=h.type;if(b){const _=b();n===void 0?n=_:_!==n&&(n=_,S=!0)}if(f&&f.type!==Dt&&(!Pi(h,f)||S)){const _=vn(f,r,s,i);if(bn(f,_),l==="out-in")return s.isLeaving=!0,_.afterLeave=()=>{s.isLeaving=!1,i.update.active!==!1&&i.update()},Qr(c);l==="in-out"&&h.type!==Dt&&(_.delayLeave=(a,g,v)=>{const d=Sl(s,f);d[String(f.key)]=f,a._leaveCb=()=>{g(),a._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=v})}return c}}},yl=Ud;function Sl(e,t){const{leavingVNodes:i}=e;let s=i.get(t.type);return s||(s=Object.create(null),i.set(t.type,s)),s}function vn(e,t,i,s){const{appear:n,mode:o,persisted:c=!1,onBeforeEnter:r,onEnter:l,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:p,onLeave:f,onAfterLeave:S,onLeaveCancelled:b,onBeforeAppear:_,onAppear:a,onAfterAppear:g,onAppearCancelled:v}=t,d=String(e.key),m=Sl(i,e),w=(y,E)=>{y&&Tt(y,s,9,E)},C=(y,E)=>{const x=E[1];w(y,E),be(y)?y.every(O=>O.length<=1)&&x():y.length<=1&&x()},T={mode:o,persisted:c,beforeEnter(y){let E=r;if(!i.isMounted)if(n)E=_||r;else return;y._leaveCb&&y._leaveCb(!0);const x=m[d];x&&Pi(e,x)&&x.el._leaveCb&&x.el._leaveCb(),w(E,[y])},enter(y){let E=l,x=h,O=u;if(!i.isMounted)if(n)E=a||l,x=g||h,O=v||u;else return;let P=!1;const I=y._enterCb=G=>{P||(P=!0,G?w(O,[y]):w(x,[y]),T.delayedLeave&&T.delayedLeave(),y._enterCb=void 0)};E?C(E,[y,I]):I()},leave(y,E){const x=String(e.key);if(y._enterCb&&y._enterCb(!0),i.isUnmounting)return E();w(p,[y]);let O=!1;const P=y._leaveCb=I=>{O||(O=!0,E(),I?w(b,[y]):w(S,[y]),y._leaveCb=void 0,m[x]===e&&delete m[x])};m[x]=e,f?C(f,[y,P]):P()},clone(y){return vn(y,t,i,s)}};return T}function Qr(e){if(Lr(e))return e=_i(e),e.children=null,e}function Ko(e){return Lr(e)?e.children?e.children[0]:void 0:e}function bn(e,t){e.shapeFlag&6&&e.component?bn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wl(e,t=!1,i){let s=[],n=0;for(let o=0;o<e.length;o++){let c=e[o];const r=i==null?c.key:String(i)+String(c.key!=null?c.key:o);c.type===xe?(c.patchFlag&128&&n++,s=s.concat(wl(c.children,t,r))):(t||c.type!==Dt)&&s.push(r!=null?_i(c,{key:r}):c)}if(n>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function Ue(e){return Ee(e)?{setup:e,name:e.name}:e}const Cs=e=>!!e.type.__asyncLoader,Lr=e=>e.type.__isKeepAlive;function jd(e,t){Cl(e,"a",t)}function Wd(e,t){Cl(e,"da",t)}function Cl(e,t,i=at){const s=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Or(t,s,i),i){let n=i.parent;for(;n&&n.parent;)Lr(n.parent.vnode)&&zd(s,t,i,n),n=n.parent}}function zd(e,t,i,s){const n=Or(t,e,s,!0);Mr(()=>{jn(s[t],n)},i)}function Or(e,t,i=at,s=!1){if(i){const n=i[e]||(i[e]=[]),o=t.__weh||(t.__weh=(...c)=>{if(i.isUnmounted)return;rs(),Zi(i);const r=Tt(t,i,e,c);return Mi(),ns(),r});return s?n.unshift(o):n.push(o),o}}const Zt=e=>(t,i=at)=>(!Is||e==="sp")&&Or(e,(...s)=>t(...s),i),qd=Zt("bm"),os=Zt("m"),Kd=Zt("bu"),Vd=Zt("u"),El=Zt("bum"),Mr=Zt("um"),Yd=Zt("sp"),Gd=Zt("rtg"),Xd=Zt("rtc");function Jd(e,t=at){Or("ec",e,t)}function st(e,t){const i=ft;if(i===null)return e;const s=Fr(i)||i.proxy,n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[c,r,l,h=$e]=t[o];c&&(Ee(c)&&(c={mounted:c,updated:c}),c.deep&&Li(r),n.push({dir:c,instance:s,value:r,oldValue:void 0,arg:l,modifiers:h}))}return e}function Ci(e,t,i,s){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const r=n[c];o&&(r.oldValue=o[c].value);let l=r.dir[s];l&&(rs(),Tt(l,i,8,[e.el,r,e,t]),ns())}}const to="components",Qd="directives";function ye(e,t){return io(to,e,!0,t)||e}const kl=Symbol();function Zd(e){return et(e)?io(to,e,!1)||e:e||kl}function eu(e){return io(Qd,e)}function io(e,t,i=!0,s=!1){const n=ft||at;if(n){const o=n.type;if(e===to){const r=Ou(o,!1);if(r&&(r===t||r===jt(t)||r===xr(jt(t))))return o}const c=Vo(n[e]||o[e],t)||Vo(n.appContext[e],t);return!c&&s?o:c}}function Vo(e,t){return e&&(e[t]||e[jt(t)]||e[xr(jt(t))])}function Ze(e,t,i,s){let n;const o=i&&i[s];if(be(e)||et(e)){n=new Array(e.length);for(let c=0,r=e.length;c<r;c++)n[c]=t(e[c],c,void 0,o&&o[c])}else if(typeof e=="number"){n=new Array(e);for(let c=0;c<e;c++)n[c]=t(c+1,c,void 0,o&&o[c])}else if(Ne(e))if(e[Symbol.iterator])n=Array.from(e,(c,r)=>t(c,r,void 0,o&&o[r]));else{const c=Object.keys(e);n=new Array(c.length);for(let r=0,l=c.length;r<l;r++){const h=c[r];n[r]=t(e[h],h,r,o&&o[r])}}else n=[];return i&&(i[s]=n),n}function Zr(e,t){for(let i=0;i<t.length;i++){const s=t[i];if(be(s))for(let n=0;n<s.length;n++)e[s[n].name]=s[n].fn;else s&&(e[s.name]=s.key?(...n)=>{const o=s.fn(...n);return o&&(o.key=s.key),o}:s.fn)}return e}function Te(e,t,i={},s,n){if(ft.isCE||ft.parent&&Cs(ft.parent)&&ft.parent.isCE)return t!=="default"&&(i.name=t),fe("slot",i,s&&s());let o=e[t];o&&o._c&&(o._d=!1),j();const c=o&&xl(o(i)),r=tt(xe,{key:i.key||c&&c.key||`_${t}`},c||(s?s():[]),c&&e._===1?64:-2);return!n&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),o&&o._c&&(o._d=!0),r}function xl(e){return e.some(t=>vr(t)?!(t.type===Dt||t.type===xe&&!xl(t.children)):!0)?e:null}function tu(e,t){const i={};for(const s in e)i[t&&/[A-Z]/.test(s)?`on:${s}`:ar(s)]=e[s];return i}const yn=e=>e?Fl(e)?Fr(e)||e.proxy:yn(e.parent):null,Es=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yn(e.parent),$root:e=>yn(e.root),$emit:e=>e.emit,$options:e=>so(e),$forceUpdate:e=>e.f||(e.f=()=>eo(e.update)),$nextTick:e=>e.n||(e.n=Pr.bind(e.proxy)),$watch:e=>Hd.bind(e)}),en=(e,t)=>e!==$e&&!e.__isScriptSetup&&Pe(e,t),iu={get({_:e},t){const{ctx:i,setupState:s,data:n,props:o,accessCache:c,type:r,appContext:l}=e;let h;if(t[0]!=="$"){const S=c[t];if(S!==void 0)switch(S){case 1:return s[t];case 2:return n[t];case 4:return i[t];case 3:return o[t]}else{if(en(s,t))return c[t]=1,s[t];if(n!==$e&&Pe(n,t))return c[t]=2,n[t];if((h=e.propsOptions[0])&&Pe(h,t))return c[t]=3,o[t];if(i!==$e&&Pe(i,t))return c[t]=4,i[t];Sn&&(c[t]=0)}}const u=Es[t];let p,f;if(u)return t==="$attrs"&&Ct(e,"get",t),u(e);if((p=r.__cssModules)&&(p=p[t]))return p;if(i!==$e&&Pe(i,t))return c[t]=4,i[t];if(f=l.config.globalProperties,Pe(f,t))return f[t]},set({_:e},t,i){const{data:s,setupState:n,ctx:o}=e;return en(n,t)?(n[t]=i,!0):s!==$e&&Pe(s,t)?(s[t]=i,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:n,propsOptions:o}},c){let r;return!!i[c]||e!==$e&&Pe(e,c)||en(t,c)||(r=o[0])&&Pe(r,c)||Pe(s,c)||Pe(Es,c)||Pe(n.config.globalProperties,c)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Pe(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};let Sn=!0;function su(e){const t=so(e),i=e.proxy,s=e.ctx;Sn=!1,t.beforeCreate&&Yo(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:r,provide:l,inject:h,created:u,beforeMount:p,mounted:f,beforeUpdate:S,updated:b,activated:_,deactivated:a,beforeDestroy:g,beforeUnmount:v,destroyed:d,unmounted:m,render:w,renderTracked:C,renderTriggered:T,errorCaptured:y,serverPrefetch:E,expose:x,inheritAttrs:O,components:P,directives:I,filters:G}=t;if(h&&ru(h,s,null,e.appContext.config.unwrapInjectedRef),c)for(const k in c){const D=c[k];Ee(D)&&(s[k]=D.bind(i))}if(n){const k=n.call(i,i);Ne(k)&&(e.data=Gn(k))}if(Sn=!0,o)for(const k in o){const D=o[k],L=Ee(D)?D.bind(i,i):Ee(D.get)?D.get.bind(i,i):Mt,M=!Ee(D)&&Ee(D.set)?D.set.bind(i):Mt,K=Be({get:L,set:M});Object.defineProperty(s,k,{enumerable:!0,configurable:!0,get:()=>K.value,set:ee=>K.value=ee})}if(r)for(const k in r)Tl(r[k],s,i,k);if(l){const k=Ee(l)?l.call(i):l;Reflect.ownKeys(k).forEach(D=>{Nd(D,k[D])})}u&&Yo(u,e,"c");function ie(k,D){be(D)?D.forEach(L=>k(L.bind(i))):D&&k(D.bind(i))}if(ie(qd,p),ie(os,f),ie(Kd,S),ie(Vd,b),ie(jd,_),ie(Wd,a),ie(Jd,y),ie(Xd,C),ie(Gd,T),ie(El,v),ie(Mr,m),ie(Yd,E),be(x))if(x.length){const k=e.exposed||(e.exposed={});x.forEach(D=>{Object.defineProperty(k,D,{get:()=>i[D],set:L=>i[D]=L})})}else e.exposed||(e.exposed={});w&&e.render===Mt&&(e.render=w),O!=null&&(e.inheritAttrs=O),P&&(e.components=P),I&&(e.directives=I)}function ru(e,t,i=Mt,s=!1){be(e)&&(e=wn(e));for(const n in e){const o=e[n];let c;Ne(o)?"default"in o?c=Gi(o.from||n,o.default,!0):c=Gi(o.from||n):c=Gi(o),ut(c)&&s?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>c.value,set:r=>c.value=r}):t[n]=c}}function Yo(e,t,i){Tt(be(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function Tl(e,t,i,s){const n=s.includes(".")?bl(i,s):()=>i[s];if(et(e)){const o=t[e];Ee(o)&&Gt(n,o)}else if(Ee(e))Gt(n,e.bind(i));else if(Ne(e))if(be(e))e.forEach(o=>Tl(o,t,i,s));else{const o=Ee(e.handler)?e.handler.bind(i):t[e.handler];Ee(o)&&Gt(n,o,e)}}function so(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,r=o.get(t);let l;return r?l=r:!n.length&&!i&&!s?l=t:(l={},n.length&&n.forEach(h=>mr(l,h,c,!0)),mr(l,t,c)),Ne(t)&&o.set(t,l),l}function mr(e,t,i,s=!1){const{mixins:n,extends:o}=t;o&&mr(e,o,i,!0),n&&n.forEach(c=>mr(e,c,i,!0));for(const c in t)if(!(s&&c==="expose")){const r=nu[c]||i&&i[c];e[c]=r?r(e[c],t[c]):t[c]}return e}const nu={data:Go,props:Ti,emits:Ti,methods:Ti,computed:Ti,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Ti,directives:Ti,watch:au,provide:Go,inject:ou};function Go(e,t){return t?e?function(){return pt(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function ou(e,t){return Ti(wn(e),wn(t))}function wn(e){if(be(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function vt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ti(e,t){return e?pt(pt(Object.create(null),e),t):t}function au(e,t){if(!e)return t;if(!t)return e;const i=pt(Object.create(null),e);for(const s in t)i[s]=vt(e[s],t[s]);return i}function lu(e,t,i,s=!1){const n={},o={};pr(o,Br,1),e.propsDefaults=Object.create(null),Dl(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);i?e.props=s?n:md(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function cu(e,t,i,s){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,r=Me(n),[l]=e.propsOptions;let h=!1;if((s||c>0)&&!(c&16)){if(c&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let f=u[p];if(Ar(e.emitsOptions,f))continue;const S=t[f];if(l)if(Pe(o,f))S!==o[f]&&(o[f]=S,h=!0);else{const b=jt(f);n[b]=Cn(l,r,b,S,e,!1)}else S!==o[f]&&(o[f]=S,h=!0)}}}else{Dl(e,t,n,o)&&(h=!0);let u;for(const p in r)(!t||!Pe(t,p)&&((u=$i(p))===p||!Pe(t,u)))&&(l?i&&(i[p]!==void 0||i[u]!==void 0)&&(n[p]=Cn(l,r,p,void 0,e,!0)):delete n[p]);if(o!==r)for(const p in o)(!t||!Pe(t,p)&&!0)&&(delete o[p],h=!0)}h&&Qt(e,"set","$attrs")}function Dl(e,t,i,s){const[n,o]=e.propsOptions;let c=!1,r;if(t)for(let l in t){if(or(l))continue;const h=t[l];let u;n&&Pe(n,u=jt(l))?!o||!o.includes(u)?i[u]=h:(r||(r={}))[u]=h:Ar(e.emitsOptions,l)||(!(l in s)||h!==s[l])&&(s[l]=h,c=!0)}if(o){const l=Me(i),h=r||$e;for(let u=0;u<o.length;u++){const p=o[u];i[p]=Cn(n,l,p,h[p],e,!Pe(h,p))}}return c}function Cn(e,t,i,s,n,o){const c=e[i];if(c!=null){const r=Pe(c,"default");if(r&&s===void 0){const l=c.default;if(c.type!==Function&&Ee(l)){const{propsDefaults:h}=n;i in h?s=h[i]:(Zi(n),s=h[i]=l.call(null,t),Mi())}else s=l}c[0]&&(o&&!r?s=!1:c[1]&&(s===""||s===$i(i))&&(s=!0))}return s}function Rl(e,t,i=!1){const s=t.propsCache,n=s.get(e);if(n)return n;const o=e.props,c={},r=[];let l=!1;if(!Ee(e)){const u=p=>{l=!0;const[f,S]=Rl(p,t,!0);pt(c,f),S&&r.push(...S)};!i&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Ne(e)&&s.set(e,qi),qi;if(be(o))for(let u=0;u<o.length;u++){const p=jt(o[u]);Xo(p)&&(c[p]=$e)}else if(o)for(const u in o){const p=jt(u);if(Xo(p)){const f=o[u],S=c[p]=be(f)||Ee(f)?{type:f}:Object.assign({},f);if(S){const b=Zo(Boolean,S.type),_=Zo(String,S.type);S[0]=b>-1,S[1]=_<0||b<_,(b>-1||Pe(S,"default"))&&r.push(p)}}}const h=[c,r];return Ne(e)&&s.set(e,h),h}function Xo(e){return e[0]!=="$"}function Jo(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Qo(e,t){return Jo(e)===Jo(t)}function Zo(e,t){return be(t)?t.findIndex(i=>Qo(i,e)):Ee(t)&&Qo(t,e)?0:-1}const Pl=e=>e[0]==="_"||e==="$stable",ro=e=>be(e)?e.map($t):[$t(e)],hu=(e,t,i)=>{if(t._n)return t;const s=De((...n)=>ro(t(...n)),i);return s._c=!1,s},Al=(e,t,i)=>{const s=e._ctx;for(const n in e){if(Pl(n))continue;const o=e[n];if(Ee(o))t[n]=hu(n,o,s);else if(o!=null){const c=ro(o);t[n]=()=>c}}},Ll=(e,t)=>{const i=ro(t);e.slots.default=()=>i},du=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=Me(t),pr(t,"_",i)):Al(t,e.slots={})}else e.slots={},t&&Ll(e,t);pr(e.slots,Br,1)},uu=(e,t,i)=>{const{vnode:s,slots:n}=e;let o=!0,c=$e;if(s.shapeFlag&32){const r=t._;r?i&&r===1?o=!1:(pt(n,t),!i&&r===1&&delete n._):(o=!t.$stable,Al(t,n)),c=t}else t&&(Ll(e,t),c={default:1});if(o)for(const r in n)!Pl(r)&&!(r in c)&&delete n[r]};function Ol(){return{app:null,config:{isNativeTag:Fh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fu=0;function pu(e,t){return function(s,n=null){Ee(s)||(s=Object.assign({},s)),n!=null&&!Ne(n)&&(n=null);const o=Ol(),c=new Set;let r=!1;const l=o.app={_uid:fu++,_component:s,_props:n,_container:null,_context:o,_instance:null,version:Fu,get config(){return o.config},set config(h){},use(h,...u){return c.has(h)||(h&&Ee(h.install)?(c.add(h),h.install(l,...u)):Ee(h)&&(c.add(h),h(l,...u))),l},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),l},component(h,u){return u?(o.components[h]=u,l):o.components[h]},directive(h,u){return u?(o.directives[h]=u,l):o.directives[h]},mount(h,u,p){if(!r){const f=fe(s,n);return f.appContext=o,u&&t?t(f,h):e(f,h,p),r=!0,l._container=h,h.__vue_app__=l,Fr(f.component)||f.component.proxy}},unmount(){r&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,u){return o.provides[h]=u,l}};return l}}function En(e,t,i,s,n=!1){if(be(e)){e.forEach((f,S)=>En(f,t&&(be(t)?t[S]:t),i,s,n));return}if(Cs(s)&&!n)return;const o=s.shapeFlag&4?Fr(s.component)||s.component.proxy:s.el,c=n?null:o,{i:r,r:l}=e,h=t&&t.r,u=r.refs===$e?r.refs={}:r.refs,p=r.setupState;if(h!=null&&h!==l&&(et(h)?(u[h]=null,Pe(p,h)&&(p[h]=null)):ut(h)&&(h.value=null)),Ee(l))fi(l,r,12,[c,u]);else{const f=et(l),S=ut(l);if(f||S){const b=()=>{if(e.f){const _=f?Pe(p,l)?p[l]:u[l]:l.value;n?be(_)&&jn(_,o):be(_)?_.includes(o)||_.push(o):f?(u[l]=[o],Pe(p,l)&&(p[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else f?(u[l]=c,Pe(p,l)&&(p[l]=c)):S&&(l.value=c,e.k&&(u[e.k]=c))};c?(b.id=-1,bt(b,i)):b()}}}const bt=Fd;function _u(e){return gu(e)}function gu(e,t){const i=Wh();i.__VUE__=!0;const{insert:s,remove:n,patchProp:o,createElement:c,createText:r,createComment:l,setText:h,setElementText:u,parentNode:p,nextSibling:f,setScopeId:S=Mt,insertStaticContent:b}=e,_=(R,F,z,X=null,Y=null,le=null,J=!1,W=null,ce=!!F.dynamicChildren)=>{if(R===F)return;R&&!Pi(R,F)&&(X=B(R),ee(R,Y,le,!0),R=null),F.patchFlag===-2&&(ce=!1,F.dynamicChildren=null);const{type:Q,ref:de,shapeFlag:he}=F;switch(Q){case Ir:a(R,F,z,X);break;case Dt:g(R,F,z,X);break;case tn:R==null&&v(F,z,X,J);break;case xe:P(R,F,z,X,Y,le,J,W,ce);break;default:he&1?w(R,F,z,X,Y,le,J,W,ce):he&6?I(R,F,z,X,Y,le,J,W,ce):(he&64||he&128)&&Q.process(R,F,z,X,Y,le,J,W,ce,te)}de!=null&&Y&&En(de,R&&R.ref,le,F||R,!F)},a=(R,F,z,X)=>{if(R==null)s(F.el=r(F.children),z,X);else{const Y=F.el=R.el;F.children!==R.children&&h(Y,F.children)}},g=(R,F,z,X)=>{R==null?s(F.el=l(F.children||""),z,X):F.el=R.el},v=(R,F,z,X)=>{[R.el,R.anchor]=b(R.children,F,z,X,R.el,R.anchor)},d=({el:R,anchor:F},z,X)=>{let Y;for(;R&&R!==F;)Y=f(R),s(R,z,X),R=Y;s(F,z,X)},m=({el:R,anchor:F})=>{let z;for(;R&&R!==F;)z=f(R),n(R),R=z;n(F)},w=(R,F,z,X,Y,le,J,W,ce)=>{J=J||F.type==="svg",R==null?C(F,z,X,Y,le,J,W,ce):E(R,F,Y,le,J,W,ce)},C=(R,F,z,X,Y,le,J,W)=>{let ce,Q;const{type:de,props:he,shapeFlag:ge,transition:Se,dirs:ke}=R;if(ce=R.el=c(R.type,le,he&&he.is,he),ge&8?u(ce,R.children):ge&16&&y(R.children,ce,null,X,Y,le&&de!=="foreignObject",J,W),ke&&Ci(R,null,X,"created"),he){for(const Le in he)Le!=="value"&&!or(Le)&&o(ce,Le,null,he[Le],le,R.children,X,Y,N);"value"in he&&o(ce,"value",null,he.value),(Q=he.onVnodeBeforeMount)&&Bt(Q,X,R)}T(ce,R,R.scopeId,J,X),ke&&Ci(R,null,X,"beforeMount");const Oe=(!Y||Y&&!Y.pendingBranch)&&Se&&!Se.persisted;Oe&&Se.beforeEnter(ce),s(ce,F,z),((Q=he&&he.onVnodeMounted)||Oe||ke)&&bt(()=>{Q&&Bt(Q,X,R),Oe&&Se.enter(ce),ke&&Ci(R,null,X,"mounted")},Y)},T=(R,F,z,X,Y)=>{if(z&&S(R,z),X)for(let le=0;le<X.length;le++)S(R,X[le]);if(Y){let le=Y.subTree;if(F===le){const J=Y.vnode;T(R,J,J.scopeId,J.slotScopeIds,Y.parent)}}},y=(R,F,z,X,Y,le,J,W,ce=0)=>{for(let Q=ce;Q<R.length;Q++){const de=R[Q]=W?hi(R[Q]):$t(R[Q]);_(null,de,F,z,X,Y,le,J,W)}},E=(R,F,z,X,Y,le,J)=>{const W=F.el=R.el;let{patchFlag:ce,dynamicChildren:Q,dirs:de}=F;ce|=R.patchFlag&16;const he=R.props||$e,ge=F.props||$e;let Se;z&&Ei(z,!1),(Se=ge.onVnodeBeforeUpdate)&&Bt(Se,z,F,R),de&&Ci(F,R,z,"beforeUpdate"),z&&Ei(z,!0);const ke=Y&&F.type!=="foreignObject";if(Q?x(R.dynamicChildren,Q,W,z,X,ke,le):J||D(R,F,W,null,z,X,ke,le,!1),ce>0){if(ce&16)O(W,F,he,ge,z,X,Y);else if(ce&2&&he.class!==ge.class&&o(W,"class",null,ge.class,Y),ce&4&&o(W,"style",he.style,ge.style,Y),ce&8){const Oe=F.dynamicProps;for(let Le=0;Le<Oe.length;Le++){const je=Oe[Le],Ke=he[je],Wt=ge[je];(Wt!==Ke||je==="value")&&o(W,je,Ke,Wt,Y,R.children,z,X,N)}}ce&1&&R.children!==F.children&&u(W,F.children)}else!J&&Q==null&&O(W,F,he,ge,z,X,Y);((Se=ge.onVnodeUpdated)||de)&&bt(()=>{Se&&Bt(Se,z,F,R),de&&Ci(F,R,z,"updated")},X)},x=(R,F,z,X,Y,le,J)=>{for(let W=0;W<F.length;W++){const ce=R[W],Q=F[W],de=ce.el&&(ce.type===xe||!Pi(ce,Q)||ce.shapeFlag&70)?p(ce.el):z;_(ce,Q,de,null,X,Y,le,J,!0)}},O=(R,F,z,X,Y,le,J)=>{if(z!==X){if(z!==$e)for(const W in z)!or(W)&&!(W in X)&&o(R,W,z[W],null,J,F.children,Y,le,N);for(const W in X){if(or(W))continue;const ce=X[W],Q=z[W];ce!==Q&&W!=="value"&&o(R,W,Q,ce,J,F.children,Y,le,N)}"value"in X&&o(R,"value",z.value,X.value)}},P=(R,F,z,X,Y,le,J,W,ce)=>{const Q=F.el=R?R.el:r(""),de=F.anchor=R?R.anchor:r("");let{patchFlag:he,dynamicChildren:ge,slotScopeIds:Se}=F;Se&&(W=W?W.concat(Se):Se),R==null?(s(Q,z,X),s(de,z,X),y(F.children,z,de,Y,le,J,W,ce)):he>0&&he&64&&ge&&R.dynamicChildren?(x(R.dynamicChildren,ge,z,Y,le,J,W),(F.key!=null||Y&&F===Y.subTree)&&no(R,F,!0)):D(R,F,z,de,Y,le,J,W,ce)},I=(R,F,z,X,Y,le,J,W,ce)=>{F.slotScopeIds=W,R==null?F.shapeFlag&512?Y.ctx.activate(F,z,X,J,ce):G(F,z,X,Y,le,J,ce):re(R,F,ce)},G=(R,F,z,X,Y,le,J)=>{const W=R.component=Tu(R,X,Y);if(Lr(R)&&(W.ctx.renderer=te),Ru(W),W.asyncDep){if(Y&&Y.registerDep(W,ie),!R.el){const ce=W.subTree=fe(Dt);g(null,ce,F,z)}return}ie(W,R,F,z,Y,le,J)},re=(R,F,z)=>{const X=F.component=R.component;if(Md(R,F,z))if(X.asyncDep&&!X.asyncResolved){k(X,F,z);return}else X.next=F,Dd(X.update),X.update();else F.el=R.el,X.vnode=F},ie=(R,F,z,X,Y,le,J)=>{const W=()=>{if(R.isMounted){let{next:de,bu:he,u:ge,parent:Se,vnode:ke}=R,Oe=de,Le;Ei(R,!1),de?(de.el=ke.el,k(R,de,J)):de=ke,he&&lr(he),(Le=de.props&&de.props.onVnodeBeforeUpdate)&&Bt(Le,Se,de,ke),Ei(R,!0);const je=Jr(R),Ke=R.subTree;R.subTree=je,_(Ke,je,p(Ke.el),B(Ke),R,Y,le),de.el=je.el,Oe===null&&Id(R,je.el),ge&&bt(ge,Y),(Le=de.props&&de.props.onVnodeUpdated)&&bt(()=>Bt(Le,Se,de,ke),Y)}else{let de;const{el:he,props:ge}=F,{bm:Se,m:ke,parent:Oe}=R,Le=Cs(F);if(Ei(R,!1),Se&&lr(Se),!Le&&(de=ge&&ge.onVnodeBeforeMount)&&Bt(de,Oe,F),Ei(R,!0),he&&Re){const je=()=>{R.subTree=Jr(R),Re(he,R.subTree,R,Y,null)};Le?F.type.__asyncLoader().then(()=>!R.isUnmounted&&je()):je()}else{const je=R.subTree=Jr(R);_(null,je,z,X,R,Y,le),F.el=je.el}if(ke&&bt(ke,Y),!Le&&(de=ge&&ge.onVnodeMounted)){const je=F;bt(()=>Bt(de,Oe,je),Y)}(F.shapeFlag&256||Oe&&Cs(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&R.a&&bt(R.a,Y),R.isMounted=!0,F=z=X=null}},ce=R.effect=new qn(W,()=>eo(Q),R.scope),Q=R.update=()=>ce.run();Q.id=R.uid,Ei(R,!0),Q()},k=(R,F,z)=>{F.component=R;const X=R.vnode.props;R.vnode=F,R.next=null,cu(R,F.props,X,z),uu(R,F.children,z),rs(),zo(),ns()},D=(R,F,z,X,Y,le,J,W,ce=!1)=>{const Q=R&&R.children,de=R?R.shapeFlag:0,he=F.children,{patchFlag:ge,shapeFlag:Se}=F;if(ge>0){if(ge&128){M(Q,he,z,X,Y,le,J,W,ce);return}else if(ge&256){L(Q,he,z,X,Y,le,J,W,ce);return}}Se&8?(de&16&&N(Q,Y,le),he!==Q&&u(z,he)):de&16?Se&16?M(Q,he,z,X,Y,le,J,W,ce):N(Q,Y,le,!0):(de&8&&u(z,""),Se&16&&y(he,z,X,Y,le,J,W,ce))},L=(R,F,z,X,Y,le,J,W,ce)=>{R=R||qi,F=F||qi;const Q=R.length,de=F.length,he=Math.min(Q,de);let ge;for(ge=0;ge<he;ge++){const Se=F[ge]=ce?hi(F[ge]):$t(F[ge]);_(R[ge],Se,z,null,Y,le,J,W,ce)}Q>de?N(R,Y,le,!0,!1,he):y(F,z,X,Y,le,J,W,ce,he)},M=(R,F,z,X,Y,le,J,W,ce)=>{let Q=0;const de=F.length;let he=R.length-1,ge=de-1;for(;Q<=he&&Q<=ge;){const Se=R[Q],ke=F[Q]=ce?hi(F[Q]):$t(F[Q]);if(Pi(Se,ke))_(Se,ke,z,null,Y,le,J,W,ce);else break;Q++}for(;Q<=he&&Q<=ge;){const Se=R[he],ke=F[ge]=ce?hi(F[ge]):$t(F[ge]);if(Pi(Se,ke))_(Se,ke,z,null,Y,le,J,W,ce);else break;he--,ge--}if(Q>he){if(Q<=ge){const Se=ge+1,ke=Se<de?F[Se].el:X;for(;Q<=ge;)_(null,F[Q]=ce?hi(F[Q]):$t(F[Q]),z,ke,Y,le,J,W,ce),Q++}}else if(Q>ge)for(;Q<=he;)ee(R[Q],Y,le,!0),Q++;else{const Se=Q,ke=Q,Oe=new Map;for(Q=ke;Q<=ge;Q++){const nt=F[Q]=ce?hi(F[Q]):$t(F[Q]);nt.key!=null&&Oe.set(nt.key,Q)}let Le,je=0;const Ke=ge-ke+1;let Wt=!1,cs=0;const mi=new Array(Ke);for(Q=0;Q<Ke;Q++)mi[Q]=0;for(Q=Se;Q<=he;Q++){const nt=R[Q];if(je>=Ke){ee(nt,Y,le,!0);continue}let yt;if(nt.key!=null)yt=Oe.get(nt.key);else for(Le=ke;Le<=ge;Le++)if(mi[Le-ke]===0&&Pi(nt,F[Le])){yt=Le;break}yt===void 0?ee(nt,Y,le,!0):(mi[yt-ke]=Q+1,yt>=cs?cs=yt:Wt=!0,_(nt,F[yt],z,null,Y,le,J,W,ce),je++)}const hs=Wt?mu(mi):qi;for(Le=hs.length-1,Q=Ke-1;Q>=0;Q--){const nt=ke+Q,yt=F[nt],ds=nt+1<de?F[nt+1].el:X;mi[Q]===0?_(null,yt,z,ds,Y,le,J,W,ce):Wt&&(Le<0||Q!==hs[Le]?K(yt,z,ds,2):Le--)}}},K=(R,F,z,X,Y=null)=>{const{el:le,type:J,transition:W,children:ce,shapeFlag:Q}=R;if(Q&6){K(R.component.subTree,F,z,X);return}if(Q&128){R.suspense.move(F,z,X);return}if(Q&64){J.move(R,F,z,te);return}if(J===xe){s(le,F,z);for(let he=0;he<ce.length;he++)K(ce[he],F,z,X);s(R.anchor,F,z);return}if(J===tn){d(R,F,z);return}if(X!==2&&Q&1&&W)if(X===0)W.beforeEnter(le),s(le,F,z),bt(()=>W.enter(le),Y);else{const{leave:he,delayLeave:ge,afterLeave:Se}=W,ke=()=>s(le,F,z),Oe=()=>{he(le,()=>{ke(),Se&&Se()})};ge?ge(le,ke,Oe):Oe()}else s(le,F,z)},ee=(R,F,z,X=!1,Y=!1)=>{const{type:le,props:J,ref:W,children:ce,dynamicChildren:Q,shapeFlag:de,patchFlag:he,dirs:ge}=R;if(W!=null&&En(W,null,z,R,!0),de&256){F.ctx.deactivate(R);return}const Se=de&1&&ge,ke=!Cs(R);let Oe;if(ke&&(Oe=J&&J.onVnodeBeforeUnmount)&&Bt(Oe,F,R),de&6)oe(R.component,z,X);else{if(de&128){R.suspense.unmount(z,X);return}Se&&Ci(R,null,F,"beforeUnmount"),de&64?R.type.remove(R,F,z,Y,te,X):Q&&(le!==xe||he>0&&he&64)?N(Q,F,z,!1,!0):(le===xe&&he&384||!Y&&de&16)&&N(ce,F,z),X&&me(R)}(ke&&(Oe=J&&J.onVnodeUnmounted)||Se)&&bt(()=>{Oe&&Bt(Oe,F,R),Se&&Ci(R,null,F,"unmounted")},z)},me=R=>{const{type:F,el:z,anchor:X,transition:Y}=R;if(F===xe){ne(z,X);return}if(F===tn){m(R);return}const le=()=>{n(z),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(R.shapeFlag&1&&Y&&!Y.persisted){const{leave:J,delayLeave:W}=Y,ce=()=>J(z,le);W?W(R.el,le,ce):ce()}else le()},ne=(R,F)=>{let z;for(;R!==F;)z=f(R),n(R),R=z;n(F)},oe=(R,F,z)=>{const{bum:X,scope:Y,update:le,subTree:J,um:W}=R;X&&lr(X),Y.stop(),le&&(le.active=!1,ee(J,R,F,z)),W&&bt(W,F),bt(()=>{R.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},N=(R,F,z,X=!1,Y=!1,le=0)=>{for(let J=le;J<R.length;J++)ee(R[J],F,z,X,Y)},B=R=>R.shapeFlag&6?B(R.component.subTree):R.shapeFlag&128?R.suspense.next():f(R.anchor||R.el),$=(R,F,z)=>{R==null?F._vnode&&ee(F._vnode,null,null,!0):_(F._vnode||null,R,F,null,null,null,z),zo(),pl(),F._vnode=R},te={p:_,um:ee,m:K,r:me,mt:G,mc:y,pc:D,pbc:x,n:B,o:e};let ae,Re;return t&&([ae,Re]=t(te)),{render:$,hydrate:ae,createApp:pu($,ae)}}function Ei({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function no(e,t,i=!1){const s=e.children,n=t.children;if(be(s)&&be(n))for(let o=0;o<s.length;o++){const c=s[o];let r=n[o];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[o]=hi(n[o]),r.el=c.el),i||no(c,r)),r.type===Ir&&(r.el=c.el)}}function mu(e){const t=e.slice(),i=[0];let s,n,o,c,r;const l=e.length;for(s=0;s<l;s++){const h=e[s];if(h!==0){if(n=i[i.length-1],e[n]<h){t[s]=n,i.push(s);continue}for(o=0,c=i.length-1;o<c;)r=o+c>>1,e[i[r]]<h?o=r+1:c=r;h<e[i[o]]&&(o>0&&(t[s]=i[o-1]),i[o]=s)}}for(o=i.length,c=i[o-1];o-- >0;)i[o]=c,c=t[c];return i}const vu=e=>e.__isTeleport,ks=e=>e&&(e.disabled||e.disabled===""),ea=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kn=(e,t)=>{const i=e&&e.to;return et(i)?t?t(i):null:i},bu={__isTeleport:!0,process(e,t,i,s,n,o,c,r,l,h){const{mc:u,pc:p,pbc:f,o:{insert:S,querySelector:b,createText:_,createComment:a}}=h,g=ks(t.props);let{shapeFlag:v,children:d,dynamicChildren:m}=t;if(e==null){const w=t.el=_(""),C=t.anchor=_("");S(w,i,s),S(C,i,s);const T=t.target=kn(t.props,b),y=t.targetAnchor=_("");T&&(S(y,T),c=c||ea(T));const E=(x,O)=>{v&16&&u(d,x,O,n,o,c,r,l)};g?E(i,C):T&&E(T,y)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,T=t.targetAnchor=e.targetAnchor,y=ks(e.props),E=y?i:C,x=y?w:T;if(c=c||ea(C),m?(f(e.dynamicChildren,m,E,n,o,c,r),no(e,t,!0)):l||p(e,t,E,x,n,o,c,r,!1),g)y||tr(t,i,w,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=kn(t.props,b);O&&tr(t,O,null,h,0)}else y&&tr(t,C,T,h,1)}Ml(t)},remove(e,t,i,s,{um:n,o:{remove:o}},c){const{shapeFlag:r,children:l,anchor:h,targetAnchor:u,target:p,props:f}=e;if(p&&o(u),(c||!ks(f))&&(o(h),r&16))for(let S=0;S<l.length;S++){const b=l[S];n(b,t,i,!0,!!b.dynamicChildren)}},move:tr,hydrate:yu};function tr(e,t,i,{o:{insert:s},m:n},o=2){o===0&&s(e.targetAnchor,t,i);const{el:c,anchor:r,shapeFlag:l,children:h,props:u}=e,p=o===2;if(p&&s(c,t,i),(!p||ks(u))&&l&16)for(let f=0;f<h.length;f++)n(h[f],t,i,2);p&&s(r,t,i)}function yu(e,t,i,s,n,o,{o:{nextSibling:c,parentNode:r,querySelector:l}},h){const u=t.target=kn(t.props,l);if(u){const p=u._lpa||u.firstChild;if(t.shapeFlag&16)if(ks(t.props))t.anchor=h(c(e),t,r(e),i,s,n,o),t.targetAnchor=p;else{t.anchor=c(e);let f=p;for(;f;)if(f=c(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&c(t.targetAnchor);break}h(p,t,u,i,s,n,o)}Ml(t)}return t.anchor&&c(t.anchor)}const Su=bu;function Ml(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const xe=Symbol(void 0),Ir=Symbol(void 0),Dt=Symbol(void 0),tn=Symbol(void 0),xs=[];let Ot=null;function j(e=!1){xs.push(Ot=e?null:[])}function wu(){xs.pop(),Ot=xs[xs.length-1]||null}let Ms=1;function ta(e){Ms+=e}function Il(e){return e.dynamicChildren=Ms>0?Ot||qi:null,wu(),Ms>0&&Ot&&Ot.push(e),e}function V(e,t,i,s,n,o){return Il(U(e,t,i,s,n,o,!0))}function tt(e,t,i,s,n){return Il(fe(e,t,i,s,n,!0))}function vr(e){return e?e.__v_isVNode===!0:!1}function Pi(e,t){return e.type===t.type&&e.key===t.key}const Br="__vInternal",Bl=({key:e})=>e!=null?e:null,cr=({ref:e,ref_key:t,ref_for:i})=>e!=null?et(e)||ut(e)||Ee(e)?{i:ft,r:e,k:t,f:!!i}:e:null;function U(e,t=null,i=null,s=0,n=null,o=e===xe?0:1,c=!1,r=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bl(t),ref:t&&cr(t),scopeId:ml,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ft};return r?(oo(l,i),o&128&&e.normalize(l)):i&&(l.shapeFlag|=et(i)?8:16),Ms>0&&!c&&Ot&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ot.push(l),l}const fe=Cu;function Cu(e,t=null,i=null,s=0,n=null,o=!1){if((!e||e===kl)&&(e=Dt),vr(e)){const r=_i(e,t,!0);return i&&oo(r,i),Ms>0&&!o&&Ot&&(r.shapeFlag&6?Ot[Ot.indexOf(e)]=r:Ot.push(r)),r.patchFlag|=-2,r}if(Mu(e)&&(e=e.__vccOpts),t){t=Eu(t);let{class:r,style:l}=t;r&&!et(r)&&(t.class=ve(r)),Ne(l)&&(al(l)&&!be(l)&&(l=pt({},l)),t.style=Hi(l))}const c=et(e)?1:Bd(e)?128:vu(e)?64:Ne(e)?4:Ee(e)?2:0;return U(e,t,i,s,n,c,o,!0)}function Eu(e){return e?al(e)||Br in e?pt({},e):e:null}function _i(e,t,i=!1){const{props:s,ref:n,patchFlag:o,children:c}=e,r=t?xn(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&Bl(r),ref:t&&t.ref?i&&n?be(n)?n.concat(cr(t)):[n,cr(t)]:cr(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_i(e.ssContent),ssFallback:e.ssFallback&&_i(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Ge(e=" ",t=0){return fe(Ir,null,e,t)}function ue(e="",t=!1){return t?(j(),tt(Dt,null,e)):fe(Dt,null,e)}function $t(e){return e==null||typeof e=="boolean"?fe(Dt):be(e)?fe(xe,null,e.slice()):typeof e=="object"?hi(e):fe(Ir,null,String(e))}function hi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_i(e)}function oo(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(be(t))i=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),oo(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!(Br in t)?t._ctx=ft:n===3&&ft&&(ft.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:ft},i=32):(t=String(t),s&64?(i=16,t=[Ge(t)]):i=8);e.children=t,e.shapeFlag|=i}function xn(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=ve([t.class,s.class]));else if(n==="style")t.style=Hi([t.style,s.style]);else if(Er(n)){const o=t[n],c=s[n];c&&o!==c&&!(be(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=s[n])}return t}function Bt(e,t,i,s=null){Tt(e,t,7,[i,s])}const ku=Ol();let xu=0;function Tu(e,t,i){const s=e.type,n=(t?t.appContext:e.appContext)||ku,o={uid:xu++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new zh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rl(s,n),emitsOptions:gl(s,n),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ad.bind(null,o),e.ce&&e.ce(o),o}let at=null;const Du=()=>at||ft,Zi=e=>{at=e,e.scope.on()},Mi=()=>{at&&at.scope.off(),at=null};function Fl(e){return e.vnode.shapeFlag&4}let Is=!1;function Ru(e,t=!1){Is=t;const{props:i,children:s}=e.vnode,n=Fl(e);lu(e,i,n,t),du(e,s);const o=n?Pu(e,t):void 0;return Is=!1,o}function Pu(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Jn(new Proxy(e.ctx,iu));const{setup:s}=i;if(s){const n=e.setupContext=s.length>1?Lu(e):null;Zi(e),rs();const o=fi(s,e,0,[e.props,n]);if(ns(),Mi(),Ya(o)){if(o.then(Mi,Mi),t)return o.then(c=>{ia(e,c,t)}).catch(c=>{Rr(c,e,0)});e.asyncDep=o}else ia(e,o,t)}else Nl(e,t)}function ia(e,t,i){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=hl(t)),Nl(e,i)}let sa;function Nl(e,t,i){const s=e.type;if(!e.render){if(!t&&sa&&!s.render){const n=s.template||so(e).template;if(n){const{isCustomElement:o,compilerOptions:c}=e.appContext.config,{delimiters:r,compilerOptions:l}=s,h=pt(pt({isCustomElement:o,delimiters:r},c),l);s.render=sa(n,h)}}e.render=s.render||Mt}Zi(e),rs(),su(e),ns(),Mi()}function Au(e){return new Proxy(e.attrs,{get(t,i){return Ct(e,"get","$attrs"),t[i]}})}function Lu(e){const t=s=>{e.exposed=s||{}};let i;return{get attrs(){return i||(i=Au(e))},slots:e.slots,emit:e.emit,expose:t}}function Fr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(hl(Jn(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Es)return Es[i](e)},has(t,i){return i in t||i in Es}}))}function Ou(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Mu(e){return Ee(e)&&"__vccOpts"in e}const Be=(e,t)=>kd(e,t,Is);function Hl(e,t,i){const s=arguments.length;return s===2?Ne(t)&&!be(t)?vr(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&vr(i)&&(i=[i]),fe(e,t,i))}const Iu=Symbol(""),Bu=()=>Gi(Iu),Fu="3.2.45",Nu="http://www.w3.org/2000/svg",Ai=typeof document<"u"?document:null,ra=Ai&&Ai.createElement("template"),Hu={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const n=t?Ai.createElementNS(Nu,e):Ai.createElement(e,i?{is:i}:void 0);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>Ai.createTextNode(e),createComment:e=>Ai.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ai.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,n,o){const c=i?i.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===o||!(n=n.nextSibling)););else{ra.innerHTML=s?`<svg>${e}</svg>`:e;const r=ra.content;if(s){const l=r.firstChild;for(;l.firstChild;)r.appendChild(l.firstChild);r.removeChild(l)}t.insertBefore(r,i)}return[c?c.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function $u(e,t,i){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function Uu(e,t,i){const s=e.style,n=et(i);if(i&&!n){for(const o in i)Tn(s,o,i[o]);if(t&&!et(t))for(const o in t)i[o]==null&&Tn(s,o,"")}else{const o=s.display;n?t!==i&&(s.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=o)}}const na=/\s*!important$/;function Tn(e,t,i){if(be(i))i.forEach(s=>Tn(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=ju(e,t);na.test(i)?e.setProperty($i(s),i.replace(na,""),"important"):e[s]=i}}const oa=["Webkit","Moz","ms"],sn={};function ju(e,t){const i=sn[t];if(i)return i;let s=jt(t);if(s!=="filter"&&s in e)return sn[t]=s;s=xr(s);for(let n=0;n<oa.length;n++){const o=oa[n]+s;if(o in e)return sn[t]=o}return t}const aa="http://www.w3.org/1999/xlink";function Wu(e,t,i,s,n){if(s&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(aa,t.slice(6,t.length)):e.setAttributeNS(aa,t,i);else{const o=Ih(t);i==null||o&&!Ka(i)?e.removeAttribute(t):e.setAttribute(t,o?"":i)}}function zu(e,t,i,s,n,o,c){if(t==="innerHTML"||t==="textContent"){s&&c(s,n,o),e[t]=i==null?"":i;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const l=i==null?"":i;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),i==null&&e.removeAttribute(t);return}let r=!1;if(i===""||i==null){const l=typeof e[t];l==="boolean"?i=Ka(i):i==null&&l==="string"?(i="",r=!0):l==="number"&&(i=0,r=!0)}try{e[t]=i}catch{}r&&e.removeAttribute(t)}function Vt(e,t,i,s){e.addEventListener(t,i,s)}function qu(e,t,i,s){e.removeEventListener(t,i,s)}function Ku(e,t,i,s,n=null){const o=e._vei||(e._vei={}),c=o[t];if(s&&c)c.value=s;else{const[r,l]=Vu(t);if(s){const h=o[t]=Xu(s,n);Vt(e,r,h,l)}else c&&(qu(e,r,c,l),o[t]=void 0)}}const la=/(?:Once|Passive|Capture)$/;function Vu(e){let t;if(la.test(e)){t={};let s;for(;s=e.match(la);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$i(e.slice(2)),t]}let rn=0;const Yu=Promise.resolve(),Gu=()=>rn||(Yu.then(()=>rn=0),rn=Date.now());function Xu(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Tt(Ju(s,i.value),t,5,[s])};return i.value=e,i.attached=Gu(),i}function Ju(e,t){if(be(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const ca=/^on[a-z]/,Qu=(e,t,i,s,n=!1,o,c,r,l)=>{t==="class"?$u(e,s,n):t==="style"?Uu(e,i,s):Er(t)?Un(t)||Ku(e,t,i,s,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zu(e,t,s,n))?zu(e,t,s,o,c,r,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wu(e,t,s,n))};function Zu(e,t,i,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&ca.test(t)&&Ee(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ca.test(t)&&et(i)?!1:t in e}const ni="transition",gs="animation",ao=(e,{slots:t})=>Hl(yl,ef(e),t);ao.displayName="Transition";const $l={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ao.props=pt({},yl.props,$l);const ki=(e,t=[])=>{be(e)?e.forEach(i=>i(...t)):e&&e(...t)},ha=e=>e?be(e)?e.some(t=>t.length>1):e.length>1:!1;function ef(e){const t={};for(const P in e)P in $l||(t[P]=e[P]);if(e.css===!1)return t;const{name:i="v",type:s,duration:n,enterFromClass:o=`${i}-enter-from`,enterActiveClass:c=`${i}-enter-active`,enterToClass:r=`${i}-enter-to`,appearFromClass:l=o,appearActiveClass:h=c,appearToClass:u=r,leaveFromClass:p=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:S=`${i}-leave-to`}=e,b=tf(n),_=b&&b[0],a=b&&b[1],{onBeforeEnter:g,onEnter:v,onEnterCancelled:d,onLeave:m,onLeaveCancelled:w,onBeforeAppear:C=g,onAppear:T=v,onAppearCancelled:y=d}=t,E=(P,I,G)=>{xi(P,I?u:r),xi(P,I?h:c),G&&G()},x=(P,I)=>{P._isLeaving=!1,xi(P,p),xi(P,S),xi(P,f),I&&I()},O=P=>(I,G)=>{const re=P?T:v,ie=()=>E(I,P,G);ki(re,[I,ie]),da(()=>{xi(I,P?l:o),oi(I,P?u:r),ha(re)||ua(I,s,_,ie)})};return pt(t,{onBeforeEnter(P){ki(g,[P]),oi(P,o),oi(P,c)},onBeforeAppear(P){ki(C,[P]),oi(P,l),oi(P,h)},onEnter:O(!1),onAppear:O(!0),onLeave(P,I){P._isLeaving=!0;const G=()=>x(P,I);oi(P,p),nf(),oi(P,f),da(()=>{!P._isLeaving||(xi(P,p),oi(P,S),ha(m)||ua(P,s,a,G))}),ki(m,[P,G])},onEnterCancelled(P){E(P,!1),ki(d,[P])},onAppearCancelled(P){E(P,!0),ki(y,[P])},onLeaveCancelled(P){x(P),ki(w,[P])}})}function tf(e){if(e==null)return null;if(Ne(e))return[nn(e.enter),nn(e.leave)];{const t=nn(e);return[t,t]}}function nn(e){return Ji(e)}function oi(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function xi(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function da(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let sf=0;function ua(e,t,i,s){const n=e._endId=++sf,o=()=>{n===e._endId&&s()};if(i)return setTimeout(o,i);const{type:c,timeout:r,propCount:l}=rf(e,t);if(!c)return s();const h=c+"end";let u=0;const p=()=>{e.removeEventListener(h,f),o()},f=S=>{S.target===e&&++u>=l&&p()};setTimeout(()=>{u<l&&p()},r+1),e.addEventListener(h,f)}function rf(e,t){const i=window.getComputedStyle(e),s=b=>(i[b]||"").split(", "),n=s(`${ni}Delay`),o=s(`${ni}Duration`),c=fa(n,o),r=s(`${gs}Delay`),l=s(`${gs}Duration`),h=fa(r,l);let u=null,p=0,f=0;t===ni?c>0&&(u=ni,p=c,f=o.length):t===gs?h>0&&(u=gs,p=h,f=l.length):(p=Math.max(c,h),u=p>0?c>h?ni:gs:null,f=u?u===ni?o.length:l.length:0);const S=u===ni&&/\b(transform|all)(,|$)/.test(s(`${ni}Property`).toString());return{type:u,timeout:p,propCount:f,hasTransform:S}}function fa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,s)=>pa(i)+pa(e[s])))}function pa(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function nf(){return document.body.offsetHeight}const gi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return be(t)?i=>lr(t,i):t};function of(e){e.target.composing=!0}function _a(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lo={created(e,{modifiers:{lazy:t,trim:i,number:s}},n){e._assign=gi(n);const o=s||n.props&&n.props.type==="number";Vt(e,t?"change":"input",c=>{if(c.target.composing)return;let r=e.value;i&&(r=r.trim()),o&&(r=Ji(r)),e._assign(r)}),i&&Vt(e,"change",()=>{e.value=e.value.trim()}),t||(Vt(e,"compositionstart",of),Vt(e,"compositionend",_a),Vt(e,"change",_a))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:s,number:n}},o){if(e._assign=gi(o),e.composing||document.activeElement===e&&e.type!=="range"&&(i||s&&e.value.trim()===t||(n||e.type==="number")&&Ji(e.value)===t))return;const c=t==null?"":t;e.value!==c&&(e.value=c)}},af={deep:!0,created(e,t,i){e._assign=gi(i),Vt(e,"change",()=>{const s=e._modelValue,n=es(e),o=e.checked,c=e._assign;if(be(s)){const r=$n(s,n),l=r!==-1;if(o&&!l)c(s.concat(n));else if(!o&&l){const h=[...s];h.splice(r,1),c(h)}}else if(ss(s)){const r=new Set(s);o?r.add(n):r.delete(n),c(r)}else c(Ul(e,o))})},mounted:ga,beforeUpdate(e,t,i){e._assign=gi(i),ga(e,t,i)}};function ga(e,{value:t,oldValue:i},s){e._modelValue=t,be(t)?e.checked=$n(t,s.props.value)>-1:ss(t)?e.checked=t.has(s.props.value):t!==i&&(e.checked=Bi(t,Ul(e,!0)))}const lf={created(e,{value:t},i){e.checked=Bi(t,i.props.value),e._assign=gi(i),Vt(e,"change",()=>{e._assign(es(e))})},beforeUpdate(e,{value:t,oldValue:i},s){e._assign=gi(s),t!==i&&(e.checked=Bi(t,s.props.value))}},Dn={deep:!0,created(e,{value:t,modifiers:{number:i}},s){const n=ss(t);Vt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>i?Ji(es(c)):es(c));e._assign(e.multiple?n?new Set(o):o:o[0])}),e._assign=gi(s)},mounted(e,{value:t}){ma(e,t)},beforeUpdate(e,t,i){e._assign=gi(i)},updated(e,{value:t}){ma(e,t)}};function ma(e,t){const i=e.multiple;if(!(i&&!be(t)&&!ss(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],c=es(o);if(i)be(t)?o.selected=$n(t,c)>-1:o.selected=t.has(c);else if(Bi(es(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function es(e){return"_value"in e?e._value:e.value}function Ul(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const cf=["ctrl","shift","alt","meta"],hf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cf.some(i=>e[`${i}Key`]&&!t.includes(i))},Fe=(e,t)=>(i,...s)=>{for(let n=0;n<t.length;n++){const o=hf[t[n]];if(o&&o(i,t))return}return e(i,...s)},df={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$s=(e,t)=>i=>{if(!("key"in i))return;const s=$i(i.key);if(t.some(n=>n===s||df[n]===s))return e(i)},It={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):ms(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:s}){!t!=!i&&(s?t?(s.beforeEnter(e),ms(e,!0),s.enter(e)):s.leave(e,()=>{ms(e,!1)}):ms(e,t))},beforeUnmount(e,{value:t}){ms(e,t)}};function ms(e,t){e.style.display=t?e._vod:"none"}const uf=pt({patchProp:Qu},Hu);let va;function ff(){return va||(va=_u(uf))}const pf=(...e)=>{const t=ff().createApp(...e),{mount:i}=t;return t.mount=s=>{const n=_f(s);if(!n)return;const o=t._component;!Ee(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const c=i(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function _f(e){return et(e)?document.querySelector(e):e}let ir;const gf=new Uint8Array(16);function mf(){if(!ir&&(ir=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ir))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ir(gf)}const ht=[];for(let e=0;e<256;++e)ht.push((e+256).toString(16).slice(1));function vf(e,t=0){return(ht[e[t+0]]+ht[e[t+1]]+ht[e[t+2]]+ht[e[t+3]]+"-"+ht[e[t+4]]+ht[e[t+5]]+"-"+ht[e[t+6]]+ht[e[t+7]]+"-"+ht[e[t+8]]+ht[e[t+9]]+"-"+ht[e[t+10]]+ht[e[t+11]]+ht[e[t+12]]+ht[e[t+13]]+ht[e[t+14]]+ht[e[t+15]]).toLowerCase()}const bf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ba={randomUUID:bf};function yf(e,t,i){if(ba.randomUUID&&!t&&!e)return ba.randomUUID();e=e||{};const s=e.random||(e.rng||mf)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){i=i||0;for(let n=0;n<16;++n)t[i+n]=s[n];return t}return vf(s)}const co={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let i=0;this.panes=this.panes.map((s,n)=>(s.size=n===t?s.max:s.min,n!==t&&(i+=s.min),s)),this.panes[t].size-=i,this.$emit("pane-maximize",this.panes[t]),this.$emit("resized",this.panes.map(s=>({min:s.min,max:s.max,size:s.size})))},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:i,clientY:s}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:i-t.left,y:s-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),e*100/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let i={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const s=0+(this.pushOtherPanes?0:i.prevPanesSize),n=100-(this.pushOtherPanes?0:i.nextPanesSize),o=Math.max(Math.min(this.getCurrentDragPercentage(e),n),s);let c=[t,t+1],r=this.panes[c[0]]||null,l=this.panes[c[1]]||null;const h=r.max<100&&o>=r.max+i.prevPanesSize,u=l.max<100&&o<=100-(l.max+this.sumNextPanesSize(t+1));if(h||u){h?(r.size=r.max,l.size=Math.max(100-r.max-i.prevPanesSize-i.nextPanesSize,0)):(r.size=Math.max(100-l.max-i.prevPanesSize-this.sumNextPanesSize(t+1),0),l.size=l.max);return}if(this.pushOtherPanes){const p=this.doPushOtherPanes(i,o);if(!p)return;({sums:i,panesToResize:c}=p),r=this.panes[c[0]]||null,l=this.panes[c[1]]||null}r!==null&&(r.size=Math.min(Math.max(o-i.prevPanesSize-i.prevReachedMinPanes,r.min),r.max)),l!==null&&(l.size=Math.min(Math.max(100-o-i.nextPanesSize-i.nextReachedMinPanes,l.min),l.max))},doPushOtherPanes(e,t){const i=this.touch.activeSplitter,s=[i,i+1];return t<e.prevPanesSize+this.panes[s[0]].min&&(s[0]=this.findPrevExpandedPane(i).index,e.prevReachedMinPanes=0,s[0]<i&&this.panes.forEach((n,o)=>{o>s[0]&&o<=i&&(n.size=n.min,e.prevReachedMinPanes+=n.min)}),e.prevPanesSize=this.sumPrevPanesSize(s[0]),s[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((n,o)=>{o>0&&o<=i&&(n.size=n.min,e.prevReachedMinPanes+=n.min)}),this.panes[s[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[s[1]].min&&(s[1]=this.findNextExpandedPane(i).index,e.nextReachedMinPanes=0,s[1]>i+1&&this.panes.forEach((n,o)=>{o>i&&o<s[1]&&(n.size=n.min,e.nextReachedMinPanes+=n.min)}),e.nextPanesSize=this.sumNextPanesSize(s[1]-1),s[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((n,o)=>{o<this.panesCount-1&&o>=i+1&&(n.size=n.min,e.nextReachedMinPanes+=n.min)}),this.panes[s[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:s}},sumPrevPanesSize(e){return this.panes.reduce((t,i,s)=>t+(s<e?i.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,i,s)=>t+(s>e+1?i.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),i=e.classList.contains("splitpanes__splitter");!t&&!i&&(e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(e,t,i=!1){const s=e-1,n=document.createElement("div");n.classList.add("splitpanes__splitter"),i||(n.onmousedown=o=>this.onMouseDown(o,s),typeof window<"u"&&"ontouchstart"in window&&(n.ontouchstart=o=>this.onMouseDown(o,s)),n.onclick=o=>this.onSplitterClick(o,s+1)),this.dblClickSplitter&&(n.ondblclick=o=>this.onSplitterDblClick(o,s+1)),t.parentNode.insertBefore(n,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(i=>{i.className.includes("splitpanes__splitter")&&this.removeSplitter(i)});let t=0;e.forEach(i=>{i.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,i,!0):t&&this.addSplitter(t,i),t++)})},requestUpdate({target:e,...t}){const i=this.indexedPanes[e._.uid];Object.entries(t).forEach(([s,n])=>i[s]=n)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(n=>(n.className.includes("splitpanes__pane")&&t++,n===e.$el));const i=parseFloat(e.minSize),s=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._.uid,index:t,min:isNaN(i)?0:i,max:isNaN(s)?100:s,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((n,o)=>n.index=o),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(s=>s.id===e._.uid),i=this.panes.splice(t,1)[0];this.panes.forEach((s,n)=>s.index=n),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...i,index:t}}),this.$emit("pane-remove",{removed:i,panes:this.panes.map(s=>({min:s.min,max:s.max,size:s.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(t=>t.givenSize!==null||t.min||t.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size})))},equalize(){const e=100/this.panesCount;let t=0;const i=[],s=[];this.panes.forEach(n=>{n.size=Math.max(Math.min(e,n.max),n.min),t-=n.size,n.size>=n.max&&i.push(n.id),n.size<=n.min&&s.push(n.id)}),t>.1&&this.readjustSizes(t,i,s)},initialPanesSizing(){let e=100;const t=[],i=[];let s=0;this.panes.forEach(o=>{e-=o.size,o.size!==null&&s++,o.size>=o.max&&t.push(o.id),o.size<=o.min&&i.push(o.id)});let n=100;e>.1&&(this.panes.forEach(o=>{o.size===null&&(o.size=Math.max(Math.min(e/(this.panesCount-s),o.max),o.min)),n-=o.size}),n>.1&&this.readjustSizes(e,t,i))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let i=100/this.panesCount,s=0;const n=[],o=[];e&&e.givenSize!==null&&(i=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(c=>{s-=c.size,c.size>=c.max&&n.push(c.id),c.size<=c.min&&o.push(c.id)}),!(Math.abs(s)<.1)&&(this.panes.forEach(c=>{e&&e.givenSize!==null&&e.id===c.id||(c.size=Math.max(Math.min(i,c.max),c.min)),s-=c.size,c.size>=c.max&&n.push(c.id),c.size<=c.min&&o.push(c.id)}),s>.1&&this.readjustSizes(s,n,o))},readjustSizes(e,t,i){let s;e>0?s=e/(this.panesCount-t.length):s=e/(this.panesCount-i.length),this.panes.forEach((n,o)=>{if(e>0&&!t.includes(n.id)){const c=Math.max(Math.min(n.size+s,n.max),n.min),r=c-n.size;e-=r,n.size=c}else if(!i.includes(n.id)){const c=Math.max(Math.min(n.size+s,n.max),n.min),r=c-n.size;e-=r,n.size=c}n.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[n.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,i)=>{t.ondblclick=e?s=>this.onSplitterDblClick(s,i):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return Hl("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},Sf=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},wf={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function Cf(e,t,i,s,n,o){return j(),V("div",{class:"splitpanes__pane",onClick:t[0]||(t[0]=c=>o.onPaneClick(c,e._.uid)),style:Hi(e.style)},[Te(e.$slots,"default")],4)}const ho=Sf(wf,[["render",Cf]]);var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kf(e,t){return t={exports:{}},e(t,t.exports),t.exports}var xf=kf(function(e,t){(function(i,s){e.exports=s()})(Ef,function(){var i="__v-click-outside",s=typeof window<"u",n=typeof navigator<"u",o=s&&("ontouchstart"in window||n&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],c=function(u){var p=u.event,f=u.handler;(0,u.middleware)(p)&&f(p)},r=function(u,p){var f=function(v){var d=typeof v=="function";if(!d&&typeof v!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:d?v:v.handler,middleware:v.middleware||function(m){return m},events:v.events||o,isActive:v.isActive!==!1,detectIframe:v.detectIframe!==!1,capture:Boolean(v.capture)}}(p.value),S=f.handler,b=f.middleware,_=f.detectIframe,a=f.capture;if(f.isActive){if(u[i]=f.events.map(function(v){return{event:v,srcTarget:document.documentElement,handler:function(d){return function(m){var w=m.el,C=m.event,T=m.handler,y=m.middleware,E=C.path||C.composedPath&&C.composedPath();(E?E.indexOf(w)<0:!w.contains(C.target))&&c({event:C,handler:T,middleware:y})}({el:u,event:d,handler:S,middleware:b})},capture:a}}),_){var g={event:"blur",srcTarget:window,handler:function(v){return function(d){var m=d.el,w=d.event,C=d.handler,T=d.middleware;setTimeout(function(){var y=document.activeElement;y&&y.tagName==="IFRAME"&&!m.contains(y)&&c({event:w,handler:C,middleware:T})},0)}({el:u,event:v,handler:S,middleware:b})},capture:a};u[i]=[].concat(u[i],[g])}u[i].forEach(function(v){var d=v.event,m=v.srcTarget,w=v.handler;return setTimeout(function(){u[i]&&m.addEventListener(d,w,a)},0)})}},l=function(u){(u[i]||[]).forEach(function(p){return p.srcTarget.removeEventListener(p.event,p.handler,p.capture)}),delete u[i]},h=s?{beforeMount:r,updated:function(u,p){var f=p.value,S=p.oldValue;JSON.stringify(f)!==JSON.stringify(S)&&(l(u),r(u,{value:f}))},unmounted:l}:{};return{install:function(u){u.directive("click-outside",h)},directive:h}})}),Nr={name:"VueSimpleContextMenu",props:{elementId:{type:String,required:!0},options:{type:Array,required:!0}},emits:["menu-closed","option-clicked"],directives:{"click-outside":xf.directive},data:function(){return{item:null,menuHeight:null,menuWidth:null}},methods:{showMenu:function(t,i){this.item=i;var s=document.getElementById(this.elementId);!s||((!this.menuWidth||!this.menuHeight)&&(s.style.visibility="hidden",s.style.display="block",this.menuWidth=s.offsetWidth,this.menuHeight=s.offsetHeight,s.removeAttribute("style")),this.menuWidth+t.pageX>=window.innerWidth?s.style.left=t.pageX-this.menuWidth+2+"px":s.style.left=t.pageX-2+"px",this.menuHeight+t.pageY>=window.innerHeight?s.style.top=t.pageY-this.menuHeight+2+"px":s.style.top=t.pageY-2+"px",s.classList.add("vue-simple-context-menu--active"))},hideContextMenu:function(){var t=document.getElementById(this.elementId);t&&(t.classList.remove("vue-simple-context-menu--active"),this.$emit("menu-closed"))},onClickOutside:function(){this.hideContextMenu()},optionClicked:function(t){this.hideContextMenu(),this.$emit("option-clicked",{item:this.item,option:t})},onEscKeyRelease:function(t){t.keyCode===27&&this.hideContextMenu()}},mounted:function(){document.body.addEventListener("keyup",this.onEscKeyRelease)},beforeUnmount:function(){document.removeEventListener("keyup",this.onEscKeyRelease)}},Tf=["id"],Df=["onClick"],Rf=["innerHTML"];function Pf(e,t,i,s,n,o){var c=eu("click-outside");return j(),V("div",null,[st((j(),V("ul",{id:i.elementId,class:"vue-simple-context-menu"},[(j(!0),V(xe,null,Ze(i.options,function(r,l){return j(),V("li",{key:l,onClick:Fe(function(h){return o.optionClicked(r)},["stop"]),class:ve(["vue-simple-context-menu__item",[r.class,r.type==="divider"?"vue-simple-context-menu__divider":""]])},[U("span",{innerHTML:r.name},null,8,Rf)],10,Df)}),128))],8,Tf)),[[c,o.onClickOutside]])])}Nr.render=Pf;Nr.__file="src/vue-simple-context-menu.vue";function Rn(e){Rn.installed||(Rn.installed=!0,e.component("VueSimpleContextMenu",Nr))}var Af={install:Rn},br=null;typeof window<"u"?br=window.Vue:typeof global<"u"&&(br=global.Vue);br&&br.use(Af);const Hr=Nr;function jl(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wl}=Object.prototype,{getPrototypeOf:uo}=Object,fo=(e=>t=>{const i=Wl.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ei=e=>(e=e.toLowerCase(),t=>fo(t)===e),$r=e=>t=>typeof t===e,{isArray:as}=Array,Bs=$r("undefined");function Lf(e){return e!==null&&!Bs(e)&&e.constructor!==null&&!Bs(e.constructor)&&Fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zl=ei("ArrayBuffer");function Of(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zl(e.buffer),t}const Mf=$r("string"),Fi=$r("function"),ql=$r("number"),po=e=>e!==null&&typeof e=="object",If=e=>e===!0||e===!1,hr=e=>{if(fo(e)!=="object")return!1;const t=uo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bf=ei("Date"),Ff=ei("File"),Nf=ei("Blob"),Hf=ei("FileList"),$f=e=>po(e)&&Fi(e.pipe),Uf=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Wl.call(e)===t||Fi(e.toString)&&e.toString()===t)},jf=ei("URLSearchParams"),Wf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Us(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),as(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const o=i?Object.getOwnPropertyNames(e):Object.keys(e),c=o.length;let r;for(s=0;s<c;s++)r=o[s],t.call(null,e[r],r,e)}}function Kl(e,t){t=t.toLowerCase();const i=Object.keys(e);let s=i.length,n;for(;s-- >0;)if(n=i[s],t===n.toLowerCase())return n;return null}const Vl=typeof self>"u"?typeof global>"u"?globalThis:global:self,Yl=e=>!Bs(e)&&e!==Vl;function Pn(){const{caseless:e}=Yl(this)&&this||{},t={},i=(s,n)=>{const o=e&&Kl(t,n)||n;hr(t[o])&&hr(s)?t[o]=Pn(t[o],s):hr(s)?t[o]=Pn({},s):as(s)?t[o]=s.slice():t[o]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Us(arguments[s],i);return t}const zf=(e,t,i,{allOwnKeys:s}={})=>(Us(t,(n,o)=>{i&&Fi(n)?e[o]=jl(n,i):e[o]=n},{allOwnKeys:s}),e),qf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kf=(e,t,i,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Vf=(e,t,i,s)=>{let n,o,c;const r={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)c=n[o],(!s||s(c,e,t))&&!r[c]&&(t[c]=e[c],r[c]=!0);e=i!==!1&&uo(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Yf=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const s=e.indexOf(t,i);return s!==-1&&s===i},Gf=e=>{if(!e)return null;if(as(e))return e;let t=e.length;if(!ql(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},Xf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&uo(Uint8Array)),Jf=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=s.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},Qf=(e,t)=>{let i;const s=[];for(;(i=e.exec(t))!==null;)s.push(i);return s},Zf=ei("HTMLFormElement"),ep=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(i,s,n){return s.toUpperCase()+n}),ya=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),tp=ei("RegExp"),Gl=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),s={};Us(i,(n,o)=>{t(n,o,e)!==!1&&(s[o]=n)}),Object.defineProperties(e,s)},ip=e=>{Gl(e,(t,i)=>{if(Fi(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=e[i];if(!!Fi(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},sp=(e,t)=>{const i={},s=n=>{n.forEach(o=>{i[o]=!0})};return as(e)?s(e):s(String(e).split(t)),i},rp=()=>{},np=(e,t)=>(e=+e,Number.isFinite(e)?e:t),op=e=>{const t=new Array(10),i=(s,n)=>{if(po(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[n]=s;const o=as(s)?[]:{};return Us(s,(c,r)=>{const l=i(c,n+1);!Bs(l)&&(o[r]=l)}),t[n]=void 0,o}}return s};return i(e,0)},Z={isArray:as,isArrayBuffer:zl,isBuffer:Lf,isFormData:Uf,isArrayBufferView:Of,isString:Mf,isNumber:ql,isBoolean:If,isObject:po,isPlainObject:hr,isUndefined:Bs,isDate:Bf,isFile:Ff,isBlob:Nf,isRegExp:tp,isFunction:Fi,isStream:$f,isURLSearchParams:jf,isTypedArray:Xf,isFileList:Hf,forEach:Us,merge:Pn,extend:zf,trim:Wf,stripBOM:qf,inherits:Kf,toFlatObject:Vf,kindOf:fo,kindOfTest:ei,endsWith:Yf,toArray:Gf,forEachEntry:Jf,matchAll:Qf,isHTMLForm:Zf,hasOwnProperty:ya,hasOwnProp:ya,reduceDescriptors:Gl,freezeMethods:ip,toObjectSet:sp,toCamelCase:ep,noop:rp,toFiniteNumber:np,findKey:Kl,global:Vl,isContextDefined:Yl,toJSONObject:op};function Ae(e,t,i,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),n&&(this.response=n)}Z.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xl=Ae.prototype,Jl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jl[e]={value:e}});Object.defineProperties(Ae,Jl);Object.defineProperty(Xl,"isAxiosError",{value:!0});Ae.from=(e,t,i,s,n,o)=>{const c=Object.create(Xl);return Z.toFlatObject(e,c,function(l){return l!==Error.prototype},r=>r!=="isAxiosError"),Ae.call(c,e.message,t,i,s,n),c.cause=e,c.name=e.name,o&&Object.assign(c,o),c};var ap=typeof self=="object"?self.FormData:window.FormData;const lp=ap;function An(e){return Z.isPlainObject(e)||Z.isArray(e)}function Ql(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function Sa(e,t,i){return e?e.concat(t).map(function(n,o){return n=Ql(n),!i&&o?"["+n+"]":n}).join(i?".":""):t}function cp(e){return Z.isArray(e)&&!e.some(An)}const hp=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function dp(e){return e&&Z.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Ur(e,t,i){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new(lp||FormData),i=Z.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,a){return!Z.isUndefined(a[_])});const s=i.metaTokens,n=i.visitor||u,o=i.dots,c=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&dp(t);if(!Z.isFunction(n))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(Z.isDate(b))return b.toISOString();if(!l&&Z.isBlob(b))throw new Ae("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(b)||Z.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,_,a){let g=b;if(b&&!a&&typeof b=="object"){if(Z.endsWith(_,"{}"))_=s?_:_.slice(0,-2),b=JSON.stringify(b);else if(Z.isArray(b)&&cp(b)||Z.isFileList(b)||Z.endsWith(_,"[]")&&(g=Z.toArray(b)))return _=Ql(_),g.forEach(function(d,m){!(Z.isUndefined(d)||d===null)&&t.append(c===!0?Sa([_],m,o):c===null?_:_+"[]",h(d))}),!1}return An(b)?!0:(t.append(Sa(a,_,o),h(b)),!1)}const p=[],f=Object.assign(hp,{defaultVisitor:u,convertValue:h,isVisitable:An});function S(b,_){if(!Z.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(b),Z.forEach(b,function(g,v){(!(Z.isUndefined(g)||g===null)&&n.call(t,g,Z.isString(v)?v.trim():v,_,f))===!0&&S(g,_?_.concat(v):[v])}),p.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return S(e),t}function wa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function _o(e,t){this._pairs=[],e&&Ur(e,this,t)}const Zl=_o.prototype;Zl.append=function(t,i){this._pairs.push([t,i])};Zl.toString=function(t){const i=t?function(s){return t.call(this,s,wa)}:wa;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function up(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ec(e,t,i){if(!t)return e;const s=i&&i.encode||up,n=i&&i.serialize;let o;if(n?o=n(t,i):o=Z.isURLSearchParams(t)?t.toString():new _o(t,i).toString(s),o){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class fp{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Ca=fp,tc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pp=typeof URLSearchParams<"u"?URLSearchParams:_o,_p=FormData,gp=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Xt={isBrowser:!0,classes:{URLSearchParams:pp,FormData:_p,Blob},isStandardBrowserEnv:gp,protocols:["http","https","file","blob","url","data"]};function mp(e,t){return Ur(e,new Xt.classes.URLSearchParams,Object.assign({visitor:function(i,s,n,o){return Xt.isNode&&Z.isBuffer(i)?(this.append(s,i.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function vp(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bp(e){const t={},i=Object.keys(e);let s;const n=i.length;let o;for(s=0;s<n;s++)o=i[s],t[o]=e[o];return t}function ic(e){function t(i,s,n,o){let c=i[o++];const r=Number.isFinite(+c),l=o>=i.length;return c=!c&&Z.isArray(n)?n.length:c,l?(Z.hasOwnProp(n,c)?n[c]=[n[c],s]:n[c]=s,!r):((!n[c]||!Z.isObject(n[c]))&&(n[c]=[]),t(i,s,n[c],o)&&Z.isArray(n[c])&&(n[c]=bp(n[c])),!r)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const i={};return Z.forEachEntry(e,(s,n)=>{t(vp(s),n,i,0)}),i}return null}const yp={"Content-Type":void 0};function Sp(e,t,i){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(e)}const jr={transitional:tc,adapter:["xhr","http"],transformRequest:[function(t,i){const s=i.getContentType()||"",n=s.indexOf("application/json")>-1,o=Z.isObject(t);if(o&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return n&&n?JSON.stringify(ic(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return mp(t,this.formSerializer).toString();if((r=Z.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ur(r?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||n?(i.setContentType("application/json",!1),Sp(t)):t}],transformResponse:[function(t){const i=this.transitional||jr.transitional,s=i&&i.forcedJSONParsing,n=this.responseType==="json";if(t&&Z.isString(t)&&(s&&!this.responseType||n)){const c=!(i&&i.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(r){if(c)throw r.name==="SyntaxError"?Ae.from(r,Ae.ERR_BAD_RESPONSE,this,null,this.response):r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Z.forEach(["delete","get","head"],function(t){jr.headers[t]={}});Z.forEach(["post","put","patch"],function(t){jr.headers[t]=Z.merge(yp)});const go=jr,wp=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cp=e=>{const t={};let i,s,n;return e&&e.split(`
`).forEach(function(c){n=c.indexOf(":"),i=c.substring(0,n).trim().toLowerCase(),s=c.substring(n+1).trim(),!(!i||t[i]&&wp[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},Ea=Symbol("internals");function vs(e){return e&&String(e).trim().toLowerCase()}function dr(e){return e===!1||e==null?e:Z.isArray(e)?e.map(dr):String(e)}function Ep(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(e);)t[s[1]]=s[2];return t}function kp(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function ka(e,t,i,s){if(Z.isFunction(s))return s.call(this,t,i);if(!!Z.isString(t)){if(Z.isString(s))return t.indexOf(s)!==-1;if(Z.isRegExp(s))return s.test(t)}}function xp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function Tp(e,t){const i=Z.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+i,{value:function(n,o,c){return this[s].call(this,t,n,o,c)},configurable:!0})})}class Wr{constructor(t){t&&this.set(t)}set(t,i,s){const n=this;function o(r,l,h){const u=vs(l);if(!u)throw new Error("header name must be a non-empty string");const p=Z.findKey(n,u);(!p||n[p]===void 0||h===!0||h===void 0&&n[p]!==!1)&&(n[p||l]=dr(r))}const c=(r,l)=>Z.forEach(r,(h,u)=>o(h,u,l));return Z.isPlainObject(t)||t instanceof this.constructor?c(t,i):Z.isString(t)&&(t=t.trim())&&!kp(t)?c(Cp(t),i):t!=null&&o(i,t,s),this}get(t,i){if(t=vs(t),t){const s=Z.findKey(this,t);if(s){const n=this[s];if(!i)return n;if(i===!0)return Ep(n);if(Z.isFunction(i))return i.call(this,n,s);if(Z.isRegExp(i))return i.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=vs(t),t){const s=Z.findKey(this,t);return!!(s&&(!i||ka(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let n=!1;function o(c){if(c=vs(c),c){const r=Z.findKey(s,c);r&&(!i||ka(s,s[r],r,i))&&(delete s[r],n=!0)}}return Z.isArray(t)?t.forEach(o):o(t),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const i=this,s={};return Z.forEach(this,(n,o)=>{const c=Z.findKey(s,o);if(c){i[c]=dr(n),delete i[o];return}const r=t?xp(o):String(o).trim();r!==o&&delete i[o],i[r]=dr(n),s[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Z.forEach(this,(s,n)=>{s!=null&&s!==!1&&(i[n]=t&&Z.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Ea]=this[Ea]={accessors:{}}).accessors,n=this.prototype;function o(c){const r=vs(c);s[r]||(Tp(n,c),s[r]=!0)}return Z.isArray(t)?t.forEach(o):o(t),this}}Wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Z.freezeMethods(Wr.prototype);Z.freezeMethods(Wr);const Jt=Wr;function on(e,t){const i=this||go,s=t||i,n=Jt.from(s.headers);let o=s.data;return Z.forEach(e,function(r){o=r.call(i,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function sc(e){return!!(e&&e.__CANCEL__)}function js(e,t,i){Ae.call(this,e==null?"canceled":e,Ae.ERR_CANCELED,t,i),this.name="CanceledError"}Z.inherits(js,Ae,{__CANCEL__:!0});const Dp=null;function Rp(e,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new Ae("Request failed with status code "+i.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const Pp=Xt.isStandardBrowserEnv?function(){return{write:function(i,s,n,o,c,r){const l=[];l.push(i+"="+encodeURIComponent(s)),Z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Z.isString(o)&&l.push("path="+o),Z.isString(c)&&l.push("domain="+c),r===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ap(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lp(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function rc(e,t){return e&&!Ap(t)?Lp(e,t):t}const Op=Xt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let s;function n(o){let c=o;return t&&(i.setAttribute("href",c),c=i.href),i.setAttribute("href",c),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=n(window.location.href),function(c){const r=Z.isString(c)?n(c):c;return r.protocol===s.protocol&&r.host===s.host}}():function(){return function(){return!0}}();function Mp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ip(e,t){e=e||10;const i=new Array(e),s=new Array(e);let n=0,o=0,c;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),u=s[o];c||(c=h),i[n]=l,s[n]=h;let p=o,f=0;for(;p!==n;)f+=i[p++],p=p%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),h-c<t)return;const S=u&&h-u;return S?Math.round(f*1e3/S):void 0}}function xa(e,t){let i=0;const s=Ip(50,250);return n=>{const o=n.loaded,c=n.lengthComputable?n.total:void 0,r=o-i,l=s(r),h=o<=c;i=o;const u={loaded:o,total:c,progress:c?o/c:void 0,bytes:r,rate:l||void 0,estimated:l&&c&&h?(c-o)/l:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const Bp=typeof XMLHttpRequest<"u",Fp=Bp&&function(e){return new Promise(function(i,s){let n=e.data;const o=Jt.from(e.headers).normalize(),c=e.responseType;let r;function l(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Z.isFormData(n)&&Xt.isStandardBrowserEnv&&o.setContentType(!1);let h=new XMLHttpRequest;if(e.auth){const S=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(S+":"+b))}const u=rc(e.baseURL,e.url);h.open(e.method.toUpperCase(),ec(u,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function p(){if(!h)return;const S=Jt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:e,request:h};Rp(function(g){i(g),l()},function(g){s(g),l()},_),h=null}if("onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(p)},h.onabort=function(){!h||(s(new Ae("Request aborted",Ae.ECONNABORTED,e,h)),h=null)},h.onerror=function(){s(new Ae("Network Error",Ae.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let b=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||tc;e.timeoutErrorMessage&&(b=e.timeoutErrorMessage),s(new Ae(b,_.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,h)),h=null},Xt.isStandardBrowserEnv){const S=(e.withCredentials||Op(u))&&e.xsrfCookieName&&Pp.read(e.xsrfCookieName);S&&o.set(e.xsrfHeaderName,S)}n===void 0&&o.setContentType(null),"setRequestHeader"in h&&Z.forEach(o.toJSON(),function(b,_){h.setRequestHeader(_,b)}),Z.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),c&&c!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",xa(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",xa(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=S=>{!h||(s(!S||S.type?new js(null,e,h):S),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));const f=Mp(u);if(f&&Xt.protocols.indexOf(f)===-1){s(new Ae("Unsupported protocol "+f+":",Ae.ERR_BAD_REQUEST,e));return}h.send(n||null)})},ur={http:Dp,xhr:Fp};Z.forEach(ur,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Np={getAdapter:e=>{e=Z.isArray(e)?e:[e];const{length:t}=e;let i,s;for(let n=0;n<t&&(i=e[n],!(s=Z.isString(i)?ur[i.toLowerCase()]:i));n++);if(!s)throw s===!1?new Ae(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Z.hasOwnProp(ur,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Z.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:ur};function an(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new js}function Ta(e){return an(e),e.headers=Jt.from(e.headers),e.data=on.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Np.getAdapter(e.adapter||go.adapter)(e).then(function(s){return an(e),s.data=on.call(e,e.transformResponse,s),s.headers=Jt.from(s.headers),s},function(s){return sc(s)||(an(e),s&&s.response&&(s.response.data=on.call(e,e.transformResponse,s.response),s.response.headers=Jt.from(s.response.headers))),Promise.reject(s)})}const Da=e=>e instanceof Jt?e.toJSON():e;function Fs(e,t){t=t||{};const i={};function s(h,u,p){return Z.isPlainObject(h)&&Z.isPlainObject(u)?Z.merge.call({caseless:p},h,u):Z.isPlainObject(u)?Z.merge({},u):Z.isArray(u)?u.slice():u}function n(h,u,p){if(Z.isUndefined(u)){if(!Z.isUndefined(h))return s(void 0,h,p)}else return s(h,u,p)}function o(h,u){if(!Z.isUndefined(u))return s(void 0,u)}function c(h,u){if(Z.isUndefined(u)){if(!Z.isUndefined(h))return s(void 0,h)}else return s(void 0,u)}function r(h,u,p){if(p in t)return s(h,u);if(p in e)return s(void 0,h)}const l={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:r,headers:(h,u)=>n(Da(h),Da(u),!0)};return Z.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const p=l[u]||n,f=p(e[u],t[u],u);Z.isUndefined(f)&&p!==r||(i[u]=f)}),i}const nc="1.2.0",mo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mo[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ra={};mo.transitional=function(t,i,s){function n(o,c){return"[Axios v"+nc+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,r)=>{if(t===!1)throw new Ae(n(c," has been removed"+(i?" in "+i:"")),Ae.ERR_DEPRECATED);return i&&!Ra[c]&&(Ra[c]=!0,console.warn(n(c," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(o,c,r):!0}};function Hp(e,t,i){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const o=s[n],c=t[o];if(c){const r=e[o],l=r===void 0||c(r,o,e);if(l!==!0)throw new Ae("option "+o+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ae("Unknown option "+o,Ae.ERR_BAD_OPTION)}}const Ln={assertOptions:Hp,validators:mo},ai=Ln.validators;class yr{constructor(t){this.defaults=t,this.interceptors={request:new Ca,response:new Ca}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Fs(this.defaults,i);const{transitional:s,paramsSerializer:n,headers:o}=i;s!==void 0&&Ln.assertOptions(s,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),n!==void 0&&Ln.assertOptions(n,{encode:ai.function,serialize:ai.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let c;c=o&&Z.merge(o.common,o[i.method]),c&&Z.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),i.headers=Jt.concat(c,o);const r=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(i)===!1||(l=l&&_.synchronous,r.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let u,p=0,f;if(!l){const b=[Ta.bind(this),void 0];for(b.unshift.apply(b,r),b.push.apply(b,h),f=b.length,u=Promise.resolve(i);p<f;)u=u.then(b[p++],b[p++]);return u}f=r.length;let S=i;for(p=0;p<f;){const b=r[p++],_=r[p++];try{S=b(S)}catch(a){_.call(this,a);break}}try{u=Ta.call(this,S)}catch(b){return Promise.reject(b)}for(p=0,f=h.length;p<f;)u=u.then(h[p++],h[p++]);return u}getUri(t){t=Fs(this.defaults,t);const i=rc(t.baseURL,t.url);return ec(i,t.params,t.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(t){yr.prototype[t]=function(i,s){return this.request(Fs(s||{},{method:t,url:i,data:(s||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function i(s){return function(o,c,r){return this.request(Fs(r||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}yr.prototype[t]=i(),yr.prototype[t+"Form"]=i(!0)});const fr=yr;class vo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(o){i=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const c=new Promise(r=>{s.subscribe(r),o=r}).then(n);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o,c,r){s.reason||(s.reason=new js(o,c,r),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new vo(function(n){t=n}),cancel:t}}}const $p=vo;function Up(e){return function(i){return e.apply(null,i)}}function jp(e){return Z.isObject(e)&&e.isAxiosError===!0}function oc(e){const t=new fr(e),i=jl(fr.prototype.request,t);return Z.extend(i,fr.prototype,t,{allOwnKeys:!0}),Z.extend(i,t,null,{allOwnKeys:!0}),i.create=function(n){return oc(Fs(e,n))},i}const _t=oc(go);_t.Axios=fr;_t.CanceledError=js;_t.CancelToken=$p;_t.isCancel=sc;_t.VERSION=nc;_t.toFormData=Ur;_t.AxiosError=Ae;_t.Cancel=_t.CanceledError;_t.all=function(t){return Promise.all(t)};_t.spread=Up;_t.isAxiosError=jp;_t.AxiosHeaders=Jt;_t.formToJSON=e=>ic(Z.isHTMLForm(e)?new FormData(e):e);_t.default=_t;const Rt=_t,Ts=Object.freeze({Checkbox:"checkbox",RadioButton:"radio"}),rt=Object.freeze({None:null,Single:"single",Multiple:"multiple",SelectionFollowsFocus:"selectionFollowsFocus"});function ac(){function e(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="grt-";do s+=i.charAt(Math.floor(Math.random()*i.length));while(s.length<8||document.getElementById(s));return s}function t(i,s){let n=i.treeNodeSpec.idProperty,o=i[n],c=i[i.treeNodeSpec.childrenProperty];if(document.getElementById(`${s}-${o}`)){let r=1;for(;document.getElementById(`${s}-${o}-${r}`);)r++;i[n]=`${o}-${r}`}c.forEach(r=>t(r,s))}return{generateUniqueId:e,resolveNodeIdConflicts:t}}function Wp(e,t,i,s,n){const o=Dr({activateItem:[32],selectItem:[13],focusLastItem:[35],focusFirstItem:[36],collapseFocusedItem:[37],expandFocusedItem:[39],focusPreviousItem:[38],focusNextItem:[40],insertItem:[45],deleteItem:[46]}),c=Qe(null),r=Be(()=>Object.assign({},o,q(t)));os(()=>{if(e.value.length>0){let _=null;s(a=>{a.treeNodeSpec.focusable&&(c.value?a.treeNodeSpec.focusable=!1:c.value=a),i!==rt.None&&_===null&&a.treeNodeSpec.state.selected&&(_=a)}),c.value||(c.value=_||e.value[0],c.value.treeNodeSpec.focusable=!0),_===null&&c.value.treeNodeSpec.selectable&&i===rt.SelectionFollowsFocus&&(c.value.treeNodeSpec.state.selected=!0),l(i)}});function l(_){_===rt.Single?n():_===rt.SelectionFollowsFocus&&s(a=>{let g=a.treeNodeSpec.idProperty,v=c.value.treeNodeSpec.idProperty;a[g]===c.value[v]?a.treeNodeSpec.selectable&&(a.treeNodeSpec.state.selected=!0):a.treeNodeSpec.state.selected&&(a.treeNodeSpec.state.selected=!1)})}function h(_){c.value!==_&&(c.value&&(c.value.treeNodeSpec.focusable=!1),c.value=_)}function u(){e.value[0].treeNodeSpec.focusable=!0}function p(){let _=e.value[e.value.length-1],a=_[_.treeNodeSpec.childrenProperty];for(;a.length>0&&_.treeNodeSpec.state.expanded;)_=a[a.length-1],a=_[_.treeNodeSpec.childrenProperty];_.treeNodeSpec.focusable=!0}function f(_){_.treeNodeSpec.focusable&&(e.value.indexOf(_)===0?e.value.length>0&&b(_):S(_))}function S(_){let a=e.value.indexOf(_);if(a>0){let g=e.value[a-1],v=g[g.treeNodeSpec.childrenProperty];for(;v.length>0&&g.treeNodeSpec.state.expanded;)g=v[v.length-1],v=g[g.treeNodeSpec.childrenProperty];g.treeNodeSpec.focusable=!0}}function b(_,a){let g=e.value.indexOf(_),v=_[_.treeNodeSpec.childrenProperty];!a&&v.length>0&&_.treeNodeSpec.state.expanded?v[0].treeNodeSpec.focusable=!0:g<e.value.length-1&&(e.value[g+1].treeNodeSpec.focusable=!0)}return{ariaKeyMap:r,enforceSelectionMode:l,handleFocusableChange:h,focusFirstNode:u,focusLastNode:p,handleNodeDeletion:f,handlePreviousFocus:S,handleNextFocus:b}}const lc=Object.freeze({None:"none",Copy:"copy",Move:"move",Link:"link"}),zp=Object.freeze({None:"none",All:"all",Copy:"copy",Move:"move",Link:"link",CopyMove:"copyMove",CopyLink:"copyLink",LinkMove:"linkMove"}),zi=Object.freeze({Before:0,After:1,Child:2});function cc(){function e(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function t(i){let s=JSON.parse(JSON.stringify(i));if(e(s))for(const n of Object.keys(i)){let o=i[n];typeof o=="function"?s[n]=o:e(o)&&(s[n]=t(o))}return s}return{isProbablyObject:e,cheapCopyObject:t}}const{resolveNodeIdConflicts:Pa}=ac(),{cheapCopyObject:qp}=cc();function Kp(e,t,i,s){function n(c){const r=e.value.indexOf(c);r>-1&&e.value.splice(r,1)}function o(c){let r=c.droppedModel;if(c.isSameTree)if(c.dropEffect===lc.Move)r=s(r[r.treeNodeSpec.idProperty]),r.treeNodeSpec._.dragMoved=!0;else{let l=i(r[r.treeNodeSpec.idProperty]);r=qp(l),Pa(r,t.value),r.treeNodeSpec.focusable=!1}else Pa(r,t.value);if(r){let l=c.siblingNodeSet||e.value,h=l.indexOf(c.targetModel);switch(c.targetZone){case zi.Before:l.splice(h,0,r);break;case zi.After:l.splice(h+1,0,r);break;default:l.push(r);break}r.treeNodeSpec._.dragging=!1}}return{dragMoveNode:n,drop:o}}const{isProbablyObject:Aa}=cc();function Vp(e,t,i,s,n,o){function c(){e.value.treeNodeSpec||(e.value.treeNodeSpec={});const u=e.value.treeNodeSpec;r(t,u),typeof u.childrenProperty!="string"&&(u.childrenProperty="children"),typeof u.idProperty!="string"&&(u.idProperty="id"),typeof u.labelProperty!="string"&&(u.labelProperty="label"),Array.isArray(i.value)||(e.value[s.value]=[]),typeof u.expandable!="boolean"&&(u.expandable=!0),typeof u.selectable!="boolean"&&(u.selectable=!1),typeof u.deletable!="boolean"&&(u.deletable=!1),typeof u.draggable!="boolean"&&(u.draggable=!1),typeof u.allowDrop!="boolean"&&(u.allowDrop=!1),typeof u.focusable!="boolean"&&(u.focusable=!1),typeof u.addChildCallback!="function"&&(u.addChildCallback=null),(typeof u.title!="string"||u.title.trim().length===0)&&(u.title=null),(typeof u.expanderTitle!="string"||u.expanderTitle.trim().length===0)&&(u.expanderTitle=null),(typeof u.addChildTitle!="string"||u.addChildTitle.trim().length===0)&&(u.addChildTitle=null),(typeof u.deleteTitle!="string"||u.deleteTitle.trim().length===0)&&(u.deleteTitle=null),(u.customizations==null||typeof u.customizations!="object")&&(u.customizations={}),typeof u.loadChildrenAsync!="function"&&(u.loadChildrenAsync=null),u._={},u._.dragging=!1,l(u),h(u),e.value.treeNodeSpec=u}function r(u,p){if(Aa(u)){const f=JSON.parse(JSON.stringify(u));Object.assign(f,p);for(const S of Object.keys(u)){const b=typeof u[S]=="function"?u[S]:f[S];Aa(b)?(p[S]=p[S]||{},r(b,p[S])):(typeof b=="function"&&p[S],p[S]=b)}}}function l(u){let p=u.input;p===null||typeof p!="object"||!Object.values(Ts).includes(p.type)?u.input=null:((typeof p.name!="string"||p.name.trim().length===0)&&(p.name=null),p.type===Ts.RadioButton&&((typeof p.name!="string"||p.name.trim().length===0)&&(p.name="unspecifiedRadioName"),(typeof p.value!="string"||p.value.trim().length===0)&&(p.value=n.value.replace(/[\s&<>"'\/]/g,"")),o.value.hasOwnProperty(p.name)||(o.value[p.name]=""),p.isInitialRadioGroupValue===!0&&(o.value[p.name]=p.value)))}function h(u){(u.state===null||typeof u.state!="object")&&(u.state={}),(u._.state===null||typeof u._.state!="object")&&(u._.state={});let p=u.state,f=u._.state;f.areChildrenLoaded=typeof u.loadChildrenAsync!="function",f.areChildrenLoading=!1,(typeof p.expanded!="boolean"||!f.areChildrenLoaded)&&(p.expanded=!1),typeof p.selected!="boolean"&&(p.selected=!1),u.input&&((p.input===null||typeof p.input!="object")&&(p.input={}),(p.input.disabled===null||typeof p.input.disabled!="boolean")&&(p.input.disabled=!1),u.input.type===Ts.Checkbox&&typeof p.input.value!="boolean"&&(p.input.value=!1))}return{normalizeNodeData:c}}const pe=Object.freeze({RootNodesLoad:"treeRootNodesLoad",Click:"treeNodeClick",DoubleClick:"treeNodeDblclick",CheckboxChange:"treeNodeCheckboxChange",ChildCheckboxChange:"treeNodeChildCheckboxChange",RadioChange:"treeNodeRadioChange",ExpandedChange:"treeNodeExpandedChange",ChildrenLoad:"treeNodeChildrenLoad",SelectedChange:"treeNodeSelectedChange",FocusableChange:"treeNodeAriaFocusableChange",RequestFirstFocus:"treeNodeAriaRequestFirstFocus",RequestLastFocus:"treeNodeAriaRequestLastFocus",RequestParentFocus:"treeNodeAriaRequestParentFocus",RequestPreviousFocus:"treeNodeAriaRequestPreviousFocus",RequestNextFocus:"treeNodeAriaRequestNextFocus",Add:"treeNodeAdd",Delete:"treeNodeDelete",DragMove:"treeNodeDragMove",Drop:"treeNodeDrop"});function Yp(e,t,i,s,n,o,c,r,l,h,u){const p=t.value.treeNodeSpec,f=Be(()=>p.focusable?0:-1);function S(){p.focusable=!0}function b(d){d.treeNodeSpec.focusable&&(i.value.length>1&&i.value.indexOf(d)===0?v(d):g(d))}function _(){p.focusable=!0}function a(d){let m=!0;if(!(d.altKey||d.ctrlKey||d.metaKey||d.shift)){if(e.activateItem.includes(d.keyCode)){if(p.input&&!p.state.input.disabled){let w=o.value.querySelector(".grtvn-self"),C=w.querySelector(".grtvn-self-input")||w.querySelector("input");if(C){let T=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});C.dispatchEvent(T)}}}else e.selectItem.includes(d.keyCode)?r(d):e.expandFocusedItem.includes(d.keyCode)?s&&(n.value&&!p.state.expanded?l(d):p.state.expanded&&(i.value[0].treeNodeSpec.focusable=!0)):e.collapseFocusedItem.includes(d.keyCode)?n.value&&p.state.expanded?l(d):u(pe.RequestParentFocus):e.focusFirstItem.includes(d.keyCode)?u(pe.RequestFirstFocus):e.focusLastItem.includes(d.keyCode)?u(pe.RequestLastFocus):e.focusPreviousItem.includes(d.keyCode)?u(pe.RequestPreviousFocus,t.value):e.focusNextItem.includes(d.keyCode)?u(pe.RequestNextFocus,t.value,!1):e.insertItem.includes(d.keyCode)?h(d):e.deleteItem.includes(d.keyCode)?c(d):m=!1;m&&(d.stopPropagation(),d.preventDefault())}}function g(d){let m=i.value.indexOf(d);if(m===0)p.focusable=!0;else{let w=i.value[m-1],C=w[w.treeNodeSpec.childrenProperty];for(;C.length>0&&w.treeNodeSpec.state.expanded;)w=C[C.length-1];w.treeNodeSpec.focusable=!0}}function v(d,m){let w=i.value.indexOf(d),C=d.treeNodeSpec.childrenProperty;!m&&d[C].length>0&&d.treeNodeSpec.state.expanded?d[C][0].treeNodeSpec.focusable=!0:w<i.value.length-1?i.value[w+1].treeNodeSpec.focusable=!0:u(pe.RequestNextFocus,t.value,!0)}return{ariaTabIndex:f,focus:S,handleChildDeletion:b,onClick:_,onKeyDown:a,handlePreviousFocus:g,handleNextFocus:v}}const bs=Object.freeze({Json:"application/json",PlainText:"text/plain",TreeViewNode:"application/x-grapoza-treeviewnode"});function Gp(){function e(t,i){return(t.closest?t:t.parentElement).closest(i)}return{closest:e}}const{closest:Xp}=Gp();function Jp(e,t,i,s){const n=e.value.treeNodeSpec;function o(_){const a=t.value.indexOf(_);a>-1&&t.value.splice(a,1)}function c(_,a){_.siblingNodeSet=_.siblingNodeSet||t.value,s(pe.Drop,_,a)}function r(_){_.stopPropagation();let a=JSON.parse(JSON.stringify(e.value));a.treeNodeSpec.focusable=!1,a=JSON.stringify(a),n._.dragging=!0,_.dataTransfer.effectAllowed=zp.CopyMove,_.dataTransfer.setData(bs.TreeViewNode,`{"treeId":"${i.value}","data":${a}}`),_.dataTransfer.setData(bs.Json,a),_.dataTransfer.setData(bs.PlainText,a)}function l(_){S(_)&&(b(_,!0),_.preventDefault())}function h(_){S(_)&&(b(_,!0),_.preventDefault())}function u(_){S(_)&&b(_,!1)}function p(_){const a=JSON.parse(_.dataTransfer.getData(bs.TreeViewNode)),g=_.target.classList.contains("grtvn-self-prev-target")?zi.Before:_.target.classList.contains("grtvn-self-next-target")?zi.After:zi.Child,v={isSameTree:a.treeId===i.value,droppedModel:a.data,targetModel:e.value,siblingNodeSet:g===zi.Child?t.value:null,dropEffect:_.dataTransfer.dropEffect,targetZone:g};s(pe.Drop,v,_),b(_,!1),_.preventDefault()}function f(_){_.dataTransfer.dropEffect===lc.Move?n._.dragMoved?delete n._.dragMoved:s(pe.DragMove,e.value,_):(b(_,!1),n._.dragging=!1)}function S(_){return n.allowDrop&&_.dataTransfer.types.includes(bs.TreeViewNode)&&!Xp(_.target,".grtvn-dragging")}function b(_,a){const g=_.target.classList&&_.target.classList.contains("grtvn-self-prev-target"),v=_.target.classList&&_.target.classList.contains("grtvn-self-next-target");n._.isDropTarget=a,g?(n._.isPrevDropTarget=a,n._.isChildDropTarget=!1):v?(n._.isNextDropTarget=a,n._.isChildDropTarget=!1):n._.isChildDropTarget=a}return{dragMoveChild:o,drop:c,onDragstart:r,onDragenter:l,onDragover:h,onDragleave:u,onDrop:p,onDragend:f}}function Qp(){function e(t){q(t).treeNodeSpec.focusable=!0}return{focusNode:e}}const Zp=["id","tabindex","aria-expanded","aria-selected"],e_=["draggable","dragging"],t_=["id","title"],i_=["for","title"],s_=["id","disabled"],r_=["for","title"],n_=["id","name","value","disabled"],o_=["title"],a_=["id","title"],l_=["id","title"],c_=["aria-hidden"],h_={__name:"TreeViewNode",props:{ariaKeyMap:{type:Object,required:!0},depth:{type:Number,required:!0},initialModel:{type:Object,required:!0},initialRadioGroupValues:{type:Object,required:!0},isMounted:{type:Boolean,required:!0},modelDefaults:{type:Object,required:!0},selectionMode:{type:String,required:!1,default:rt.None,validator:function(e){return Object.values(rt).includes(e)}},treeId:{type:String,required:!0}},emits:[pe.Add,pe.Click,pe.CheckboxChange,pe.ChildCheckboxChange,pe.ChildrenLoad,pe.Delete,pe.DoubleClick,pe.DragMove,pe.Drop,pe.ExpandedChange,pe.FocusableChange,pe.RadioChange,pe.RequestFirstFocus,pe.RequestLastFocus,pe.RequestNextFocus,pe.RequestParentFocus,pe.RequestPreviousFocus,pe.SelectedChange],setup(e,{emit:t}){const i=e,s="input, .grtvn-self-expander, .grtvn-self-expander *, .grtvn-self-action, .grtvn-self-action *",n=Qe(i.initialModel),o=Qe(i.initialRadioGroupValues),c=Qe(null),r=Be(()=>`${E.value}-add-child`),l=Be(()=>typeof x.value.loadChildrenAsync!="function"||x.value._.state.areChildrenLoaded),h=Be(()=>p.value?x.value.state.expanded:null),u=Be(()=>i.selectionMode===rt.None||!x.value.selectable?null:i.selectionMode!==rt.Multiple?x.value.state.selected?!0:null:x.value.state.selected),p=Be(()=>y.value&&x.value.expandable),f=Be(()=>n.value[S.value]),S=Be(()=>x.value.childrenProperty||"children"),b=Be(()=>(x.value.customizations||{}).classes||{}),_=Be(()=>`${E.value}-delete`),a=Be(()=>`${E.value}-exp`),g=Be(()=>f.value&&f.value.length>0),v=Be(()=>n.value[d.value]),d=Be(()=>x.value.idProperty||"id"),m=Be(()=>`${E.value}-input`),w=Be(()=>i.selectionMode!==rt.None&&x.value.selectable&&x.value.state.selected),C=Be(()=>n.value[T.value]),T=Be(()=>x.value.labelProperty||"label"),y=Be(()=>g.value||!l.value),E=Be(()=>`${i.treeId}-${v.value}`),x=Be(()=>n.value.treeNodeSpec),O=Be(()=>i.treeId),{normalizeNodeData:P}=Vp(n,i.modelDefaults,f,S,C,o);P();const{ariaTabIndex:I,handleChildDeletion:G,onClick:re,onKeyDown:ie,handlePreviousFocus:k,handleNextFocus:D}=Yp(i.ariaKeyMap,n,f,y,p,c,X,Re,ae,z,t),{dragMoveChild:L,drop:M,onDragstart:K,onDragenter:ee,onDragover:me,onDragleave:ne,onDrop:oe,onDragend:N}=Jp(n,f,O,t),{focusNode:B}=Qp();function $(J){t(pe.CheckboxChange,n.value,J)}function te(J){t(pe.RadioChange,n.value,J)}async function ae(J){let W=x.value;if(W.state.expanded=!W.state.expanded,t(pe.ExpandedChange,n.value,J),W.state.expanded&&!W._.state.areChildrenLoaded&&!W._.state.areChildrenLoading){W._.state.areChildrenLoading=!0;var ce=await W.loadChildrenAsync(n.value);ce&&(W._.state.areChildrenLoaded=!0,f.value.splice(0,f.value.length,...ce),t(pe.ChildrenLoad,n.value,J)),W._.state.areChildrenLoading=!1}}function Re(J){x.value.selectable&&[rt.Single,rt.Multiple].includes(i.selectionMode)&&(x.value.state.selected=!x.value.state.selected)}function R(J){J.target.matches(s)||(t(pe.Click,n.value,J),Re()),re()}function F(J){J.target.matches(s)||t(pe.DoubleClick,n.value,J)}async function z(J){if(x.value.addChildCallback){var W=await x.value.addChildCallback(n.value);W&&(f.value.push(W),t(pe.Add,W,n.value,J))}}function X(J){x.value.deletable&&t(pe.Delete,n.value,J)}function Y(J,W){let ce=f.value.indexOf(J);ce>-1&&(G(J),f.value.splice(ce,1)),t(pe.Delete,J,W)}function le(J,W){t(pe.CheckboxChange,J,W),f.value.includes(J)&&t(pe.ChildCheckboxChange,n.value,J,W)}return(!v.value||typeof v.value!="number"&&typeof v.value!="string")&&console.error(`initialModel id is required and must be a number or string. Expected prop ${d.value} to exist on the model.`),(!C.value||typeof C.value!="string")&&console.error(`initialModel label is required and must be a string. Expected prop ${T.value} to exist on the model.`),Gt(()=>n.value.treeNodeSpec.state.selected,function(){t(pe.SelectedChange,n.value)}),Gt(()=>x.value.focusable,function(J){J===!0&&(i.isMounted&&c.value.focus(),t(pe.FocusableChange,n.value)),x.value.selectable&&i.selectionMode===rt.SelectionFollowsFocus&&(x.value.state.selected=J)}),(J,W)=>{const ce=ye("TreeViewNode",!0);return j(),V("li",{id:q(E),ref_key:"nodeElement",ref:c,class:ve(["grtvn",[q(b).treeViewNode,q(x)._.dragging?"grtvn-dragging":""]]),role:"treeitem",tabindex:q(I),"aria-expanded":q(h),"aria-selected":q(u),onKeydown:W[20]||(W[20]=(...Q)=>q(ie)&&q(ie)(...Q))},[U("div",{class:ve(["grtvn-self",[q(b).treeViewNodeSelf,q(w)?"grtvn-self-selected":"",q(w)?q(b).treeViewNodeSelfSelected:"",q(x)._.isDropTarget?"grtvn-self-drop-target":"",q(x)._.isChildDropTarget?"grtvn-self-child-drop-target":""]]),draggable:q(x).draggable,dragging:q(x)._.dragging,onClick:R,onDblclick:F,onDragend:W[2]||(W[2]=(...Q)=>q(N)&&q(N)(...Q)),onDragenter:W[3]||(W[3]=(...Q)=>q(ee)&&q(ee)(...Q)),onDragleave:W[4]||(W[4]=(...Q)=>q(ne)&&q(ne)(...Q)),onDragover:W[5]||(W[5]=(...Q)=>q(me)&&q(me)(...Q)),onDragstart:W[6]||(W[6]=(...Q)=>q(K)&&q(K)(...Q)),onDrop:W[7]||(W[7]=(...Q)=>q(oe)&&q(oe)(...Q))},[U("div",{class:ve(["grtvn-self-sibling-drop-target grtvn-self-prev-target",[q(x)._.isPrevDropTarget?"grtvn-self-sibling-drop-target-hover":""]])},null,2),q(p)?(j(),V("button",{key:0,id:q(a),type:"button","aria-hidden":"true",tabindex:"-1",title:q(x).expanderTitle,class:ve(["grtvn-self-expander",[q(b).treeViewNodeSelfExpander,q(x).state.expanded?"grtvn-self-expanded":"",q(x).state.expanded?q(b).treeViewNodeSelfExpanded:""]]),onClick:ae},[U("i",{class:ve(["grtvn-self-expanded-indicator",q(b).treeViewNodeSelfExpandedIndicator])},null,2)],10,t_)):(j(),V("span",{key:1,class:ve(["grtvn-self-spacer",q(b).treeViewNodeSelfSpacer])},null,2)),q(x).input&&q(x).input.type==="checkbox"?Te(J.$slots,"checkbox",{key:2,model:n.value,customClasses:q(b),inputId:q(m),checkboxChangeHandler:$},()=>[U("label",{for:q(m),title:q(x).title,class:ve(["grtvn-self-label",q(b).treeViewNodeSelfLabel])},[st(U("input",{id:q(m),tabindex:"-1",class:ve(["grtvn-self-input grtvn-self-checkbox",[q(b).treeViewNodeSelfInput,q(b).treeViewNodeSelfCheckbox]]),type:"checkbox",disabled:q(x).state.input.disabled,"onUpdate:modelValue":W[0]||(W[0]=Q=>q(x).state.input.value=Q),onChange:$},null,42,s_),[[af,q(x).state.input.value]]),Ge(" "+we(q(C)),1)],10,i_)]):q(x).input&&q(x).input.type==="radio"?Te(J.$slots,"radio",{key:3,model:n.value,customClasses:q(b),inputId:q(m),radioGroupValues:o.value,radioChangeHandler:te},()=>[U("label",{for:q(m),title:q(x).title,class:ve(["grtvn-self-label",q(b).treeViewNodeSelfLabel])},[st(U("input",{id:q(m),tabindex:"-1",class:ve(["grtvn-self-input grtvn-self-radio",[q(b).treeViewNodeSelfInput,q(b).treeViewNodeSelfRadio]]),type:"radio",name:q(x).input.name,value:q(x).input.value,disabled:q(x).state.input.disabled,"onUpdate:modelValue":W[1]||(W[1]=Q=>o.value[q(x).input.name]=Q),onChange:te},null,42,n_),[[lf,o.value[q(x).input.name]]]),Ge(" "+we(q(C)),1)],10,r_)]):Te(J.$slots,"text",{key:4,model:n.value,customClasses:q(b)},()=>[U("span",{title:q(x).title,class:ve(["grtvn-self-text",q(b).treeViewNodeSelfText])},we(q(C)),11,o_)]),q(x).addChildCallback?(j(),V("button",{key:5,id:q(r),type:"button","aria-hidden":"true",tabindex:"-1",title:q(x).addChildTitle,class:ve(["grtvn-self-action",[q(b).treeViewNodeSelfAction,q(b).treeViewNodeSelfAddChild]]),onClick:z},[U("i",{class:ve(["grtvn-self-add-child-icon",q(b).treeViewNodeSelfAddChildIcon])},null,2)],10,a_)):ue("",!0),q(x).deletable?(j(),V("button",{key:6,id:q(_),type:"button","aria-hidden":"true",tabindex:"-1",title:q(x).deleteTitle,class:ve(["grtvn-self-action",[q(b).treeViewNodeSelfAction,q(b).treeViewNodeSelfDelete]]),onClick:X},[U("i",{class:ve(["grtvn-self-delete-icon",q(b).treeViewNodeSelfDeleteIcon])},null,2)],10,l_)):ue("",!0),U("div",{class:ve(["grtvn-self-sibling-drop-target grtvn-self-next-target",[q(x)._.isNextDropTarget?"grtvn-self-sibling-drop-target-hover":""]])},null,2)],42,e_),U("div",{class:ve(["grtvn-children-wrapper",q(b).treeViewNodeChildrenWrapper])},[q(x).state.expanded&&!q(l)?Te(J.$slots,"loading",{key:0,model:n.value,customClasses:q(b)},()=>[U("span",{class:ve(["grtvn-loading",q(b).treeViewNodeLoading])}," ... ",2)]):ue("",!0),q(g)?st((j(),V("ul",{key:1,class:ve(["grtvn-children",q(b).treeViewNodeChildren]),role:"group","aria-hidden":!q(x).state.expanded},[(j(!0),V(xe,null,Ze(q(f),Q=>(j(),tt(ce,{key:Q[q(x)&&q(x).idProperty?q(x).idProperty:"id"],depth:e.depth+1,"initial-model":Q,"model-defaults":e.modelDefaults,"parent-id":q(v),"selection-mode":e.selectionMode,"tree-id":q(O),"initial-radio-group-values":o.value,"aria-key-map":e.ariaKeyMap,"is-mounted":e.isMounted,onTreeNodeClick:W[8]||(W[8]=(de,he)=>J.$emit(q(pe).Click,de,he)),onTreeNodeDblclick:W[9]||(W[9]=(de,he)=>J.$emit(q(pe).DoubleClick,de,he)),onTreeNodeCheckboxChange:le,onTreeNodeChildCheckboxChange:W[10]||(W[10]=(de,he,ge)=>J.$emit(q(pe).ChildCheckboxChange,de,he,ge)),onTreeNodeRadioChange:W[11]||(W[11]=(de,he)=>J.$emit(q(pe).RadioChange,de,he)),onTreeNodeExpandedChange:W[12]||(W[12]=(de,he)=>J.$emit(q(pe).ExpandedChange,de,he)),onTreeNodeChildrenLoad:W[13]||(W[13]=(de,he)=>J.$emit(q(pe).ChildrenLoad,de,he)),onTreeNodeSelectedChange:W[14]||(W[14]=(de,he)=>J.$emit(q(pe).SelectedChange,de,he)),onTreeNodeAdd:W[15]||(W[15]=(de,he,ge)=>J.$emit(q(pe).Add,de,he,ge)),onTreeNodeDelete:Y,onTreeNodeAriaFocusableChange:W[16]||(W[16]=de=>J.$emit(q(pe).FocusableChange,de)),onTreeNodeAriaRequestParentFocus:W[17]||(W[17]=()=>q(B)(n.value)),onTreeNodeAriaRequestFirstFocus:W[18]||(W[18]=()=>J.$emit(q(pe).RequestFirstFocus)),onTreeNodeAriaRequestLastFocus:W[19]||(W[19]=()=>J.$emit(q(pe).RequestLastFocus)),onTreeNodeAriaRequestPreviousFocus:q(k),onTreeNodeAriaRequestNextFocus:q(D),onTreeNodeDragMove:q(L),onTreeNodeDrop:q(M)},{checkbox:De(({model:de,customClasses:he,inputId:ge,checkboxChangeHandler:Se})=>[Te(J.$slots,"checkbox",{model:de,customClasses:he,inputId:ge,checkboxChangeHandler:Se})]),radio:De(({model:de,customClasses:he,inputId:ge,radioGroupValues:Se,radioChangeHandler:ke})=>[Te(J.$slots,"radio",{model:de,customClasses:he,inputId:ge,radioGroupValues:Se,radioChangeHandler:ke})]),text:De(({model:de,customClasses:he})=>[Te(J.$slots,"text",{model:de,customClasses:he})]),loading:De(({model:de,customClasses:he})=>[Te(J.$slots,"loading",{model:de,customClasses:he})]),_:2},1032,["depth","initial-model","model-defaults","parent-id","selection-mode","tree-id","initial-radio-group-values","aria-key-map","is-mounted","onTreeNodeAriaRequestPreviousFocus","onTreeNodeAriaRequestNextFocus","onTreeNodeDragMove","onTreeNodeDrop"]))),128))],10,c_)),[[It,q(x).state.expanded]]):ue("",!0)],2)],42,Zp)}}},d_=U("span",{class:"grtv-loading"}," ... ",-1),u_=["aria-multiselectable"],f_={__name:"TreeView",props:{customAriaKeyMap:{type:Object,required:!1,default:function(){return{}},validator:function(e){for(const t in e)if(!Array.isArray(e[t])||e[t].some(i=>!Number.isInteger(i)))return console.error(`customAriaKeyMap properties must be Arrays of numbers (corresponding to keyCodes); property '${t}' fails check.`),!1;return!0}},initialModel:{type:Array,required:!1,default:function(){return[]}},loadNodesAsync:{type:Function,required:!1,default:null},modelDefaults:{type:Object,required:!1,default:function(){return{}}},selectionMode:{type:String,required:!1,default:rt.None,validator:function(e){return Object.values(rt).includes(e)}},skinClass:{type:String,required:!1,default:"grtv-default-skin",validator:function(e){return e===null||!e.match(/\s/)}}},emits:[pe.Add,pe.CheckboxChange,pe.ChildrenLoad,pe.ChildCheckboxChange,pe.Click,pe.Delete,pe.DoubleClick,pe.ExpandedChange,pe.RadioChange,pe.RootNodesLoad,pe.SelectedChange],setup(e,{expose:t,emit:i}){const s=e,n=Qe(!1),o=Qe(!1),c=Qe(s.initialModel),r=Qe({}),l=Qe(""),h=Qe(null),{generateUniqueId:u}=ac(),{ariaKeyMap:p,enforceSelectionMode:f,handleFocusableChange:S,focusFirstNode:b,focusLastNode:_,handleNodeDeletion:a,handlePreviousFocus:g,handleNextFocus:v}=Wp(c,s.customAriaKeyMap,s.selectionMode,P,I),{dragMoveNode:d,drop:m}=Kp(c,l,O,ie);Gt(()=>s.selectionMode,f);const w=Be(()=>typeof s.loadNodesAsync!="function"||n.value),C=Be(()=>s.selectionMode===rt.None?null:s.selectionMode===rt.Multiple);os(async()=>{await re(),h.value.id&&(l.value=h.value.id),Pr(()=>{I(),o.value=!0})});function T(){return E(D=>D.treeNodeSpec.input&&D.treeNodeSpec.input.type===Ts.Checkbox&&D.treeNodeSpec.state.input.value)}function y(){return E(D=>D.treeNodeSpec.input&&D.treeNodeSpec.input.type===Ts.RadioButton&&r.value[D.treeNodeSpec.input.name]===D.treeNodeSpec.input.value)}function E(D,L=0){let M=[];return typeof D=="function"&&P(K=>{if(D(K))return M.push(K),L<1||M.length<L}),M}function x(){return s.selectionMode===rt.None?[]:E(D=>D.treeNodeSpec.selectable&&D.treeNodeSpec.state.selected)}function O(D){let L=null;return typeof D=="string"&&(L=c.value.find(M=>M[M.treeNodeSpec.idProperty]===D),L||P(M=>{if(L=M[M.treeNodeSpec.childrenProperty].find(K=>K[K.treeNodeSpec.idProperty]===D),L)return!1})),L}function P(D){if(c.value.length===0)return;let L=c.value.slice(),M=!0;for(;L.length>0&&M!==!1;){let K=L.shift(),ee=K.treeNodeSpec.childrenProperty;Array.isArray(K[ee])&&(L=K[ee].concat(L)),M=D(K)}}function I(){if(s.selectionMode===rt.Single){let D=!1;P(L=>{L.treeNodeSpec.state&&L.treeNodeSpec.state.selected===!0&&(D?L.treeNodeSpec.state.selected=!1:D=!0)})}}function G(D,L){s.selectionMode===rt.Single&&D.treeNodeSpec.state.selected&&P(M=>M.treeNodeSpec.state.selected&&M.id!==D.id?(M.treeNodeSpec.state.selected=!1,!1):!0),i(pe.SelectedChange,D,L)}async function re(){if(!w.value){var D=await s.loadNodesAsync();D&&(n.value=!0,c.value.splice(0,c.value.length,...D),i(pe.RootNodesLoad,c.value))}}function ie(D){let L=null;if(typeof D=="string"){let M=c.value.findIndex(K=>K[K.treeNodeSpec.idProperty]===D);M>-1?L=c.value.splice(M,1)[0]:P(K=>{let ee=K[K.treeNodeSpec.childrenProperty];if(M=ee.findIndex(me=>me[me.treeNodeSpec.idProperty]===D),M>-1)return L=ee.splice(M,1)[0],!1})}return L}function k(D,L){let M=c.value.indexOf(D);M>-1&&(a(D),c.value.splice(M,1)),i(pe.Delete,D,L)}return l.value=u(),t({getCheckedCheckboxes:T,getCheckedRadioButtons:y,getMatching:E,getSelected:x}),(D,L)=>(j(),V("div",{ref_key:"treeElement",ref:h,class:ve(["grtv-wrapper",e.skinClass])},[q(w)?ue("",!0):Te(D.$slots,"loading-root",{key:0},()=>[d_]),q(w)?(j(),V("ul",{key:1,class:"grtv",role:"tree","aria-multiselectable":q(C)},[(j(!0),V(xe,null,Ze(c.value,M=>(j(),tt(h_,{key:M[M.treeNodeSpec&&M.treeNodeSpec.idProperty?M.treeNodeSpec.idProperty:"id"],"aria-key-map":q(p),depth:0,"model-defaults":e.modelDefaults,"initial-model":M,"selection-mode":e.selectionMode,"tree-id":l.value,"is-mounted":o.value,"initial-radio-group-values":r.value,onTreeNodeClick:L[0]||(L[0]=(K,ee)=>D.$emit(q(pe).Click,K,ee)),onTreeNodeDblclick:L[1]||(L[1]=(K,ee)=>D.$emit(q(pe).DoubleClick,K,ee)),onTreeNodeCheckboxChange:L[2]||(L[2]=(K,ee)=>D.$emit(q(pe).CheckboxChange,K,ee)),onTreeNodeChildCheckboxChange:L[3]||(L[3]=(K,ee,me)=>D.$emit(q(pe).ChildCheckboxChange,K,ee,me)),onTreeNodeRadioChange:L[4]||(L[4]=(K,ee)=>D.$emit(q(pe).RadioChange,K,ee)),onTreeNodeExpandedChange:L[5]||(L[5]=(K,ee)=>D.$emit(q(pe).ExpandedChange,K,ee)),onTreeNodeChildrenLoad:L[6]||(L[6]=(K,ee)=>D.$emit(q(pe).ChildrenLoad,K,ee)),onTreeNodeSelectedChange:G,onTreeNodeAdd:L[7]||(L[7]=(K,ee,me)=>D.$emit(q(pe).Add,K,ee,me)),onTreeNodeDelete:k,onTreeNodeAriaFocusableChange:q(S),onTreeNodeAriaRequestFirstFocus:q(b),onTreeNodeAriaRequestLastFocus:q(_),onTreeNodeAriaRequestPreviousFocus:q(g),onTreeNodeAriaRequestNextFocus:q(v),onTreeNodeDragMove:q(d),onTreeNodeDrop:q(m)},{checkbox:De(({model:K,customClasses:ee,inputId:me,checkboxChangeHandler:ne})=>[Te(D.$slots,"checkbox",{model:K,customClasses:ee,inputId:me,checkboxChangeHandler:ne})]),radio:De(({model:K,customClasses:ee,inputId:me,radioGroupValues:ne,radioChangeHandler:oe})=>[Te(D.$slots,"radio",{model:K,customClasses:ee,inputId:me,radioGroupValues:ne,radioChangeHandler:oe})]),text:De(({model:K,customClasses:ee})=>[Te(D.$slots,"text",{model:K,customClasses:ee})]),loading:De(({model:K,customClasses:ee})=>[Te(D.$slots,"loading",{model:K,customClasses:ee})]),_:2},1032,["aria-key-map","model-defaults","initial-model","selection-mode","tree-id","is-mounted","initial-radio-group-values","onTreeNodeAriaFocusableChange","onTreeNodeAriaRequestFirstFocus","onTreeNodeAriaRequestLastFocus","onTreeNodeAriaRequestPreviousFocus","onTreeNodeAriaRequestNextFocus","onTreeNodeDragMove","onTreeNodeDrop"]))),128))],8,u_)):ue("",!0)],2))}},p_=({modalRef:e,latest:t,show:i})=>{let s;function n(c){const r=c.target.closest(`.${On}`);if(!!t.value&&(!r||r!==e.value)){if(r&&!r.classList.contains(`${On}-show`))return;s=c.target}}function o(c){c?e.value&&e.value.focus():s&&s.focus()}os(()=>{document.addEventListener("click",n),Gt(()=>i.value,c=>{Pr(()=>o(c))},{immediate:i.value})}),Mr(()=>{document.removeEventListener("click",n)})},__=({close:e,closeClickDimmed:t,closeKeyCode:i,latest:s})=>{let n=null;function o(l){n=l.target}function c(l){t&&n===l.target&&e.value(),n=null}function r(l){l.keyCode===i&&s.value&&e.value()}return os(()=>{i&&document.addEventListener("keyup",r)}),Mr(()=>{i&&document.removeEventListener("keyup",r)}),{onMouseDownDimmed:o,onMouseUpDimmed:c}},g_=({modalRef:e,show:t})=>{const{visibleModals:i,addVisibleModals:s,removeVisibleModals:n}=Gi(bo),o=Be(()=>{const c=[...i.value.values()];return!c.length||!e.value?!1:c[c.length-1]===e.value});return Gt(()=>t.value,()=>{Pr(()=>{!e.value||(t.value?s(e.value):n(e.value))})},{immediate:!0}),{latest:o}};var m_=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i};const v_=Ue({inheritAttrs:!1,props:{close:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!0},options:{type:Object,default:()=>({})}},emits:["before-enter","enter","after-enter","enter-cancelled","before-leave","leave","after-leave","leave-cancelled"],setup(e,t){const{teleportTarget:i}=Gi(bo),{close:s,disabled:n,options:o,modelValue:c}=Sd(e),r=Qe(c.value===void 0?!0:c.value),l=Qe(null),h=Qe(!n.value),u={transition:300,closeClickDimmed:!0,closeKeyCode:27,styleModalContent:{},...o.value};Gt([()=>c.value,()=>n.value],()=>{const a=c.value&&!n.value;h.value=a,c.value&&(r.value=c.value)},{immediate:!0});const{latest:p}=g_({modalRef:l,show:h});p_({latest:p,modalRef:l,show:h});const{onMouseDownDimmed:f,onMouseUpDimmed:S}=__({close:s,closeClickDimmed:u.closeClickDimmed,closeKeyCode:u.closeKeyCode,latest:p});return{CLASS_NAME:On,emitClose:()=>{s.value&&s.value()},inserted:r,latest:p,mergeOptions:u,modalRef:l,onMouseDownDimmed:f,onMouseUpDimmed:S,onTransitionEmit:{beforeEnter:()=>t.emit("before-enter"),enter:()=>t.emit("enter"),afterEnter:()=>t.emit("after-enter"),enterCancelled:()=>t.emit("enter-cancelled"),beforeLeave:()=>t.emit("before-leave"),leave:()=>t.emit("leave"),afterLeave:()=>{t.emit("after-leave"),c.value===!1&&(r.value=!1)},leaveCancelled:()=>t.emit("leave-cancelled")},show:h,teleportTarget:i,transition:u.transition?u.transition/1e3+"s":void 0}}});function b_(e,t,i,s,n,o){return e.inserted?(j(),tt(Su,{key:0,to:e.teleportTarget,disabled:e.disabled},[fe(ao,xn({appear:"",name:e.CLASS_NAME},tu(e.onTransitionEmit)),{default:De(()=>{var c;return[st(U("div",xn({ref:"modalRef",role:"dialog",tabindex:"-1","aria-modal":"true","aria-label":"Modal window",class:[e.CLASS_NAME,{[`${e.CLASS_NAME}-show`]:e.show},{[`${e.CLASS_NAME}-latest`]:e.latest}],style:{transitionDuration:e.transition}},e.$attrs),[U("div",{class:ve(`${e.CLASS_NAME}-content`),style:Hi({transitionDuration:e.transition,...(c=e.mergeOptions)==null?void 0:c.styleModalContent}),onMousedown:t[0]||(t[0]=Fe((...r)=>e.onMouseDownDimmed&&e.onMouseDownDimmed(...r),["self"])),onMouseup:t[1]||(t[1]=(...r)=>e.onMouseUpDimmed&&e.onMouseUpDimmed(...r))},[Te(e.$slots,"default",{emitClose:e.emitClose}),Te(e.$slots,"close")],38)],16),[[It,e.show]])]}),_:3},16,["name"])],8,["to","disabled"])):ue("",!0)}var y_=m_(v_,[["render",b_]]);const bo="VueUniversalModal",On="vue-universal-modal",S_=(e,t={})=>{const{teleportTarget:i="",teleportComponent:s="",teleportComponentId:n="",modalComponent:o="Modal"}=t;if(!i||s||n)return;const c=Qe(new Set),r=h=>{c.value.add(h)},l=h=>{c.value.delete(h)};e.provide(bo,{teleportTarget:i,visibleModals:Dr(c),addVisibleModals:r,removeVisibleModals:l}),e.component(o,y_)};var w_={install:S_};const Mn=1e3*60*10,La=["#ffab1d","#fd8c25","#f36e4a","#fc6148","#d75ab6","#b25ade","#6575ff","#7b77e9","#4ea8ec","#00d0f5","#4eb94e","#51af23","#8b9f1c","#d0b02f","#d0853a","#a4a4a4","#ffc51f","#fe982c","#fd7854","#ff705f","#e467c3","#bd65e9","#7183ff","#8985f7","#55b6ff","#10dcff","#51cd51","#5cba2e","#9eb22f","#debe3d","#e19344","#b8b8b8","#ffd03b","#ffae38","#ff8a6a","#ff7e7e","#ef72ce","#c56df1","#8091ff","#918dff","#69caff","#3ee1ff","#72da72","#71cf43","#abbf3c","#e6c645","#eda04e","#c5c5c5","#ffd84c","#ffb946","#ff987c","#ff8f8f","#fb7eda","#ce76fa","#90a0ff","#9c98ff","#74cbff","#64e7ff","#7ce47c","#85e357","#b8cc49","#edcd4c","#f9ad58","#d0d0d0","#ffe651","#ffbf51","#ffa48b","#ff9d9e","#ff8de1","#d583ff","#97a9ff","#a7a4ff","#82d3ff","#76eaff","#85ed85","#8deb5f","#c2d653","#f5d862","#fcb75c","#d7d7d7","#fff456","#ffc66d","#ffb39e","#ffabad","#ff9de5","#da90ff","#9fb2ff","#b2afff","#8ddaff","#8bedff","#99f299","#97f569","#cde153","#fbe276","#ffc160","#e1e1e1","#fff970","#ffd587","#ffc2b2","#ffb9bd","#ffa5e7","#de9cff","#afbeff","#bbb8ff","#9fd4ff","#9aefff","#b3f7b3","#a0fe72","#dbef6c","#fcee98","#ffca69","#eaeaea","#763700","#9f241e","#982c0e","#a81300","#80035f","#650d90","#082fca","#3531a3","#1d4892","#006f84","#036b03","#236600","#445200","#544509","#702408","#343434","#9a5000","#b33a20","#b02f0f","#c8210a","#950f74","#7b23a7","#263dd4","#4642b4","#1d5cac","#00849c","#0e760e","#287800","#495600","#6c5809","#8d3a13","#4e4e4e","#c36806","#c85120","#bf3624","#df2512","#aa2288","#933bbf","#444cde","#5753c5","#1d71c6","#0099bf","#188018","#2e8c00","#607100","#907609","#ab511f","#686868","#e47b07","#e36920","#d34e2a","#ec3b24","#ba3d99","#9d45c9","#4f5aec","#615dcf","#3286cf","#00abca","#279227","#3a980c","#6c7f00","#ab8b0a","#b56427","#757575","#ff911a","#fc8120","#e7623e","#fa5236","#ca4da9","#a74fd3","#5a68ff","#6d69db","#489bd9","#00bcde","#36a436","#47a519","#798d0a","#c1a120","#bf7730","#8e8e8e"];var Sr=null,ts=null,hc=null;function At(e){ts&&ts.showError(e)}function C_(e){ts&&ts.showWarning(e)}function di(e){return e[0]!="/"&&(e="/"+e),e.split(/[/]+/).join("/")}function E_(e){return e.substring(e.lastIndexOf("/")+1)}function wt(e){return document.location.pathname+e}function k_(e){if(e){e[0]=="/"&&(e=e.substring(1));let t=e.substring(0,e.indexOf("/")),i=e.substring(e.indexOf("/")+1);return t||(t=i,i=""),[t,i]}else return["",""]}async function In(){try{Sr=(await Rt.get(wt("ping"))).data.value,Rt.defaults.headers.common["X-CSRFToken"]=Sr,setTimeout(In,Mn)}catch{setTimeout(In,Mn)}}function x_(e){Sr=e,Rt.defaults.headers.common["X-CSRFToken"]=Sr,setTimeout(In,Mn)}async function Yt(e){const t={args:[].concat.apply([],e.filter(i=>i!=null))};try{const i=await Rt.post(wt("repo"),t);return i.data.returncode!=0?(At(i.data.error.message),null):(i.data.error&&C_(i.data.error.message),i.data.data)}catch(i){return console.log(i),At(i.response?i.response.data.message:i),null}}function T_(e){return new Promise((t,i)=>{let s=document.createElement("link");s.onload=()=>t(!0),s.rel="stylesheet",s.type="text/css",s.href=hc+"/"+e+".css",document.getElementsByTagName("head")[0].appendChild(s)})}function D_(e,t,i,s,n){return hc=n,x_(s),e.use(w_,{teleportTarget:i}),ts=e.mount(t),ts}function yo(e,t){if(t=="tree")return"folder";{const i=(e.substring(e.lastIndexOf(".")+1)||"").toLowerCase();return["zip","tar","tgz","tbz2","txz","z","gz","xz","bz","bz2","7z","lz"].indexOf(i)!=-1?"folder_zip":["jpg","jpeg","png","svg","git","bmp","ief","tif","tiff","ico"].indexOf(i)!=-1?"image":["py"].indexOf(i)!=-1?"description":"file"}}function R_(e,t){return isNaN(e)?"":t=="tree"?e==null?"":e==1?e+" item":e+" items":e<10**3?e.toString()+" B":e<10**6?(e/10**3).toFixed(2)+" kB":e<10**9?(e/10**6).toFixed(2)+" MB":(e/10**9).toFixed(2)+" GB"}class P_{constructor(t,i,s){const n=this;t&&(n.mode=t.mode,n.isGit=i,n.type=t.leaf?"blob":"tree",n.isGit?n.object=t.id:n.object=(s||"")+"/"+t.id,n.mtime=t.mtime?t.mtime.replace("T"," "):"",n.size=t.size,n.name=t.label||t.id,n.isSymbolicLink=(n.mode&12e4)==12e4,n.icon=yo(n.name,n.type),n.isGit?n.href=wt("repo/"+n.object+"/"+n.name):n.type=="tree"?n.href="#files"+encodeURI(n.object):n.href="#edit"+encodeURI(n.object),n.type=="tree"?n.downloadHref="#":n.isGit?n.downloadHref=wt("repo/"+n.object+"/"+n.name):n.downloadHref=wt("files/"+n.object),n.formattedSize=R_(n.size,n.type))}}function li(e,t){return'<span class="material-icons">'+t+"</span> "+e}function A_(e,t){let i=[];return e&&i.push({name:li("Open","file_open"),slug:"open"}),e&&e.type=="blob"&&i.push({name:li("Download","file_download"),slug:"download"}),!t&&e&&(e.type=="blob"||e.size==0)&&i.push({name:li("Delete","delete"),slug:"delete"}),!t&&e&&e.name!=".."&&(i.push({name:li("Move/Rename","drive_file_rename_outline"),slug:"rename"}),i.push({name:li("Open in a new window","open_in_new"),slug:"open_in_new"})),t||(e&&i.push({type:"divider"}),i.push({name:li("New","add_circle"),slug:"new"}),i.push({name:li("Upload","file_upload"),slug:"upload"}),i.push({name:li("Refresh","refresh"),slug:"refresh"})),i}const qe=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},L_=Ue({props:["icon","state"],computed:{effectiveIcon(){return this.icon=="file"?"insert_drive_file":this.icon=="check_box"?this.state?"check_box":"check_box_outline_blank":this.icon}},data(){return{}}}),O_={class:"material-icons"};function M_(e,t,i,s,n,o){return j(),V("span",O_,we(e.effectiveIcon),1)}const ls=qe(L_,[["render",M_]]);const I_=Ue({components:{icon:ls,tree:f_,"vue-simple-context-menu":Hr},props:["config"],data(){return{model:Qe([]),modelDefaults:{loadChildrenAsync:this.loadChildrenAsync},options:[{name:'<span class="material-icons">refresh</span> Refresh',slug:"refresh"}]}},methods:{async parseURIFragment(){const e=/#?([a-z-]+)(\/(.*))?/.exec(document.location.hash),t=e!==null?e[1]:"files",i=e!==null?e[3]:null;t=="tags"||t=="local-branches"||t=="remote-branches"?this.$emit("show",{id:t,name:i}):t=="workspace"?this.$emit("show",{id:"workspace"}):t=="terminal"?this.$emit("show",{id:"terminal"}):t=="edit"&&i?this.$emit("show",{id:"files",path:"/"+i,type:"blob"}):i?this.$emit("show",{id:"files",path:"/"+i,type:"tree"}):this.$emit("show",{id:"files",path:"/",type:"tree"})},async showContainer(){jQuery("#global-container").show()},async fetchTree(){const e=await Rt.get(wt("tree"));this.model.length=0,e.data.value.forEach(t=>{t=this.prepareTreeNode(t),this.model.push(t)})},click(e){const t=k_(e.id),i=t[0],s=(t[1]||"").trim();return console.log("Sidebar.click section: "+i+" name: "+s),i=="workspace"||i=="git"?this.$emit("show",{id:"workspace"}):i=="terminal"?this.$emit("show",{id:"terminal"}):i=="files"?this.$emit("show",{id:"files",path:"/"+s,type:e.leaf?"blob":"tree"}):(i=="tags"||i=="remote-branches"||i=="local-branches")&&(s?this.$emit("show",{id:i,name:s}):jQuery("#sidebar-tree-"+i+"-exp").click()),!1},prepareTreeNode(e,t){return e.label=e.label||e.id,e.type=e.leaf?"blob":"tree",(!e.icon||e.icon=="file")&&(e.icon=yo(e.label,e.type)),e.treeNodeSpec={expandable:!e.leaf},e.leaf||(e.children=[]),t&&(e.id=t.id+"/"+e.id),e},async loadChildrenAsync(e){const t=this;return(await Rt.get(wt("tree/"+e.id))).data.value.map(s=>t.prepareTreeNode(s,e))},async showMenu(e,t){t&&!t.leaf&&this.$refs.sidebarTreeMenu.showMenu(e,t)},menuOptionClicked(e){e.option.slug=="refresh"&&this.menuOptionRefresh(e)},menuOptionRefresh(e){!e.item.treeNodeSpec.expandable||(e.item.treeNodeSpec.state.expanded=!1,e.item.children=[],e.item.treeNodeSpec._.state.areChildrenLoaded=!1,setTimeout(async()=>{let t=e.item.treeNodeSpec;if(t.state.expanded=!0,t.state.expanded&&!t._.state.areChildrenLoaded&&!t._.state.areChildrenLoading){t._.state.areChildrenLoading=!0;const i=await t.loadChildrenAsync(e.item);i&&(t._.state.areChildrenLoaded=!0,e.item.children.splice(0,e.item.children.length,...i)),t._.state.areChildrenLoading=!1}},1))}},async mounted(){await this.fetchTree(),await this.parseURIFragment(),await this.showContainer()}}),B_={class:"sidebar-content"},F_=["title","onContextmenu","onClick"],N_={class:"bug-report"},H_={href:"https://github.com/andreax79/airflow-code-editor/issues",target:"_blank"};function $_(e,t,i,s,n,o){const c=ye("icon"),r=ye("tree"),l=ye("vue-simple-context-menu");return j(),V("div",null,[U("div",B_,[fe(r,{id:"sidebar-tree","initial-model":e.model,"model-defaults":e.modelDefaults},{text:De(({model:h})=>[U("div",{title:h.treeNodeSpec.title,class:"grtvn-self-text",onContextmenu:Fe(u=>e.showMenu(u,h),["prevent","stop"]),onClick:u=>e.click(h)},[fe(c,{icon:h.icon},null,8,["icon"]),Ge(" "+we(h.label),1)],40,F_)]),_:1},8,["initial-model","model-defaults"]),U("span",N_,[U("a",H_,[fe(c,{icon:"bug_report"}),Ge(" Report an issue")])])]),fe(l,{"element-id":"sidebar-tree-menu",options:e.options,ref:"sidebarTreeMenu",onOptionClicked:e.menuOptionClicked},null,8,["options","onOptionClicked"])])}const U_=qe(I_,[["render",$_]]),Oa={name:"root",object:void 0,type:"tree"};class j_{constructor(){this.stack=[{...Oa}]}updateStack(t,i){console.log("Stack.updateStack path:"+t+" type: "+i),this.stack.length=0;let s=null;(t=="/"||!t)&&(t=""),t.split("/").forEach((n,o)=>{o===0&&!n?(this.stack.push({...Oa}),s=""):(s===null?s=n:s+="/"+n,n[0]=="~"&&(n=n.substring(1)),this.stack.push({name:n,object:s,uri:encodeURI(s!==void 0&&s.startsWith("/")?"#files"+s:null),type:"tree"}))}),i=="blob"&&(this.stack[this.stack.length-1].type="blob")}last(){return this.stack[this.stack.length-1]}parent(){return this.stack.length>1?this.stack[this.stack.length-2]:void 0}isGit(){return this.last().object!==void 0&&!this.last().object.startsWith("/")}isRoot(){return this.stack.length==1}pop(){return this.isRoot()?this.stack[0]:this.stack.pop()}push(t){return this.stack.push(t)}slice(t){this.stack=this.stack.slice(0,t)}indexOf(t){let i=this.stack.find(s=>s.object==t.object);return this.stack.indexOf(i)}}/*!
  * vue-good-table-next v0.2.0
  * (c) 2021-present Boris Flesch <boris@singlequote.net>
  * (c) 2017-2021 xaksis <shay@crayonbits.com>
  * @license MIT
  */const W_="asc",dt={Ascending:"asc",Descending:"desc",None:"none"},dc={Pages:"pages",Records:"records"},z_=[10,20,30,40,50];var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bn={exports:{}};(function(e,t){var i=200,s="__lodash_hash_undefined__",n=1,o=2,c=9007199254740991,r="[object Arguments]",l="[object Array]",h="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",f="[object Error]",S="[object Function]",b="[object GeneratorFunction]",_="[object Map]",a="[object Number]",g="[object Null]",v="[object Object]",d="[object Promise]",m="[object Proxy]",w="[object RegExp]",C="[object Set]",T="[object String]",y="[object Symbol]",E="[object Undefined]",x="[object WeakMap]",O="[object ArrayBuffer]",P="[object DataView]",I="[object Float32Array]",G="[object Float64Array]",re="[object Int8Array]",ie="[object Int16Array]",k="[object Int32Array]",D="[object Uint8Array]",L="[object Uint8ClampedArray]",M="[object Uint16Array]",K="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,me=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,oe={};oe[I]=oe[G]=oe[re]=oe[ie]=oe[k]=oe[D]=oe[L]=oe[M]=oe[K]=!0,oe[r]=oe[l]=oe[O]=oe[u]=oe[P]=oe[p]=oe[f]=oe[S]=oe[_]=oe[a]=oe[v]=oe[w]=oe[C]=oe[T]=oe[x]=!1;var N=typeof sr=="object"&&sr&&sr.Object===Object&&sr,B=typeof self=="object"&&self&&self.Object===Object&&self,$=N||B||Function("return this")(),te=t&&!t.nodeType&&t,ae=te&&!0&&e&&!e.nodeType&&e,Re=ae&&ae.exports===te,R=Re&&N.process,F=function(){try{return R&&R.binding&&R.binding("util")}catch{}}(),z=F&&F.isTypedArray;function X(A,H){for(var se=-1,_e=A==null?0:A.length,He=0,Ce=[];++se<_e;){var Ve=A[se];H(Ve,se,A)&&(Ce[He++]=Ve)}return Ce}function Y(A,H){for(var se=-1,_e=H.length,He=A.length;++se<_e;)A[He+se]=H[se];return A}function le(A,H){for(var se=-1,_e=A==null?0:A.length;++se<_e;)if(H(A[se],se,A))return!0;return!1}function J(A,H){for(var se=-1,_e=Array(A);++se<A;)_e[se]=H(se);return _e}function W(A){return function(H){return A(H)}}function ce(A,H){return A.has(H)}function Q(A,H){return A==null?void 0:A[H]}function de(A){var H=-1,se=Array(A.size);return A.forEach(function(_e,He){se[++H]=[He,_e]}),se}function he(A,H){return function(se){return A(H(se))}}function ge(A){var H=-1,se=Array(A.size);return A.forEach(function(_e){se[++H]=_e}),se}var Se=Array.prototype,ke=Function.prototype,Oe=Object.prototype,Le=$["__core-js_shared__"],je=ke.toString,Ke=Oe.hasOwnProperty,Wt=function(){var A=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),cs=Oe.toString,mi=RegExp("^"+je.call(Ke).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hs=Re?$.Buffer:void 0,nt=$.Symbol,yt=$.Uint8Array,ds=Oe.propertyIsEnumerable,Oc=Se.splice,vi=nt?nt.toStringTag:void 0,Co=Object.getOwnPropertySymbols,Mc=hs?hs.isBuffer:void 0,Ic=he(Object.keys,Object),qr=ji($,"DataView"),us=ji($,"Map"),Kr=ji($,"Promise"),Vr=ji($,"Set"),Yr=ji($,"WeakMap"),fs=ji(Object,"create"),Bc=Si(qr),Fc=Si(us),Nc=Si(Kr),Hc=Si(Vr),$c=Si(Yr),Eo=nt?nt.prototype:void 0,Gr=Eo?Eo.valueOf:void 0;function bi(A){var H=-1,se=A==null?0:A.length;for(this.clear();++H<se;){var _e=A[H];this.set(_e[0],_e[1])}}function Uc(){this.__data__=fs?fs(null):{},this.size=0}function jc(A){var H=this.has(A)&&delete this.__data__[A];return this.size-=H?1:0,H}function Wc(A){var H=this.__data__;if(fs){var se=H[A];return se===s?void 0:se}return Ke.call(H,A)?H[A]:void 0}function zc(A){var H=this.__data__;return fs?H[A]!==void 0:Ke.call(H,A)}function qc(A,H){var se=this.__data__;return this.size+=this.has(A)?0:1,se[A]=fs&&H===void 0?s:H,this}bi.prototype.clear=Uc,bi.prototype.delete=jc,bi.prototype.get=Wc,bi.prototype.has=zc,bi.prototype.set=qc;function zt(A){var H=-1,se=A==null?0:A.length;for(this.clear();++H<se;){var _e=A[H];this.set(_e[0],_e[1])}}function Kc(){this.__data__=[],this.size=0}function Vc(A){var H=this.__data__,se=zs(H,A);if(se<0)return!1;var _e=H.length-1;return se==_e?H.pop():Oc.call(H,se,1),--this.size,!0}function Yc(A){var H=this.__data__,se=zs(H,A);return se<0?void 0:H[se][1]}function Gc(A){return zs(this.__data__,A)>-1}function Xc(A,H){var se=this.__data__,_e=zs(se,A);return _e<0?(++this.size,se.push([A,H])):se[_e][1]=H,this}zt.prototype.clear=Kc,zt.prototype.delete=Vc,zt.prototype.get=Yc,zt.prototype.has=Gc,zt.prototype.set=Xc;function yi(A){var H=-1,se=A==null?0:A.length;for(this.clear();++H<se;){var _e=A[H];this.set(_e[0],_e[1])}}function Jc(){this.size=0,this.__data__={hash:new bi,map:new(us||zt),string:new bi}}function Qc(A){var H=qs(this,A).delete(A);return this.size-=H?1:0,H}function Zc(A){return qs(this,A).get(A)}function eh(A){return qs(this,A).has(A)}function th(A,H){var se=qs(this,A),_e=se.size;return se.set(A,H),this.size+=se.size==_e?0:1,this}yi.prototype.clear=Jc,yi.prototype.delete=Qc,yi.prototype.get=Zc,yi.prototype.has=eh,yi.prototype.set=th;function Ws(A){var H=-1,se=A==null?0:A.length;for(this.__data__=new yi;++H<se;)this.add(A[H])}function ih(A){return this.__data__.set(A,s),this}function sh(A){return this.__data__.has(A)}Ws.prototype.add=Ws.prototype.push=ih,Ws.prototype.has=sh;function ti(A){var H=this.__data__=new zt(A);this.size=H.size}function rh(){this.__data__=new zt,this.size=0}function nh(A){var H=this.__data__,se=H.delete(A);return this.size=H.size,se}function oh(A){return this.__data__.get(A)}function ah(A){return this.__data__.has(A)}function lh(A,H){var se=this.__data__;if(se instanceof zt){var _e=se.__data__;if(!us||_e.length<i-1)return _e.push([A,H]),this.size=++se.size,this;se=this.__data__=new yi(_e)}return se.set(A,H),this.size=se.size,this}ti.prototype.clear=rh,ti.prototype.delete=nh,ti.prototype.get=oh,ti.prototype.has=ah,ti.prototype.set=lh;function ch(A,H){var se=Ks(A),_e=!se&&Eh(A),He=!se&&!_e&&Xr(A),Ce=!se&&!_e&&!He&&Oo(A),Ve=se||_e||He||Ce,ot=Ve?J(A.length,String):[],ct=ot.length;for(var We in A)(H||Ke.call(A,We))&&!(Ve&&(We=="length"||He&&(We=="offset"||We=="parent")||Ce&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||bh(We,ct)))&&ot.push(We);return ot}function zs(A,H){for(var se=A.length;se--;)if(Ro(A[se][0],H))return se;return-1}function hh(A,H,se){var _e=H(A);return Ks(A)?_e:Y(_e,se(A))}function ps(A){return A==null?A===void 0?E:g:vi&&vi in Object(A)?mh(A):Ch(A)}function ko(A){return _s(A)&&ps(A)==r}function xo(A,H,se,_e,He){return A===H?!0:A==null||H==null||!_s(A)&&!_s(H)?A!==A&&H!==H:dh(A,H,se,_e,xo,He)}function dh(A,H,se,_e,He,Ce){var Ve=Ks(A),ot=Ks(H),ct=Ve?l:ii(A),We=ot?l:ii(H);ct=ct==r?v:ct,We=We==r?v:We;var St=ct==v,Pt=We==v,gt=ct==We;if(gt&&Xr(A)){if(!Xr(H))return!1;Ve=!0,St=!1}if(gt&&!St)return Ce||(Ce=new ti),Ve||Oo(A)?To(A,H,se,_e,He,Ce):_h(A,H,ct,se,_e,He,Ce);if(!(se&n)){var Et=St&&Ke.call(A,"__wrapped__"),kt=Pt&&Ke.call(H,"__wrapped__");if(Et||kt){var si=Et?A.value():A,qt=kt?H.value():H;return Ce||(Ce=new ti),He(si,qt,se,_e,Ce)}}return gt?(Ce||(Ce=new ti),gh(A,H,se,_e,He,Ce)):!1}function uh(A){if(!Lo(A)||Sh(A))return!1;var H=Po(A)?mi:me;return H.test(Si(A))}function fh(A){return _s(A)&&Ao(A.length)&&!!oe[ps(A)]}function ph(A){if(!wh(A))return Ic(A);var H=[];for(var se in Object(A))Ke.call(A,se)&&se!="constructor"&&H.push(se);return H}function To(A,H,se,_e,He,Ce){var Ve=se&n,ot=A.length,ct=H.length;if(ot!=ct&&!(Ve&&ct>ot))return!1;var We=Ce.get(A);if(We&&Ce.get(H))return We==H;var St=-1,Pt=!0,gt=se&o?new Ws:void 0;for(Ce.set(A,H),Ce.set(H,A);++St<ot;){var Et=A[St],kt=H[St];if(_e)var si=Ve?_e(kt,Et,St,H,A,Ce):_e(Et,kt,St,A,H,Ce);if(si!==void 0){if(si)continue;Pt=!1;break}if(gt){if(!le(H,function(qt,wi){if(!ce(gt,wi)&&(Et===qt||He(Et,qt,se,_e,Ce)))return gt.push(wi)})){Pt=!1;break}}else if(!(Et===kt||He(Et,kt,se,_e,Ce))){Pt=!1;break}}return Ce.delete(A),Ce.delete(H),Pt}function _h(A,H,se,_e,He,Ce,Ve){switch(se){case P:if(A.byteLength!=H.byteLength||A.byteOffset!=H.byteOffset)return!1;A=A.buffer,H=H.buffer;case O:return!(A.byteLength!=H.byteLength||!Ce(new yt(A),new yt(H)));case u:case p:case a:return Ro(+A,+H);case f:return A.name==H.name&&A.message==H.message;case w:case T:return A==H+"";case _:var ot=de;case C:var ct=_e&n;if(ot||(ot=ge),A.size!=H.size&&!ct)return!1;var We=Ve.get(A);if(We)return We==H;_e|=o,Ve.set(A,H);var St=To(ot(A),ot(H),_e,He,Ce,Ve);return Ve.delete(A),St;case y:if(Gr)return Gr.call(A)==Gr.call(H)}return!1}function gh(A,H,se,_e,He,Ce){var Ve=se&n,ot=Do(A),ct=ot.length,We=Do(H),St=We.length;if(ct!=St&&!Ve)return!1;for(var Pt=ct;Pt--;){var gt=ot[Pt];if(!(Ve?gt in H:Ke.call(H,gt)))return!1}var Et=Ce.get(A);if(Et&&Ce.get(H))return Et==H;var kt=!0;Ce.set(A,H),Ce.set(H,A);for(var si=Ve;++Pt<ct;){gt=ot[Pt];var qt=A[gt],wi=H[gt];if(_e)var Mo=Ve?_e(wi,qt,gt,H,A,Ce):_e(qt,wi,gt,A,H,Ce);if(!(Mo===void 0?qt===wi||He(qt,wi,se,_e,Ce):Mo)){kt=!1;break}si||(si=gt=="constructor")}if(kt&&!si){var Vs=A.constructor,Ys=H.constructor;Vs!=Ys&&"constructor"in A&&"constructor"in H&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof Ys=="function"&&Ys instanceof Ys)&&(kt=!1)}return Ce.delete(A),Ce.delete(H),kt}function Do(A){return hh(A,Th,vh)}function qs(A,H){var se=A.__data__;return yh(H)?se[typeof H=="string"?"string":"hash"]:se.map}function ji(A,H){var se=Q(A,H);return uh(se)?se:void 0}function mh(A){var H=Ke.call(A,vi),se=A[vi];try{A[vi]=void 0;var _e=!0}catch{}var He=cs.call(A);return _e&&(H?A[vi]=se:delete A[vi]),He}var vh=Co?function(A){return A==null?[]:(A=Object(A),X(Co(A),function(H){return ds.call(A,H)}))}:Dh,ii=ps;(qr&&ii(new qr(new ArrayBuffer(1)))!=P||us&&ii(new us)!=_||Kr&&ii(Kr.resolve())!=d||Vr&&ii(new Vr)!=C||Yr&&ii(new Yr)!=x)&&(ii=function(A){var H=ps(A),se=H==v?A.constructor:void 0,_e=se?Si(se):"";if(_e)switch(_e){case Bc:return P;case Fc:return _;case Nc:return d;case Hc:return C;case $c:return x}return H});function bh(A,H){return H=H==null?c:H,!!H&&(typeof A=="number"||ne.test(A))&&A>-1&&A%1==0&&A<H}function yh(A){var H=typeof A;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?A!=="__proto__":A===null}function Sh(A){return!!Wt&&Wt in A}function wh(A){var H=A&&A.constructor,se=typeof H=="function"&&H.prototype||Oe;return A===se}function Ch(A){return cs.call(A)}function Si(A){if(A!=null){try{return je.call(A)}catch{}try{return A+""}catch{}}return""}function Ro(A,H){return A===H||A!==A&&H!==H}var Eh=ko(function(){return arguments}())?ko:function(A){return _s(A)&&Ke.call(A,"callee")&&!ds.call(A,"callee")},Ks=Array.isArray;function kh(A){return A!=null&&Ao(A.length)&&!Po(A)}var Xr=Mc||Rh;function xh(A,H){return xo(A,H)}function Po(A){if(!Lo(A))return!1;var H=ps(A);return H==S||H==b||H==h||H==m}function Ao(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=c}function Lo(A){var H=typeof A;return A!=null&&(H=="object"||H=="function")}function _s(A){return A!=null&&typeof A=="object"}var Oo=z?W(z):fh;function Th(A){return kh(A)?ch(A):ph(A)}function Dh(){return[]}function Rh(){return!1}e.exports=xh})(Bn,Bn.exports);var ln=Bn.exports;let Ma={a:["a","\xE0","\xE1","\xE2","\xE3","\xE4","\xE5","\xE6","\u0101","\u0103","\u0105","\u01CE","\u01DF","\u01E1","\u01FB","\u0201","\u0203","\u0227","\u0250","\u0251","\u0252","\u0363","\u0430","\u04D1","\u04D3","\u1D43","\u1D44","\u1D8F","\u1E01","\u1E9A","\u1EA1","\u1EA3","\u1EA5","\u1EA7","\u1EA9","\u1EAB","\u1EAD","\u1EAF","\u1EB1","\u1EB3","\u1EB5","\u1EB7","\u2090","\u2C65","\uFF41"],b:["b","\u0180","\u0183","\u0253","\u15AF","\u1D47","\u1D6C","\u1D80","\u1E03","\u1E05","\u1E07","\uFF42"],c:["c","\xE7","\u0107","\u0109","\u010B","\u010D","\u0188","\u023C","\u0255","\u0368","\u1D04","\u1D9C","\u1E09","\u2184","\uFF43"],d:["d","\u010F","\u0111","\u018B","\u018C","\u0221","\u0256","\u0257","\u0369","\u1D48","\u1D6D","\u1D81","\u1D91","\u1E0B","\u1E0D","\u1E0F","\u1E11","\u1E13","\uFF44"],e:["e","\xE8","\xE9","\xEA","\xEB","\u0113","\u0115","\u0117","\u0119","\u011B","\u01DD","\u0205","\u0207","\u0229","\u0247","\u0258","\u0364","\u1D49","\u1D92","\u1E15","\u1E17","\u1E19","\u1E1B","\u1E1D","\u1EB9","\u1EBB","\u1EBD","\u1EBF","\u1EC1","\u1EC3","\u1EC5","\u1EC7","\u2091","\uFF45"],f:["f","\u0192","\u1D6E","\u1D82","\u1DA0","\u1E1F","\uFF46"],g:["g","\u011D","\u011F","\u0121","\u0123","\u01E5","\u01E7","\u01F5","\u0260","\u0261","\u1D4D","\u1D77","\u1D79","\u1D83","\u1DA2","\u1E21","\uFF47"],h:["h","\u0125","\u0127","\u0195","\u021F","\u0265","\u0266","\u02AE","\u02AF","\u02B0","\u02B1","\u036A","\u04BA","\u04BB","\u144B","\u1DA3","\u1E23","\u1E25","\u1E27","\u1E29","\u1E2B","\u2C68","\uFF48"],i:["i","\xEC","\xED","\xEE","\xEF","\u0129","\u012B","\u012D","\u012F","\u01D0","\u0209","\u020B","\u0268","\u0365","\u1D09","\u1D4E","\u1D62","\u1D96","\u1DA4","\u1E2D","\u1E2F","\u1EC9","\u1ECB","\uFF49"],j:["j","\u0135","\u01F0","\u0249","\u029D","\u02B2","\u1DA1","\u1DA8","\uFF4A"],k:["k","\u0137","\u0199","\u01E9","\u029E","\u1D4F","\u1D84","\u1E31","\u1E33","\u1E35","\u2C6A","\uFF4B"],l:["l","\u013A","\u013C","\u013E","\u0140","\u0142","\u019A","\u0234","\u026B","\u026C","\u026D","\u02E1","\u1D85","\u1DA9","\u1DAA","\u1E37","\u1E39","\u1E3B","\u1E3D","\u2113","\u2C61"],m:["m","\u026F","\u0270","\u0271","\u036B","\u1D1F","\u1D50","\u1D5A","\u1D6F","\u1D86","\u1DAC","\u1DAD","\u1E3F","\u1E41","\u1E43","\u33A1","\u33A5","\uFF4D"],n:["n","\xF1","\u0144","\u0146","\u0148","\u0149","\u019E","\u01F9","\u0235","\u0272","\u0273","\u1D70","\u1D87","\u1DAE","\u1DAF","\u1E45","\u1E47","\u1E49","\u1E4B","\u207F","\uFF4E"],o:["o","\xF2","\xF3","\xF4","\xF5","\xF6","\xF8","\u014D","\u014F","\u0151","\u01A1","\u01D2","\u01EB","\u01ED","\u01FF","\u020D","\u020F","\u022B","\u022D","\u022F","\u0231","\u0275","\u0366","\u043E","\u04E7","\u04E9","\u1D0F","\u1D11","\u1D13","\u1D3C","\u1D52","\u1DB1","\u1E4D","\u1E4F","\u1E51","\u1E53","\u1ECD","\u1ECF","\u1ED1","\u1ED3","\u1ED5","\u1ED7","\u1ED9","\u1EDB","\u1EDD","\u1EDF","\u1EE1","\u1EE3","\u2092","\uFF4F","\u{1042C}"],p:["p","\u1D56","\u1D71","\u1D7D","\u1D88","\u1E55","\u1E57","\uFF50"],q:["q","\u024B","\u02A0","\u16E9","\uFF51"],r:["r","\u0155","\u0157","\u0159","\u0211","\u0213","\u024D","\u0279","\u027B","\u02B3","\u02B4","\u02B5","\u036C","\u1D63","\u1D72","\u1D89","\u1E59","\u1E5B","\u1E5D","\u1E5F"],s:["s","\u015B","\u015D","\u015F","\u0161","\u0219","\u0282","\u1506","\u1D8A","\u1E61","\u1E63","\u1E65","\u1E67","\u1E69","\uFF53"],t:["t","\u0163","\u0165","\u0167","\u01AB","\u01AD","\u021B","\u0287","\u036D","\u1D40","\u1D57","\u1D75","\u1DB5","\u1E6B","\u1E6D","\u1E6F","\u1E71","\u1E97","\uFF54"],u:["u","\xF9","\xFA","\xFB","\xFC","\u0169","\u016B","\u016D","\u016F","\u0171","\u0173","\u01B0","\u01D4","\u01D6","\u01D8","\u01DA","\u01DC","\u0215","\u0217","\u0367","\u07CE","\u1D58","\u1D64","\u1E73","\u1E75","\u1E77","\u1E79","\u1E7B","\u1EE5","\u1EE7","\u1EE9","\u1EEB","\u1EED","\u1EEF","\u1EF1","\uFF55"],v:["v","\u028B","\u036E","\u1D5B","\u1D65","\u1DB9","\u1E7D","\u1E7F","\u2C71","\uFF56","\u2C74"],w:["w","\u0175","\u02B7","\u1D42","\u1E81","\u1E83","\u1E85","\u1E87","\u1E89","\u1E98","\u2C73","\uFF57"],x:["x","\u033D","\u0353","\u1D8D","\u036F","\u1E8B","\u1E8D","\u2093","\uFF58"],y:["y","\xFD","\xFF","\u0177","\u0233","\u024F","\u02B8","\u1E8F","\u1EF3","\u1EF5","\u1EF7","\u1EF9","\uFF59"],z:["z","\u017A","\u017C","\u017E","\u01B6","\u0225","\u0240","\u0290","\u0291","\u1646","\u1647","\u1DBB","\u1DBC","\u1DBD","\u1E91","\u1E93","\u1E95","\u2C6C","\uFF5A"]};const Ia=function(){let e={};for(let t in Ma){let i=Ma[t];for(let s in i){let n=i[s];n!==t&&(e[n]=t)}}return e}(),q_=/[^a-z0-9\s,.-]/,cn=e=>{if(e.search(q_)===-1)return e;let t="",i=e.length;for(var s=0;s<i;s++){let n=e.charAt(s);t+=n in Ia?Ia[n]:n}return t},Ba=e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");var Xi={format(e){return e},filterPredicate(e,t,i=!1,s=!1){if(typeof e>"u"||e===null)return!1;const n=i?String(e).toLowerCase():cn(Ba(String(e)).toLowerCase()),o=i?t.toLowerCase():cn(Ba(t).toLowerCase());return s?n===o:n.indexOf(o)>-1},compare(e,t){function i(s){return typeof s>"u"||s===null?"":cn(String(s).toLowerCase())}return e=i(e),t=i(t),e<t?-1:e>t?1:0}},Ui=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i};const K_={name:"VgtPaginationPageInfo",props:{currentPage:{default:1},lastPage:{default:1},totalRecords:{default:0},ofText:{default:"of",type:String},pageText:{default:"page",type:String},currentPerPage:{},mode:{default:dc.Records},infoFn:{default:null}},data(){return{id:this.getId()}},computed:{pageInfo(){return`${this.ofText} ${this.lastPage}`},firstRecordOnPage(){return(this.currentPage-1)*this.currentPerPage+1},lastRecordOnPage(){return Math.min(this.totalRecords,this.currentPage*this.currentPerPage)},recordInfo(){let e=this.firstRecordOnPage;const t=this.lastRecordOnPage;return t===0&&(e=0),`${e} - ${t} ${this.ofText} ${this.totalRecords}`},infoParams(){let e=this.firstRecordOnPage;const t=this.lastRecordOnPage;return t===0&&(e=0),{firstRecordOnPage:e,lastRecordOnPage:t,totalRecords:this.totalRecords,currentPage:this.currentPage,totalPages:this.lastPage}}},methods:{getId(){return`vgt-page-input-${Math.floor(Math.random()*Date.now())}`},changePage(e){const t=parseInt(e.target.value,10);//! invalid number
if(Number.isNaN(t)||t>this.lastPage||t<1)return e.target.value=this.currentPage,!1;e.target.value=t,this.$emit("page-changed",t)}},mounted(){},components:{}},V_={class:"footer__navigation__page-info"},Y_={key:0},G_=["for"],X_=["id","value"],J_=U("span",{id:"change-page-hint",style:{display:"none"}}," Type a page number and press Enter to change the page. ",-1),Q_={key:2};function Z_(e,t,i,s,n,o){return j(),V("div",V_,[i.infoFn?(j(),V("div",Y_,we(i.infoFn(o.infoParams)),1)):i.mode==="pages"?(j(),V("form",{key:1,onSubmit:t[1]||(t[1]=Fe(()=>{},["prevent"]))},[U("label",{for:n.id,class:"page-info__label"},[U("span",null,we(i.pageText),1),U("input",{id:n.id,"aria-describedby":"change-page-hint","aria-controls":"vgb-table",class:"footer__navigation__page-info__current-entry",type:"text",onKeyup:t[0]||(t[0]=$s(Fe((...c)=>o.changePage&&o.changePage(...c),["stop"]),["enter"])),value:i.currentPage},null,40,X_),U("span",null,we(o.pageInfo),1)],8,G_),J_],32)):(j(),V("div",Q_,we(o.recordInfo),1))])}var eg=Ui(K_,[["render",Z_]]);const tg={name:"VgtPagination",props:{styleClass:{default:"table table-bordered"},total:{default:null},perPage:{},rtl:{default:!1},perPageDropdownEnabled:{default:!0},customRowsPerPageDropdown:{default(){return[]}},paginateDropdownAllowAll:{default:!0},mode:{default:dc.Records},nextText:{default:"Next"},prevText:{default:"Prev"},rowsPerPageText:{default:"Rows per page:"},ofText:{default:"of"},pageText:{default:"page"},allText:{default:"All"},infoFn:{default:null}},data(){return{id:this.getId(),currentPage:1,prevPage:0,currentPerPage:10,rowsPerPageOptions:[]}},watch:{perPage:{handler(e,t){this.handlePerPage(),this.perPageChanged(t)},immediate:!0},customRowsPerPageDropdown:{handler(){this.handlePerPage()},deep:!0},total:{handler(e,t){this.rowsPerPageOptions.indexOf(this.currentPerPage)===-1&&(this.currentPerPage=e)}}},computed:{pagesCount(){const e=Math.floor(this.total/this.currentPerPage);return this.total%this.currentPerPage===0?e:e+1},nextIsPossible(){return this.currentPage<this.pagesCount},prevIsPossible(){return this.currentPage>1}},methods:{getId(){return`vgt-select-rpp-${Math.floor(Math.random()*Date.now())}`},changePage(e,t=!0){e>0&&this.total>this.currentPerPage*(e-1)&&(this.prevPage=this.currentPage,this.currentPage=e,this.pageChanged(t))},nextPage(){this.nextIsPossible&&(this.prevPage=this.currentPage,++this.currentPage,this.pageChanged())},previousPage(){this.prevIsPossible&&(this.prevPage=this.currentPage,--this.currentPage,this.pageChanged())},pageChanged(e=!0){const t={currentPage:this.currentPage,prevPage:this.prevPage};e||(t.noEmit=!0),this.$emit("page-changed",t)},perPageChanged(e){e&&this.$emit("per-page-changed",{currentPerPage:this.currentPerPage}),this.changePage(1,!1)},handlePerPage(){if(this.customRowsPerPageDropdown!==null&&Array.isArray(this.customRowsPerPageDropdown)&&this.customRowsPerPageDropdown.length!==0?this.rowsPerPageOptions=JSON.parse(JSON.stringify(this.customRowsPerPageDropdown)):this.rowsPerPageOptions=JSON.parse(JSON.stringify(z_)),this.perPage){this.currentPerPage=this.perPage;let e=!1;for(let t=0;t<this.rowsPerPageOptions.length;t++)this.rowsPerPageOptions[t]===this.perPage&&(e=!0);!e&&this.perPage!==-1&&this.rowsPerPageOptions.unshift(this.perPage)}else this.currentPerPage=10}},mounted(){},components:{"pagination-page-info":eg}},ig={class:"vgt-wrap__footer vgt-clearfix"},sg={key:0,class:"footer__row-count vgt-pull-left"},rg=["for"],ng=["id"],og=["value"],ag=["value"],lg={class:"footer__navigation vgt-pull-right"};function cg(e,t,i,s,n,o){const c=ye("pagination-page-info");return j(),V("div",ig,[i.perPageDropdownEnabled?(j(),V("div",sg,[U("form",null,[U("label",{for:n.id,class:"footer__row-count__label"},we(i.rowsPerPageText)+":",9,rg),st(U("select",{id:n.id,autocomplete:"off",name:"perPageSelect",class:"footer__row-count__select","onUpdate:modelValue":t[0]||(t[0]=r=>n.currentPerPage=r),onChange:t[1]||(t[1]=(...r)=>o.perPageChanged&&o.perPageChanged(...r)),"aria-controls":"vgt-table"},[(j(!0),V(xe,null,Ze(n.rowsPerPageOptions,(r,l)=>(j(),V("option",{key:l,value:r},we(r),9,og))),128)),i.paginateDropdownAllowAll?(j(),V("option",{key:0,value:i.total},we(i.allText),9,ag)):ue("v-if",!0)],40,ng),[[Dn,n.currentPerPage]])])])):ue("v-if",!0),U("div",lg,[fe(c,{onPageChanged:o.changePage,"total-records":i.total,"last-page":o.pagesCount,"current-page":n.currentPage,"current-per-page":n.currentPerPage,"of-text":i.ofText,"page-text":i.pageText,"info-fn":i.infoFn,mode:i.mode},null,8,["onPageChanged","total-records","last-page","current-page","current-per-page","of-text","page-text","info-fn","mode"]),U("button",{type:"button","aria-controls":"vgt-table",class:ve(["footer__navigation__page-btn",{disabled:!o.prevIsPossible}]),onClick:t[2]||(t[2]=Fe((...r)=>o.previousPage&&o.previousPage(...r),["prevent","stop"]))},[U("span",{"aria-hidden":"true",class:ve(["chevron",{left:!i.rtl,right:i.rtl}])},null,2),U("span",null,we(i.prevText),1)],2),U("button",{type:"button","aria-controls":"vgt-table",class:ve(["footer__navigation__page-btn",{disabled:!o.nextIsPossible}]),onClick:t[3]||(t[3]=Fe((...r)=>o.nextPage&&o.nextPage(...r),["prevent","stop"]))},[U("span",null,we(i.nextText),1),U("span",{"aria-hidden":"true",class:ve(["chevron",{right:!i.rtl,left:i.rtl}])},null,2)],2)])])}var hg=Ui(tg,[["render",cg]]);const dg={name:"VgtGlobalSearch",props:["value","searchEnabled","globalSearchPlaceholder"],emits:["input","keyup","enter"],data(){return{globalSearchTerm:null,id:this.getId()}},computed:{showControlBar(){return!!(this.searchEnabled||this.$slots&&this.$slots["internal-table-actions"])}},methods:{updateValue(e){this.$emit("input",e),this.$emit("keyup",e)},entered(e){this.$emit("enter",e)},getId(){return`vgt-search-${Math.floor(Math.random()*Date.now())}`}}},ug={key:0,class:"vgt-global-search vgt-clearfix"},fg={class:"vgt-global-search__input vgt-pull-left"},pg=["for"],_g=U("span",{"aria-hidden":"true",class:"input__icon"},[U("div",{class:"magnifying-glass"})],-1),gg=U("span",{class:"sr-only"},"Search",-1),mg=[_g,gg],vg=["id","placeholder","value"],bg={class:"vgt-global-search__actions vgt-pull-right"};function yg(e,t,i,s,n,o){return o.showControlBar?(j(),V("div",ug,[U("div",fg,[i.searchEnabled?(j(),V("form",{key:0,onSubmit:t[2]||(t[2]=Fe(()=>{},["prevent"])),role:"search"},[U("label",{for:n.id},mg,8,pg),U("input",{id:n.id,type:"text",class:"vgt-input vgt-pull-left",placeholder:i.globalSearchPlaceholder,value:i.value,onInput:t[0]||(t[0]=c=>o.updateValue(c.target.value)),onKeyup:t[1]||(t[1]=$s(c=>o.entered(c.target.value),["enter"]))},null,40,vg)],32)):ue("v-if",!0)]),U("div",bg,[Te(e.$slots,"internal-table-actions")])])):ue("v-if",!0)}var Sg=Ui(dg,[["render",yg]]);const wg={name:"VgtFilterRow",props:["lineNumbers","columns","expandRowsEnabled","typedColumns","globalSearchEnabled","selectable","mode"],emits:["filter-changed"],watch:{columns:{handler(e,t){this.populateInitialFilters()},deep:!0,immediate:!0}},data(){return{columnFilters:{},timer:null}},computed:{hasFilterRow(){for(let e=0;e<this.columns.length;e++){const t=this.columns[e];if(t.filterOptions&&t.filterOptions.enabled)return!0}return!1}},methods:{fieldKey(e){return typeof e=="function"&&e.name?e.name:e},reset(e=!1){this.columnFilters={},e&&this.$emit("filter-changed",this.columnFilters)},isFilterable(e){return e.filterOptions&&e.filterOptions.enabled},isDropdown(e){return this.isFilterable(e)&&e.filterOptions.filterDropdownItems&&e.filterOptions.filterDropdownItems.length},isDropdownObjects(e){return this.isDropdown(e)&&typeof e.filterOptions.filterDropdownItems[0]=="object"},isDropdownArray(e){return this.isDropdown(e)&&typeof e.filterOptions.filterDropdownItems[0]!="object"},getClasses(e){const t="filter-th";return e.filterOptions&&e.filterOptions.styleClass?[t,...e.filterOptions.styleClass.split(" ")].join(" "):t},getPlaceholder(e){return this.isFilterable(e)&&e.filterOptions.placeholder||`Filter ${e.label}`},getName(e){return`vgt-${this.fieldKey(e.field)}`},updateFiltersOnEnter(e,t){this.timer&&clearTimeout(this.timer),this.updateFiltersImmediately(e.field,t)},updateFiltersOnKeyup(e,t){e.filterOptions.trigger!=="enter"&&this.updateFilters(e,t)},updateSlotFilter(e,t){let i=e.filterOptions.slotFilterField||e.field;typeof e.filterOptions.formatValue=="function"&&(t=e.filterOptions.formatValue(t)),this.updateFiltersImmediately(i,t)},updateFilters(e,t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.updateFiltersImmediately(e.field,t)},400)},updateFiltersImmediately(e,t){this.columnFilters[this.fieldKey(e)]=t,this.$emit("filter-changed",this.columnFilters)},populateInitialFilters(){for(let e=0;e<this.columns.length;e++){const t=this.columns[e];this.isFilterable(t)&&typeof t.filterOptions.filterValue<"u"&&t.filterOptions.filterValue!==null&&(this.columnFilters[this.fieldKey(t.field)]=t.filterOptions.filterValue)}this.$emit("filter-changed",this.columnFilters)}}},Cg={key:0},Eg={key:0},kg={key:1},xg={key:2},Tg={key:0},Dg=["name","placeholder","value","onKeyup","onInput"],Rg=["name","value","onChange"],Pg={value:"",key:"-1"},Ag=["value"],Lg=["name","value","onChange"],Og={value:"",key:"-1"},Mg=["value"];function Ig(e,t,i,s,n,o){return o.hasFilterRow?(j(),V("tr",Cg,[i.expandRowsEnabled?(j(),V("th",Eg)):ue("v-if",!0),i.lineNumbers?(j(),V("th",kg)):ue("v-if",!0),i.selectable?(j(),V("th",xg)):ue("v-if",!0),(j(!0),V(xe,null,Ze(i.columns,(c,r)=>(j(),V(xe,{key:r},[c.hidden?ue("v-if",!0):(j(),V("th",{key:0,class:ve(o.getClasses(c))},[Te(e.$slots,"column-filter",{column:c,updateFilters:o.updateSlotFilter},()=>[o.isFilterable(c)?(j(),V("div",Tg,[o.isDropdown(c)?ue("v-if",!0):(j(),V("input",{key:0,name:o.getName(c),type:"text",class:"vgt-input",placeholder:o.getPlaceholder(c),value:n.columnFilters[o.fieldKey(c.field)],onKeyup:$s(l=>o.updateFiltersOnEnter(c,l.target.value),["enter"]),onInput:l=>o.updateFiltersOnKeyup(c,l.target.value)},null,40,Dg)),ue(" options are a list of primitives "),o.isDropdownArray(c)?(j(),V("select",{key:1,name:o.getName(c),class:"vgt-select",value:n.columnFilters[o.fieldKey(c.field)],onChange:l=>o.updateFiltersImmediately(c.field,l.target.value)},[U("option",Pg,we(o.getPlaceholder(c)),1),(j(!0),V(xe,null,Ze(c.filterOptions.filterDropdownItems,(l,h)=>(j(),V("option",{key:h,value:l},we(l),9,Ag))),128))],40,Rg)):ue("v-if",!0),ue(" options are a list of objects with text and value "),o.isDropdownObjects(c)?(j(),V("select",{key:2,name:o.getName(c),class:"vgt-select",value:n.columnFilters[o.fieldKey(c.field)],onChange:l=>o.updateFiltersImmediately(c.field,l.target.value)},[U("option",Og,we(o.getPlaceholder(c)),1),(j(!0),V(xe,null,Ze(c.filterOptions.filterDropdownItems,(l,h)=>(j(),V("option",{key:h,value:l.value},we(l.text),9,Mg))),128))],40,Lg)):ue("v-if",!0)])):ue("v-if",!0)])],2))],64))),128))])):ue("v-if",!0)}var Bg=Ui(wg,[["render",Ig]]);function Ds(e){return e.firstSortType||W_}function Fg(e,t){return e.length===1&&e[0].field===t.field?e[0].type:void 0}function uc(e,t){return dt.Descending===Ds(t)&&e===dt.Ascending?dt.None:e===dt.Ascending?dt.Descending:dt.Descending===Ds(t)&&e===dt.Descending?dt.Ascending:e===dt.Descending?dt.None:dt.Descending===Ds(t)&&e===dt.None?dt.Descending:dt.Ascending}function Ng(e,t){for(let i=0;i<e.length;i++)if(t.field===e[i].field)return i;return-1}const Hg=(e,t)=>{const i=Fg(e,t),s=uc(i,t);return[{field:t.field,type:i?s:Ds(t)}]},$g=(e,t)=>{const i=Ng(e,t);return i===-1?e.push({field:t.field,type:Ds(t)}):e[i].type=uc(e[i].type,t),e},Ug={name:"VgtTableHeader",props:{lineNumbers:{default:!1,type:Boolean},selectable:{default:!1,type:Boolean},allSelected:{default:!1,type:Boolean},allSelectedIndeterminate:{default:!1,type:Boolean},columns:{type:Array},expandRowsEnabled:{default:!1,type:Boolean},mode:{type:String},typedColumns:{},sortable:{type:Boolean},multipleColumnSort:{type:Boolean,default:!0},getClasses:{type:Function},searchEnabled:{type:Boolean},tableRef:{},paginated:{}},emits:["toggle-select-all","toggle-expand-rows-all","sort-change","filter-changed"],watch:{columns:{handler(){this.setColumnStyles()},immediate:!0,deep:!0},tableRef:{handler(){this.setColumnStyles()},immediate:!0},paginated:{handler(){this.tableRef&&this.setColumnStyles()},deep:!0}},data(){return{checkBoxThStyle:{},lineNumberThStyle:{},columnStyles:[],sorts:[],ro:null}},computed:{},methods:{reset(){this.$refs["filter-row"].reset(!0)},toggleExpandRowsAll(){this.$emit("toggle-expand-rows-all")},toggleSelectAll(){this.$emit("toggle-select-all")},isSortableColumn(e){const{sortable:t}=e;return typeof t=="boolean"?t:this.sortable},sort(e,t){!this.isSortableColumn(t)||(e.shiftKey&&this.multipleColumnSort?this.sorts=$g(this.sorts,t):this.sorts=Hg(this.sorts,t),this.$emit("sort-change",this.sorts))},setInitialSort(e){this.sorts=e,this.$emit("sort-change",this.sorts)},getColumnSort(e){for(let t=0;t<this.sorts.length;t+=1)if(this.sorts[t].field===e.field)return this.sorts[t].type||"asc";return null},getColumnSortLong(e){return this.getColumnSort(e)==="asc"?"ascending":"descending"},getHeaderClasses(e,t){return Object.assign({},this.getClasses(t,"th"),{sortable:this.isSortableColumn(e),"sorting sorting-desc":this.getColumnSort(e)==="desc","sorting sorting-asc":this.getColumnSort(e)==="asc"})},filterRows(e){this.$emit("filter-changed",e)},getWidthStyle(e){return window&&window.getComputedStyle&&e?{width:window.getComputedStyle(e,null).width}:{width:"auto"}},setColumnStyles(){const e=[];for(let t=0;t<this.columns.length;t++)if(this.tableRef){let i=0;this.selectable&&i++,this.lineNumbers&&i++;const s=this.tableRef.rows[0].cells[t+i];e.push(this.getWidthStyle(s))}else e.push({minWidth:this.columns[t].width?this.columns[t].width:"auto",maxWidth:this.columns[t].width?this.columns[t].width:"auto",width:this.columns[t].width?this.columns[t].width:"auto"});this.columnStyles=e},getColumnStyle(e,t){const i={minWidth:e.width?e.width:"auto",maxWidth:e.width?e.width:"auto",width:e.width?e.width:"auto"};if(this.tableRef){this.selectable&&t++,this.lineNumbers&&t++;const s=this.tableRef.rows[0].cells[t],n=window.getComputedStyle(s,null);i.width=n.width}return i}},mounted(){this.$nextTick(()=>{"ResizeObserver"in window&&(this.ro=new ResizeObserver(()=>{this.setColumnStyles()}),this.ro.observe(this.$parent.$el),this.tableRef&&Array.from(this.$parent.$refs["table-header-primary"].$el.children[0].children).forEach(e=>{this.ro.observe(e)}))})},beforeUnmount(){this.ro&&this.ro.disconnect()},components:{"vgt-filter-row":Bg}},jg={key:0,scope:"col",class:"line-numbers"},Wg={key:1,scope:"col",class:"vgt-checkbox-col"},zg=["checked",".indeterminate"],qg={key:2,scope:"col",class:"vgt-checkbox-col"},Kg=["title","aria-sort","aria-controls"],Vg=["onClick"],Yg={class:"sr-only"};function Gg(e,t,i,s,n,o){const c=ye("vgt-filter-row");return j(),V("thead",null,[U("tr",null,[i.lineNumbers?(j(),V("th",jg)):ue("v-if",!0),i.selectable?(j(),V("th",Wg,[U("input",{type:"checkbox",checked:i.allSelected,".indeterminate":i.allSelectedIndeterminate,onChange:t[0]||(t[0]=(...r)=>o.toggleSelectAll&&o.toggleSelectAll(...r))},null,40,zg)])):ue("v-if",!0),i.expandRowsEnabled?(j(),V("th",qg,[U("a",{href:"",onClick:t[1]||(t[1]=Fe((...r)=>o.toggleExpandRowsAll&&o.toggleExpandRowsAll(...r),["prevent"])),class:"vgt-wrap__expander"}," (+) ")])):ue("v-if",!0),(j(!0),V(xe,null,Ze(i.columns,(r,l)=>(j(),V(xe,{key:l},[r.hidden?ue("v-if",!0):(j(),V("th",{key:0,scope:"col",title:r.tooltip,class:ve(o.getHeaderClasses(r,l)),style:Hi(n.columnStyles[l]),"aria-sort":o.getColumnSortLong(r),"aria-controls":`col-${l}`},[Te(e.$slots,"table-column",{column:r},()=>[Ge(we(r.label),1)]),o.isSortableColumn(r)?(j(),V("button",{key:0,onClick:h=>o.sort(h,r)},[U("span",Yg," Sort table by "+we(r.label)+" in "+we(o.getColumnSortLong(r))+" order ",1)],8,Vg)):ue("v-if",!0)],14,Kg))],64))),128))]),fe(c,{ref:"filter-row",onFilterChanged:o.filterRows,"global-search-enabled":i.searchEnabled,"line-numbers":i.lineNumbers,"expand-rows-enabled":i.expandRowsEnabled,selectable:i.selectable,columns:i.columns,mode:i.mode,"typed-columns":i.typedColumns},{"column-filter":De(r=>[Te(e.$slots,"column-filter",{column:r.column,updateFilters:r.updateFilters})]),_:3},8,["onFilterChanged","global-search-enabled","line-numbers","expand-rows-enabled","selectable","columns","mode","typed-columns"])])}var Xg=Ui(Ug,[["render",Gg]]);const Jg={name:"VgtHeaderRow",props:{headerRow:{type:Object},columns:{type:Array},lineNumbers:{type:Boolean},selectable:{type:Boolean},selectAllByGroup:{type:Boolean},collapsable:{type:[Boolean,Number],default:!1},collectFormatted:{type:Function},formattedRow:{type:Function},getClasses:{type:Function},fullColspan:{type:Number},groupIndex:{type:Number}},emits:["vgtExpand","select-group-change"],data(){return{}},computed:{allSelected(){const{headerRow:e}=this;return e.children.filter(t=>t.vgtSelected).length===e.children.length}},methods:{columnCollapsable(e){return this.collapsable===!0?e===0:e===this.collapsable},toggleSelectGroup(e){this.$emit("select-group-change",{groupIndex:this.groupIndex,checked:e.target.checked})}},mounted(){},components:{}},Qg=["colspan"],Zg=["checked"],em=["innerHTML"],tm={key:1},im={key:1,class:"vgt-row-header"},sm={key:2,class:"vgt-row-header"},rm=["checked"],nm=["onClick"],om={key:0},am=["innerHTML"];function lm(e,t,i,s,n,o){return j(),V("tr",null,[i.headerRow.mode==="span"?(j(),V("th",{key:0,class:"vgt-left-align vgt-row-header",colspan:i.fullColspan},[i.selectAllByGroup?Te(e.$slots,"table-header-group-select",{key:0,columns:i.columns,row:i.headerRow},()=>[U("input",{type:"checkbox",checked:o.allSelected,onChange:t[0]||(t[0]=c=>o.toggleSelectGroup(c))},null,40,Zg)]):ue("v-if",!0),U("span",{onClick:t[1]||(t[1]=c=>i.collapsable?e.$emit("vgtExpand",!i.headerRow.vgtIsExpanded):()=>{})},[i.collapsable?(j(),V("span",{key:0,class:ve(["triangle",{expand:i.headerRow.vgtIsExpanded}])},null,2)):ue("v-if",!0),Te(e.$slots,"table-header-row",{row:i.headerRow},()=>[i.headerRow.html?(j(),V("span",{key:0,innerHTML:i.headerRow.label},null,8,em)):(j(),V("span",tm,we(i.headerRow.label),1))])])],8,Qg)):ue("v-if",!0),ue(" if the mode is not span, we display every column "),i.headerRow.mode!=="span"&&i.lineNumbers?(j(),V("th",im)):ue("v-if",!0),i.headerRow.mode!=="span"&&i.selectable?(j(),V("th",sm,[i.selectAllByGroup?Te(e.$slots,"table-header-group-select",{key:0,columns:i.columns,row:i.headerRow},()=>[U("input",{type:"checkbox",checked:o.allSelected,onChange:t[2]||(t[2]=c=>o.toggleSelectGroup(c))},null,40,rm)]):ue("v-if",!0)])):ue("v-if",!0),(j(!0),V(xe,null,Ze(i.columns,(c,r)=>(j(),V(xe,{key:r},[i.headerRow.mode!=="span"&&!c.hidden?(j(),V("th",{key:0,class:ve(["vgt-row-header",i.getClasses(r,"td")]),onClick:l=>o.columnCollapsable(r)?e.$emit("vgtExpand",!i.headerRow.vgtIsExpanded):()=>{}},[o.columnCollapsable(r)?(j(),V("span",{key:0,class:ve(["triangle",{expand:i.headerRow.vgtIsExpanded}])},null,2)):ue("v-if",!0),Te(e.$slots,"table-header-row",{row:i.headerRow,column:c,formattedRow:i.formattedRow(i.headerRow,!0)},()=>[c.html?ue("v-if",!0):(j(),V("span",om,we(i.collectFormatted(i.headerRow,c,!0)),1)),c.html?(j(),V("span",{key:1,innerHTML:i.collectFormatted(i.headerRow,c,!0)},null,8,am)):ue("v-if",!0)])],10,nm)):ue("v-if",!0)],64))),128))])}var cm=Ui(Jg,[["render",lm]]);function Xe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function it(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function lt(e){it(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function hm(e,t){it(2,arguments);var i=lt(e).getTime(),s=Xe(t);return new Date(i+s)}function fc(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function dm(e,t){it(2,arguments);var i=lt(e),s=lt(t),n=i.getTime()-s.getTime();return n<0?-1:n>0?1:n}function um(e){return it(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wr(e){if(it(1,arguments),!um(e)&&typeof e!="number")return!1;var t=lt(e);return!isNaN(Number(t))}var fm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pm=function(e,t,i){var s,n=fm[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s},_m=pm;function hn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth,s=e.formats[i]||e.formats[e.defaultWidth];return s}}var gm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bm={date:hn({formats:gm,defaultWidth:"full"}),time:hn({formats:mm,defaultWidth:"full"}),dateTime:hn({formats:vm,defaultWidth:"full"})},ym=bm,Sm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wm=function(e,t,i,s){return Sm[e]},Cm=wm;function ys(e){return function(t,i){var s=i||{},n=s.context?String(s.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var c=e.defaultFormattingWidth||e.defaultWidth,r=s.width?String(s.width):c;o=e.formattingValues[r]||e.formattingValues[c]}else{var l=e.defaultWidth,h=s.width?String(s.width):e.defaultWidth;o=e.values[h]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var Em={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},km={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pm=function(e,t){var i=Number(e),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Am={ordinalNumber:Pm,era:ys({values:Em,defaultWidth:"wide"}),quarter:ys({values:km,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ys({values:xm,defaultWidth:"wide"}),day:ys({values:Tm,defaultWidth:"wide"}),dayPeriod:ys({values:Dm,defaultWidth:"wide",formattingValues:Rm,defaultFormattingWidth:"wide"})},Lm=Am;function Ss(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;var c=o[0],r=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(r)?Mm(r,function(p){return p.test(c)}):Om(r,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(l):l,h=i.valueCallback?i.valueCallback(h):h;var u=t.slice(c.length);return{value:h,rest:u}}}function Om(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}function Mm(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}function Im(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var n=s[0],o=t.match(e.parsePattern);if(!o)return null;var c=e.valueCallback?e.valueCallback(o[0]):o[0];c=i.valueCallback?i.valueCallback(c):c;var r=t.slice(n.length);return{value:c,rest:r}}}var Bm=/^(\d+)(th|st|nd|rd)?/i,Fm=/\d+/i,Nm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hm={any:[/^b/i,/^(a|c)/i]},$m={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Um={any:[/1/i,/2/i,/3/i,/4/i]},jm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Km={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ym={ordinalNumber:Im({matchPattern:Bm,parsePattern:Fm,valueCallback:function(e){return parseInt(e,10)}}),era:Ss({matchPatterns:Nm,defaultMatchWidth:"wide",parsePatterns:Hm,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:$m,defaultMatchWidth:"wide",parsePatterns:Um,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ss({matchPatterns:jm,defaultMatchWidth:"wide",parsePatterns:Wm,defaultParseWidth:"any"}),day:Ss({matchPatterns:zm,defaultMatchWidth:"wide",parsePatterns:qm,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:Km,defaultMatchWidth:"any",parsePatterns:Vm,defaultParseWidth:"any"})},Gm=Ym,Xm={code:"en-US",formatDistance:_m,formatLong:ym,formatRelative:Cm,localize:Lm,match:Gm,options:{weekStartsOn:0,firstWeekContainsDate:1}},pc=Xm;function _c(e,t){it(2,arguments);var i=Xe(t);return hm(e,-i)}var Jm=864e5;function Qm(e){it(1,arguments);var t=lt(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),n=i-s;return Math.floor(n/Jm)+1}function is(e){it(1,arguments);var t=1,i=lt(e),s=i.getUTCDay(),n=(s<t?7:0)+s-t;return i.setUTCDate(i.getUTCDate()-n),i.setUTCHours(0,0,0,0),i}function gc(e){it(1,arguments);var t=lt(e),i=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(i+1,0,4),s.setUTCHours(0,0,0,0);var n=is(s),o=new Date(0);o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0);var c=is(o);return t.getTime()>=n.getTime()?i+1:t.getTime()>=c.getTime()?i:i-1}function Zm(e){it(1,arguments);var t=gc(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var s=is(i);return s}var ev=6048e5;function mc(e){it(1,arguments);var t=lt(e),i=is(t).getTime()-Zm(t).getTime();return Math.round(i/ev)+1}function Ii(e,t){it(1,arguments);var i=t||{},s=i.locale,n=s&&s.options&&s.options.weekStartsOn,o=n==null?0:Xe(n),c=i.weekStartsOn==null?o:Xe(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var r=lt(e),l=r.getUTCDay(),h=(l<c?7:0)+l-c;return r.setUTCDate(r.getUTCDate()-h),r.setUTCHours(0,0,0,0),r}function So(e,t){it(1,arguments);var i=lt(e),s=i.getUTCFullYear(),n=t||{},o=n.locale,c=o&&o.options&&o.options.firstWeekContainsDate,r=c==null?1:Xe(c),l=n.firstWeekContainsDate==null?r:Xe(n.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(s+1,0,l),h.setUTCHours(0,0,0,0);var u=Ii(h,t),p=new Date(0);p.setUTCFullYear(s,0,l),p.setUTCHours(0,0,0,0);var f=Ii(p,t);return i.getTime()>=u.getTime()?s+1:i.getTime()>=f.getTime()?s:s-1}function tv(e,t){it(1,arguments);var i=t||{},s=i.locale,n=s&&s.options&&s.options.firstWeekContainsDate,o=n==null?1:Xe(n),c=i.firstWeekContainsDate==null?o:Xe(i.firstWeekContainsDate),r=So(e,t),l=new Date(0);l.setUTCFullYear(r,0,c),l.setUTCHours(0,0,0,0);var h=Ii(l,t);return h}var iv=6048e5;function vc(e,t){it(1,arguments);var i=lt(e),s=Ii(i,t).getTime()-tv(i,t).getTime();return Math.round(s/iv)+1}function Ie(e,t){for(var i=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return i+s}var sv={y:function(e,t){var i=e.getUTCFullYear(),s=i>0?i:1-i;return Ie(t==="yy"?s%100:s,t.length)},M:function(e,t){var i=e.getUTCMonth();return t==="M"?String(i+1):Ie(i+1,2)},d:function(e,t){return Ie(e.getUTCDate(),t.length)},a:function(e,t){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,t){return Ie(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ie(e.getUTCHours(),t.length)},m:function(e,t){return Ie(e.getUTCMinutes(),t.length)},s:function(e,t){return Ie(e.getUTCSeconds(),t.length)},S:function(e,t){var i=t.length,s=e.getUTCMilliseconds(),n=Math.floor(s*Math.pow(10,i-3));return Ie(n,t.length)}},ci=sv,Wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rv={G:function(e,t,i){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){var s=e.getUTCFullYear(),n=s>0?s:1-s;return i.ordinalNumber(n,{unit:"year"})}return ci.y(e,t)},Y:function(e,t,i,s){var n=So(e,s),o=n>0?n:1-n;if(t==="YY"){var c=o%100;return Ie(c,2)}return t==="Yo"?i.ordinalNumber(o,{unit:"year"}):Ie(o,t.length)},R:function(e,t){var i=gc(e);return Ie(i,t.length)},u:function(e,t){var i=e.getUTCFullYear();return Ie(i,t.length)},Q:function(e,t,i){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,i){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,i){var s=e.getUTCMonth();switch(t){case"M":case"MM":return ci.M(e,t);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,i){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,i,s){var n=vc(e,s);return t==="wo"?i.ordinalNumber(n,{unit:"week"}):Ie(n,t.length)},I:function(e,t,i){var s=mc(e);return t==="Io"?i.ordinalNumber(s,{unit:"week"}):Ie(s,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):ci.d(e,t)},D:function(e,t,i){var s=Qm(e);return t==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,t.length)},E:function(e,t,i){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,i,s){var n=e.getUTCDay(),o=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ie(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,i,s){var n=e.getUTCDay(),o=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ie(o,t.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,i){var s=e.getUTCDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return Ie(n,t.length);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,i){var s=e.getUTCHours(),n=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,i){var s=e.getUTCHours(),n;switch(s===12?n=Wi.noon:s===0?n=Wi.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,i){var s=e.getUTCHours(),n;switch(s>=17?n=Wi.evening:s>=12?n=Wi.afternoon:s>=4?n=Wi.morning:n=Wi.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return ci.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ci.H(e,t)},K:function(e,t,i){var s=e.getUTCHours()%12;return t==="Ko"?i.ordinalNumber(s,{unit:"hour"}):Ie(s,t.length)},k:function(e,t,i){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?i.ordinalNumber(s,{unit:"hour"}):Ie(s,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ci.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ci.s(e,t)},S:function(e,t){return ci.S(e,t)},X:function(e,t,i,s){var n=s._originalDate||e,o=n.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Na(o);case"XXXX":case"XX":return Di(o);case"XXXXX":case"XXX":default:return Di(o,":")}},x:function(e,t,i,s){var n=s._originalDate||e,o=n.getTimezoneOffset();switch(t){case"x":return Na(o);case"xxxx":case"xx":return Di(o);case"xxxxx":case"xxx":default:return Di(o,":")}},O:function(e,t,i,s){var n=s._originalDate||e,o=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Fa(o,":");case"OOOO":default:return"GMT"+Di(o,":")}},z:function(e,t,i,s){var n=s._originalDate||e,o=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Fa(o,":");case"zzzz":default:return"GMT"+Di(o,":")}},t:function(e,t,i,s){var n=s._originalDate||e,o=Math.floor(n.getTime()/1e3);return Ie(o,t.length)},T:function(e,t,i,s){var n=s._originalDate||e,o=n.getTime();return Ie(o,t.length)}};function Fa(e,t){var i=e>0?"-":"+",s=Math.abs(e),n=Math.floor(s/60),o=s%60;if(o===0)return i+String(n);var c=t||"";return i+String(n)+c+Ie(o,2)}function Na(e,t){if(e%60===0){var i=e>0?"-":"+";return i+Ie(Math.abs(e)/60,2)}return Di(e,t)}function Di(e,t){var i=t||"",s=e>0?"-":"+",n=Math.abs(e),o=Ie(Math.floor(n/60),2),c=Ie(n%60,2);return s+o+i+c}var nv=rv;function Ha(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function bc(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function ov(e,t){var i=e.match(/(P+)(p+)?/)||[],s=i[1],n=i[2];if(!n)return Ha(e,t);var o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ha(s,t)).replace("{{time}}",bc(n,t))}var av={p:bc,P:ov},yc=av,lv=["D","DD"],cv=["YY","YYYY"];function Sc(e){return lv.indexOf(e)!==-1}function wc(e){return cv.indexOf(e)!==-1}function Cr(e,t,i){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"))}var hv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uv=/^'([^]*?)'?$/,fv=/''/g,pv=/[a-zA-Z]/;function _v(e,t,i){it(2,arguments);var s=String(t),n=i||{},o=n.locale||pc,c=o.options&&o.options.firstWeekContainsDate,r=c==null?1:Xe(c),l=n.firstWeekContainsDate==null?r:Xe(n.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=o.options&&o.options.weekStartsOn,u=h==null?0:Xe(h),p=n.weekStartsOn==null?u:Xe(n.weekStartsOn);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=lt(e);if(!wr(f))throw new RangeError("Invalid time value");var S=fc(f),b=_c(f,S),_={firstWeekContainsDate:l,weekStartsOn:p,locale:o,_originalDate:f},a=s.match(dv).map(function(g){var v=g[0];if(v==="p"||v==="P"){var d=yc[v];return d(g,o.formatLong,_)}return g}).join("").match(hv).map(function(g){if(g==="''")return"'";var v=g[0];if(v==="'")return gv(g);var d=nv[v];if(d)return!n.useAdditionalWeekYearTokens&&wc(g)&&Cr(g,t,e),!n.useAdditionalDayOfYearTokens&&Sc(g)&&Cr(g,t,e),d(b,g,o.localize,_);if(v.match(pv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return g}).join("");return a}function gv(e){return e.match(uv)[1].replace(fv,"'")}function mv(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function dn(e,t,i){it(2,arguments);var s=i||{},n=s.locale,o=n&&n.options&&n.options.weekStartsOn,c=o==null?0:Xe(o),r=s.weekStartsOn==null?c:Xe(s.weekStartsOn);if(!(r>=0&&r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=lt(e),h=Xe(t),u=l.getUTCDay(),p=h%7,f=(p+7)%7,S=(f<r?7:0)+h-u;return l.setUTCDate(l.getUTCDate()+S),l}function vv(e,t){it(2,arguments);var i=Xe(t);i%7===0&&(i=i-7);var s=1,n=lt(e),o=n.getUTCDay(),c=i%7,r=(c+7)%7,l=(r<s?7:0)+i-o;return n.setUTCDate(n.getUTCDate()+l),n}function bv(e,t){it(2,arguments);var i=lt(e),s=Xe(t),n=mc(i)-s;return i.setUTCDate(i.getUTCDate()-n*7),i}function yv(e,t,i){it(2,arguments);var s=lt(e),n=Xe(t),o=vc(s,i)-n;return s.setUTCDate(s.getUTCDate()-o*7),s}var Sv=36e5,wv=6e4,Cv=1e3,Je={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ft={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ze(e,t,i){var s=t.match(e);if(!s)return null;var n=parseInt(s[0],10);return{value:i?i(n):n,rest:t.slice(s[0].length)}}function Nt(e,t){var i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};var s=i[1]==="+"?1:-1,n=i[2]?parseInt(i[2],10):0,o=i[3]?parseInt(i[3],10):0,c=i[5]?parseInt(i[5],10):0;return{value:s*(n*Sv+o*wv+c*Cv),rest:t.slice(i[0].length)}}function $a(e,t){return ze(Je.anyDigitsSigned,e,t)}function Ye(e,t,i){switch(e){case 1:return ze(Je.singleDigit,t,i);case 2:return ze(Je.twoDigits,t,i);case 3:return ze(Je.threeDigits,t,i);case 4:return ze(Je.fourDigits,t,i);default:return ze(new RegExp("^\\d{1,"+e+"}"),t,i)}}function rr(e,t,i){switch(e){case 1:return ze(Je.singleDigitSigned,t,i);case 2:return ze(Je.twoDigitsSigned,t,i);case 3:return ze(Je.threeDigitsSigned,t,i);case 4:return ze(Je.fourDigitsSigned,t,i);default:return ze(new RegExp("^-?\\d{1,"+e+"}"),t,i)}}function un(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ua(e,t){var i=t>0,s=i?t:1-t,n;if(s<=50)n=e||100;else{var o=s+50,c=Math.floor(o/100)*100,r=e>=o%100;n=e+c-(r?100:0)}return i?n:1-n}var Ev=[31,28,31,30,31,30,31,31,30,31,30,31],kv=[31,29,31,30,31,30,31,31,30,31,30,31];function ja(e){return e%400===0||e%4===0&&e%100!==0}var xv={G:{priority:140,parse:function(e,t,i,s){switch(t){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}},set:function(e,t,i,s){return t.era=i,e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,i,s){var n=function(o){return{year:o,isTwoDigitYear:t==="yy"}};switch(t){case"y":return Ye(4,e,n);case"yo":return i.ordinalNumber(e,{unit:"year",valueCallback:n});default:return Ye(t.length,e,n)}},validate:function(e,t,i){return t.isTwoDigitYear||t.year>0},set:function(e,t,i,s){var n=e.getUTCFullYear();if(i.isTwoDigitYear){var o=Ua(i.year,n);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var c=!("era"in t)||t.era===1?i.year:1-i.year;return e.setUTCFullYear(c,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,i,s){var n=function(o){return{year:o,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return Ye(4,e,n);case"Yo":return i.ordinalNumber(e,{unit:"year",valueCallback:n});default:return Ye(t.length,e,n)}},validate:function(e,t,i){return t.isTwoDigitYear||t.year>0},set:function(e,t,i,s){var n=So(e,s);if(i.isTwoDigitYear){var o=Ua(i.year,n);return e.setUTCFullYear(o,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Ii(e,s)}var c=!("era"in t)||t.era===1?i.year:1-i.year;return e.setUTCFullYear(c,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Ii(e,s)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,i,s){return rr(t==="R"?4:t.length,e)},set:function(e,t,i,s){var n=new Date(0);return n.setUTCFullYear(i,0,4),n.setUTCHours(0,0,0,0),is(n)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,i,s){return rr(t==="u"?4:t.length,e)},set:function(e,t,i,s){return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,i,s){switch(t){case"Q":case"QQ":return Ye(t.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,i){return t>=1&&t<=4},set:function(e,t,i,s){return e.setUTCMonth((i-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,i,s){switch(t){case"q":case"qq":return Ye(t.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,i){return t>=1&&t<=4},set:function(e,t,i,s){return e.setUTCMonth((i-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,i,s){var n=function(o){return o-1};switch(t){case"M":return ze(Je.month,e,n);case"MM":return Ye(2,e,n);case"Mo":return i.ordinalNumber(e,{unit:"month",valueCallback:n});case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,i){return t>=0&&t<=11},set:function(e,t,i,s){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,i,s){var n=function(o){return o-1};switch(t){case"L":return ze(Je.month,e,n);case"LL":return Ye(2,e,n);case"Lo":return i.ordinalNumber(e,{unit:"month",valueCallback:n});case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,i){return t>=0&&t<=11},set:function(e,t,i,s){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,i,s){switch(t){case"w":return ze(Je.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=1&&t<=53},set:function(e,t,i,s){return Ii(yv(e,i,s),s)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,i,s){switch(t){case"I":return ze(Je.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=1&&t<=53},set:function(e,t,i,s){return is(bv(e,i,s),s)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,i,s){switch(t){case"d":return ze(Je.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return Ye(t.length,e)}},validate:function(e,t,i){var s=e.getUTCFullYear(),n=ja(s),o=e.getUTCMonth();return n?t>=1&&t<=kv[o]:t>=1&&t<=Ev[o]},set:function(e,t,i,s){return e.setUTCDate(i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,i,s){switch(t){case"D":case"DD":return ze(Je.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return Ye(t.length,e)}},validate:function(e,t,i){var s=e.getUTCFullYear(),n=ja(s);return n?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,i,s){return e.setUTCMonth(0,i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,i,s){switch(t){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,i){return t>=0&&t<=6},set:function(e,t,i,s){return e=dn(e,i,s),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,i,s){var n=function(o){var c=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return Ye(t.length,e,n);case"eo":return i.ordinalNumber(e,{unit:"day",valueCallback:n});case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,i){return t>=0&&t<=6},set:function(e,t,i,s){return e=dn(e,i,s),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,i,s){var n=function(o){var c=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return Ye(t.length,e,n);case"co":return i.ordinalNumber(e,{unit:"day",valueCallback:n});case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,i){return t>=0&&t<=6},set:function(e,t,i,s){return e=dn(e,i,s),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,i,s){var n=function(o){return o===0?7:o};switch(t){case"i":case"ii":return Ye(t.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return i.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||i.day(e,{width:"short",context:"formatting",valueCallback:n})||i.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiii":return i.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiiii":return i.day(e,{width:"short",context:"formatting",valueCallback:n})||i.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiii":default:return i.day(e,{width:"wide",context:"formatting",valueCallback:n})||i.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||i.day(e,{width:"short",context:"formatting",valueCallback:n})||i.day(e,{width:"narrow",context:"formatting",valueCallback:n})}},validate:function(e,t,i){return t>=1&&t<=7},set:function(e,t,i,s){return e=vv(e,i,s),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,i,s){switch(t){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,i,s){return e.setUTCHours(un(i),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,i,s){switch(t){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,i,s){return e.setUTCHours(un(i),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,i,s){switch(t){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,i,s){return e.setUTCHours(un(i),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,i,s){switch(t){case"h":return ze(Je.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=1&&t<=12},set:function(e,t,i,s){var n=e.getUTCHours()>=12;return n&&i<12?e.setUTCHours(i+12,0,0,0):!n&&i===12?e.setUTCHours(0,0,0,0):e.setUTCHours(i,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,i,s){switch(t){case"H":return ze(Je.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=0&&t<=23},set:function(e,t,i,s){return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,i,s){switch(t){case"K":return ze(Je.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=0&&t<=11},set:function(e,t,i,s){var n=e.getUTCHours()>=12;return n&&i<12?e.setUTCHours(i+12,0,0,0):e.setUTCHours(i,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,i,s){switch(t){case"k":return ze(Je.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=1&&t<=24},set:function(e,t,i,s){var n=i<=24?i%24:i;return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,i,s){switch(t){case"m":return ze(Je.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=0&&t<=59},set:function(e,t,i,s){return e.setUTCMinutes(i,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,i,s){switch(t){case"s":return ze(Je.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return Ye(t.length,e)}},validate:function(e,t,i){return t>=0&&t<=59},set:function(e,t,i,s){return e.setUTCSeconds(i,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,i,s){var n=function(o){return Math.floor(o*Math.pow(10,-t.length+3))};return Ye(t.length,e,n)},set:function(e,t,i,s){return e.setUTCMilliseconds(i),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,i,s){switch(t){case"X":return Nt(Ft.basicOptionalMinutes,e);case"XX":return Nt(Ft.basic,e);case"XXXX":return Nt(Ft.basicOptionalSeconds,e);case"XXXXX":return Nt(Ft.extendedOptionalSeconds,e);case"XXX":default:return Nt(Ft.extended,e)}},set:function(e,t,i,s){return t.timestampIsSet?e:new Date(e.getTime()-i)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,i,s){switch(t){case"x":return Nt(Ft.basicOptionalMinutes,e);case"xx":return Nt(Ft.basic,e);case"xxxx":return Nt(Ft.basicOptionalSeconds,e);case"xxxxx":return Nt(Ft.extendedOptionalSeconds,e);case"xxx":default:return Nt(Ft.extended,e)}},set:function(e,t,i,s){return t.timestampIsSet?e:new Date(e.getTime()-i)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,i,s){return $a(e)},set:function(e,t,i,s){return[new Date(i*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,i,s){return $a(e)},set:function(e,t,i,s){return[new Date(i),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Tv=xv,Dv=10,Rv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Av=/^'([^]*?)'?$/,Lv=/''/g,Ov=/\S/,Mv=/[a-zA-Z]/;function Cc(e,t,i,s){it(3,arguments);var n=String(e),o=String(t),c=s||{},r=c.locale||pc;if(!r.match)throw new RangeError("locale must contain match property");var l=r.options&&r.options.firstWeekContainsDate,h=l==null?1:Xe(l),u=c.firstWeekContainsDate==null?h:Xe(c.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=r.options&&r.options.weekStartsOn,f=p==null?0:Xe(p),S=c.weekStartsOn==null?f:Xe(c.weekStartsOn);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(o==="")return n===""?lt(i):new Date(NaN);var b={firstWeekContainsDate:u,weekStartsOn:S,locale:r},_=[{priority:Dv,subPriority:-1,set:Iv,index:0}],a,g=o.match(Pv).map(function(k){var D=k[0];if(D==="p"||D==="P"){var L=yc[D];return L(k,r.formatLong,b)}return k}).join("").match(Rv),v=[];for(a=0;a<g.length;a++){var d=g[a];!c.useAdditionalWeekYearTokens&&wc(d)&&Cr(d,o,e),!c.useAdditionalDayOfYearTokens&&Sc(d)&&Cr(d,o,e);var m=d[0],w=Tv[m];if(w){var C=w.incompatibleTokens;if(Array.isArray(C)){for(var T=void 0,y=0;y<v.length;y++){var E=v[y].token;if(C.indexOf(E)!==-1||E===m){T=v[y];break}}if(T)throw new RangeError("The format string mustn't contain `".concat(T.fullToken,"` and `").concat(d,"` at the same time"))}else if(w.incompatibleTokens==="*"&&v.length)throw new RangeError("The format string mustn't contain `".concat(d,"` and any other token at the same time"));v.push({token:m,fullToken:d});var x=w.parse(n,d,r.match,b);if(!x)return new Date(NaN);_.push({priority:w.priority,subPriority:w.subPriority||0,set:w.set,validate:w.validate,value:x.value,index:_.length}),n=x.rest}else{if(m.match(Mv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");if(d==="''"?d="'":m==="'"&&(d=Bv(d)),n.indexOf(d)===0)n=n.slice(d.length);else return new Date(NaN)}}if(n.length>0&&Ov.test(n))return new Date(NaN);var O=_.map(function(k){return k.priority}).sort(function(k,D){return D-k}).filter(function(k,D,L){return L.indexOf(k)===D}).map(function(k){return _.filter(function(D){return D.priority===k}).sort(function(D,L){return L.subPriority-D.subPriority})}).map(function(k){return k[0]}),P=lt(i);if(isNaN(P))return new Date(NaN);var I=_c(P,fc(P)),G={};for(a=0;a<O.length;a++){var re=O[a];if(re.validate&&!re.validate(I,re.value,b))return new Date(NaN);var ie=re.set(I,G,re.value,b);ie[0]?(I=ie[0],mv(G,ie[1])):I=ie}return I}function Iv(e,t){if(t.timestampIsSet)return e;var i=new Date(0);return i.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),i.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),i}function Bv(e){return e.match(Av)[1].replace(Lv,"'")}const zr=Object.assign({},Xi);zr.isRight=!0;zr.compare=function(e,t,i){function s(n){if(i&&i.dateInputFormat)return Cc(`${n}`,`${i.dateInputFormat}`,new Date);if(typeof n=="string")try{return Date.parse(n)}catch{return n}return n}return e=s(e),t=s(t),wr(e)?wr(t)?dm(e,t):1:-1};zr.format=function(e,t){if(e==null)return"";const i=Cc(e,t.dateInputFormat,new Date);return wr(i)?_v(i,t.dateOutputFormat):(console.error(`Not a valid date: "${e}"`),null)};var Fv=Object.freeze({__proto__:null,default:zr});const Ni=Object.assign({},Xi);Ni.isRight=!0;Ni.filterPredicate=function(e,t){return Ni.compare(e,t)===0};Ni.compare=function(e,t){function i(s){return s==null?-1/0:s.indexOf(".")>=0?parseFloat(s):parseInt(s,10)}return e=typeof e=="number"?e:i(e),t=typeof t=="number"?t:i(t),e<t?-1:e>t?1:0};var Nv=Object.freeze({__proto__:null,default:Ni});const Ec=Object.assign({},Ni);Ec.format=function(e){return e==null?"":parseFloat(Math.round(e*100)/100).toFixed(2)};var Hv=Object.freeze({__proto__:null,default:Ec});const kc=Object.assign({},Ni);kc.format=function(e){return e==null?"":`${parseFloat(e*100).toFixed(2)}%`};var $v=Object.freeze({__proto__:null,default:kc});const Ns=Object.assign({},Xi);Ns.isRight=!0;Ns.filterPredicate=function(e,t){return Ns.compare(e,t)===0};Ns.compare=function(e,t){function i(s){return typeof s=="boolean"?s?1:0:typeof s=="string"?s==="true"?1:0:-1/0}return e=i(e),t=i(t),e<t?-1:e>t?1:0};var Uv=Object.freeze({__proto__:null,default:Ns}),jv={date:Fv,decimal:Hv,number:Nv,percentage:$v,boolean:Uv};const xc={},Wa=jv;Object.keys(Wa).forEach(e=>{const t=e.replace(/^\.\//,"").replace(/\.js/,"");xc[t]=Wa[e].default});const Wv={name:"vue-good-table",props:{isLoading:{default:null,type:Boolean},maxHeight:{default:null,type:String},fixedHeader:Boolean,theme:{default:""},mode:{default:"local"},totalRows:{},styleClass:{default:"vgt-table bordered"},columns:{},rows:{},lineNumbers:Boolean,responsive:{default:!0,type:Boolean},rtl:Boolean,rowStyleClass:{default:null,type:[Function,String]},compactMode:Boolean,enableRowExpand:{default:!1,type:Boolean},expandRowsOptions:{default(){return{enabled:!1}}},groupOptions:{default(){return{enabled:!1,collapsable:!1,rowKey:null}}},selectOptions:{default(){return{enabled:!1,selectionInfoClass:"",selectionText:"rows selected",clearSelectionText:"clear",disableSelectInfo:!1,selectAllByGroup:!1}}},sortOptions:{default(){return{enabled:!0,multipleColumns:!0,initialSortBy:{}}}},paginationOptions:{default(){return{enabled:!1,position:"bottom",perPage:10,perPageDropdown:null,perPageDropdownEnabled:!0,dropdownAllowAll:!0,mode:"records",infoFn:null}}},searchOptions:{default(){return{enabled:!1,trigger:null,externalQuery:null,searchFn:null,placeholder:"Search Table"}}},expandedRowClasses:{default:"",type:String},expandedRowDetailClasses:{default:"",type:String}},data:()=>({tableLoading:!1,nextText:"Next",prevText:"Previous",rowsPerPageText:"Rows per page",ofText:"of",allText:"All",pageText:"page",selectable:!1,selectOnCheckboxOnly:!1,selectAllByPage:!0,disableSelectInfo:!1,selectionInfoClass:"",selectionText:"rows selected",clearSelectionText:"clear",maintainExpanded:!0,expandedRowKeys:new Set,sortable:!0,defaultSortBy:null,multipleColumnSort:!0,searchEnabled:!1,searchTrigger:null,externalSearchQuery:null,searchFn:null,searchPlaceholder:"Search Table",searchSkipDiacritics:!1,perPage:null,paginate:!1,paginateOnTop:!1,paginateOnBottom:!0,customRowsPerPageDropdown:[],paginateDropdownAllowAll:!0,paginationMode:"records",paginationInfoFn:null,currentPage:1,currentPerPage:10,sorts:[],globalSearchTerm:"",filteredRows:[],columnFilters:{},forceSearch:!1,sortChanged:!1,dataTypes:xc||{},expandedRowIndex:null}),emits:["select-all","selected-rows-change","search","per-page-change","page-change","update:isLoading","sort-change","row-click","row-dblclick","row-aux-click","cell-click","row-mouseenter","row-mouseleave","column-filter"],watch:{rows:{handler(){this.$emit("update:isLoading",!1),this.filterRows(this.columnFilters,!1)},deep:!0,immediate:!0},selectOptions:{handler(){this.initializeSelect()},deep:!0,immediate:!0},paginationOptions:{handler(e,t){ln(e,t)||this.initializePagination()},deep:!0,immediate:!0},expandRowsOptions:{handler(e,t){this.initializeExpandRows()},deep:!0,immediate:!0},searchOptions:{handler(){this.searchOptions.externalQuery!==void 0&&this.searchOptions.externalQuery!==this.searchTerm&&(this.externalSearchQuery=this.searchOptions.externalQuery,this.handleSearch()),this.initializeSearch()},deep:!0,immediate:!0},sortOptions:{handler(e,t){ln(e,t)||this.initializeSort()},deep:!0},selectedRows(e,t){ln(e,t)||this.$emit("selected-rows-change",{selectedRows:this.selectedRows})}},computed:{tableStyles(){return this.compactMode?this.tableStyleClasses+"vgt-compact":this.tableStyleClasses},hasFooterSlot(){return!!this.$slots["table-actions-bottom"]},wrapperStyles(){return{overflow:"scroll-y",maxHeight:this.maxHeight?this.maxHeight:"auto"}},rowKeyField(){return this.groupOptions.rowKey||"vgt_header_id"},hasHeaderRowTemplate(){return!!this.$slots["table-header-row"]},showEmptySlot(){return!this.paginated.length||this.paginated[0].label==="no groups"&&!this.paginated[0].children.length},allSelected(){return this.selectedRowCount>0&&(this.selectAllByPage&&this.selectedPageRowsCount===this.totalPageRowCount||!this.selectAllByPage&&this.selectedRowCount===this.totalRowCount)},allSelectedIndeterminate(){return!this.allSelected&&(this.selectAllByPage&&this.selectedPageRowsCount>0||!this.selectAllByPage&&this.selectedRowCount>0)},selectionInfo(){return`${this.selectedRowCount} ${this.selectionText}`},selectedRowCount(){return this.selectedRows.length},selectedPageRowsCount(){return this.selectedPageRows.length},selectedPageRows(){const e=[];return this.paginated.forEach(t=>{t.children.forEach(i=>{i.vgtSelected&&e.push(i)})}),e},selectedRows(){const e=[];return this.processedRows.forEach(t=>{t.children.forEach(i=>{i.vgtSelected&&e.push(i)})}),e.sort((t,i)=>t.originalIndex-i.originalIndex)},fullColspan(){let e=0;for(let t=0;t<this.columns.length;t+=1)this.columns[t].hidden||(e+=1);return this.lineNumbers&&e++,this.selectable&&e++,this.expandRowsEnabled&&e++,e},groupHeaderOnTop(){return this.groupOptions&&this.groupOptions.enabled&&this.groupOptions.headerPosition&&this.groupOptions.headerPosition==="bottom"?!1:!!(this.groupOptions&&this.groupOptions.enabled)},groupHeaderOnBottom(){return!!(this.groupOptions&&this.groupOptions.enabled&&this.groupOptions.headerPosition&&this.groupOptions.headerPosition==="bottom")},totalRowCount(){return this.processedRows.reduce((t,i)=>{const s=i.children?i.children.length:0;return t+s},0)},totalPageRowCount(){return this.paginated.reduce((t,i)=>{const s=i.children?i.children.length:0;return t+s},0)},wrapStyleClasses(){let e="vgt-wrap";return this.rtl&&(e+=" rtl"),e+=` ${this.theme}`,e},tableStyleClasses(){let e=this.styleClass;return e+=` ${this.theme}`,e},searchTerm(){return this.externalSearchQuery!=null?this.externalSearchQuery:this.globalSearchTerm},globalSearchAllowed(){return this.searchEnabled&&!!this.globalSearchTerm&&this.searchTrigger!=="enter"||this.externalSearchQuery!=null&&this.searchTrigger!=="enter"?!0:this.forceSearch?(this.forceSearch=!1,!0):!1},processedRows(){let e=this.filteredRows;if(this.mode==="remote")return e;if(this.globalSearchAllowed){const t=[];this.filteredRows.forEach(s=>{t.push(...s.children)});const i=[];t.forEach(s=>{for(let n=0;n<this.columns.length;n+=1){const o=this.columns[n];if(!o.globalSearchDisabled){if(this.searchFn){if(this.searchFn(s,o,this.collectFormatted(s,o),this.searchTerm)){i.push(s);break}}else if(Xi.filterPredicate(this.collectFormatted(s,o),this.searchTerm,this.searchSkipDiacritics)){i.push(s);break}}}}),this.$emit("search",{searchTerm:this.searchTerm,rowCount:i.length}),e=[],this.filteredRows.forEach(s=>{const n=s.vgt_header_id,o=i.filter(c=>c.vgt_id===n);if(o.length){const c=JSON.parse(JSON.stringify(s));c.children=o,e.push(c)}})}return this.sorts.length&&e.forEach(t=>{t.children.sort((i,s)=>{let n;for(let o=0;o<this.sorts.length;o+=1){const c=this.sorts[o];if(c.type===dt.None)n=n||i.originalIndex-s.originalIndex;else{const r=this.getColumnForField(c.field),l=this.collect(i,c.field),h=this.collect(s,c.field),{sortFn:u}=r;u&&typeof u=="function"?n=n||u(l,h,r,i,s)*(c.type===dt.Descending?-1:1):n=n||r.typeDef.compare(l,h,r)*(c.type===dt.Descending?-1:1)}}return n})}),this.searchTrigger==="enter"&&(this.filteredRows=e),e},paginated(){if(!this.processedRows.length)return[];if(this.mode==="remote")return this.processedRows;let e=[];if(this.processedRows.forEach(i=>{this.groupOptions.enabled&&e.push(i),e.push(...i.children)}),this.paginate){let i=(this.currentPage-1)*this.currentPerPage;(i>=e.length||this.currentPerPage===-1)&&(this.currentPage=1,i=0);let s=e.length+1;this.currentPerPage!==-1&&(s=this.currentPage*this.currentPerPage),e=e.slice(i,s)}const t=[];return e.forEach(i=>{if(i.vgt_header_id!==void 0){this.handleExpanded(i);const s=JSON.parse(JSON.stringify(i));s.children=[],t.push(s)}else{let s=t.find(n=>n.vgt_header_id===i.vgt_id);s||(s=this.processedRows.find(n=>n.vgt_header_id===i.vgt_id),s&&(s=JSON.parse(JSON.stringify(s)),s.children=[],t.push(s))),s.children.push(i)}}),t},originalRows(){const e=JSON.parse(JSON.stringify(this.rows));let t=[];this.groupOptions.enabled?t=this.handleGrouped(e):t=this.handleGrouped([{label:"no groups",children:e}]);let i=0;return t.forEach(s=>{s.children.forEach(n=>{n.originalIndex=i++})}),t},typedColumns(){const e=this.columns;for(let t=0;t<this.columns.length;t++){const i=e[t];i.typeDef=this.dataTypes[i.type]||Xi}return e},hasRowClickListener(){return this.$attrs&&this.$attrs["row-click"]}},methods:{handleExpanded(e){this.maintainExpanded&&this.expandedRowKeys.has(e[this.rowKeyField])?e.vgtIsExpanded=!0:e.vgtIsExpanded=!1},toggleExpand(e){const t=this.filteredRows.find(i=>i[this.rowKeyField]===e);t&&(t.vgtIsExpanded=!t.vgtIsExpanded),this.maintainExpanded&&t.vgtIsExpanded?this.expandedRowKeys.add(t[this.rowKeyField]):this.expandedRowKeys.delete(t[this.rowKeyField])},expandAll(){this.filteredRows.forEach(e=>{e.vgtIsExpanded=!0,this.maintainExpanded&&this.expandedRowKeys.add(e[this.rowKeyField])})},collapseAll(){this.filteredRows.forEach(e=>{e.vgtIsExpanded=!1,this.expandedRowKeys.clear()})},getColumnForField(e){for(let t=0;t<this.typedColumns.length;t+=1)if(this.typedColumns[t].field===e)return this.typedColumns[t]},handleSearch(){this.resetTable(),this.mode==="remote"&&this.$emit("search",{searchTerm:this.searchTerm})},reset(){this.initializeSort(),this.changePage(1),this.$refs["table-header-primary"].reset(!0),this.$refs["table-header-secondary"]&&this.$refs["table-header-secondary"].reset(!0)},emitSelectedRows(){this.$emit("select-all",{selected:this.selectedRowCount===this.totalRowCount,selectedRows:this.selectedRows})},unselectAllInternal(e){(this.selectAllByPage&&!e?this.paginated:this.filteredRows).forEach((i,s)=>{i.children.forEach((n,o)=>{n.vgtSelected=!1})}),this.emitSelectedRows()},toggleSelectAll(){if(this.allSelected){this.unselectAllInternal();return}(this.selectAllByPage?this.paginated:this.filteredRows).forEach(t=>{t.children.forEach(i=>{i.vgtSelected=!0})}),this.emitSelectedRows()},toggleExpandRowsAll(){for(let e of this.rows)e.expandedRow?e.expanded=!e.expanded:e.expanded=!1;this.$emit("toggle-expand-rows-all",{})},toggleSelectGroup(e,t){t.children.forEach(i=>{i.vgtSelected=e})},changePage(e){const t=this.paginate;let{paginationBottom:i,paginationTop:s}=this.$refs;t&&(this.paginateOnTop&&s&&(s.currentPage=e),this.paginateOnBottom&&i&&(i.currentPage=e),this.currentPage=e)},pageChangedEvent(){return{currentPage:this.currentPage,currentPerPage:this.currentPerPage,total:Math.floor(this.totalRowCount/this.currentPerPage)}},pageChanged(e){if(this.currentPage=e.currentPage,!e.noEmit){const t=this.pageChangedEvent();t.prevPage=e.prevPage,this.$emit("page-change",t),this.mode==="remote"&&this.$emit("update:isLoading",!0)}},perPageChanged(e){this.currentPerPage=e.currentPerPage;let t=this.paginationOptions.position;this.$refs.paginationTop&&(t==="top"||t==="both")&&(this.$refs.paginationTop.currentPerPage=this.currentPerPage),this.$refs.paginationBottom&&(t==="bottom"||t==="both")&&(this.$refs.paginationBottom.currentPerPage=this.currentPerPage);const i=this.pageChangedEvent();this.$emit("per-page-change",i),this.mode==="remote"&&this.$emit("update:isLoading",!0)},changeSort(e){if(this.sorts=e,this.$emit("sort-change",e),this.changePage(1),this.mode==="remote"){this.$emit("update:isLoading",!0);return}this.sortChanged=!0},toggleRowExpand(e,t){this.expandedRowIndex===t?this.expandedRowIndex=null:this.expandedRowIndex=t},onCheckboxClicked(e,t,i){this.enableRowExpand&&this.toggleRowExpand(e,t),e.vgtSelected=!e.vgtSelected,this.$emit("row-click",{row:e,pageIndex:t,selected:!!e.vgtSelected,event:i})},toggleExpandRow(e){e.expanded=!e.expanded},onRowDoubleClicked(e,t,i){this.$emit("row-dblclick",{row:e,pageIndex:t,selected:!!e.vgtSelected,event:i})},onRowClicked(e,t,i){this.enableRowExpand&&this.toggleRowExpand(e,t),this.selectable&&!this.selectOnCheckboxOnly&&(e.vgtSelected=!e.vgtSelected),this.$emit("row-click",{row:e,pageIndex:t,selected:!!e.vgtSelected,event:i})},onRowAuxClicked(e,t,i){this.$emit("row-aux-click",{row:e,pageIndex:t,selected:!!e.vgtSelected,event:i})},onCellClicked(e,t,i,s){this.$emit("cell-click",{row:e,column:t,rowIndex:i,event:s})},onMouseenter(e,t){this.$emit("row-mouseenter",{row:e,pageIndex:t})},onMouseleave(e,t){this.$emit("row-mouseleave",{row:e,pageIndex:t})},searchTableOnEnter(){this.searchTrigger==="enter"&&(this.handleSearch(),this.filteredRows=JSON.parse(JSON.stringify(this.originalRows)),this.forceSearch=!0,this.sortChanged=!0)},searchTableOnKeyUp(){this.searchTrigger!=="enter"&&this.handleSearch()},resetTable(){this.unselectAllInternal(!0),this.changePage(1)},collect(e,t){function i(s,n){let o=s;const c=n.split(".");for(let r=0;r<c.length;r++){if(typeof o>"u"||o===null)return;o=o[c[r]]}return o}if(typeof t=="function")return t(e);if(typeof t=="string")return i(e,t)},collectFormatted(e,t,i=!1){let s;if(i&&t.headerField?s=this.collect(e,t.headerField):s=this.collect(e,t.field),s===void 0)return"";if(t.formatFn&&typeof t.formatFn=="function")return t.formatFn(s,e);let n=t.typeDef;n||(n=this.dataTypes[t.type]||Xi);let o=n.format(s,t);return this.compactMode&&(o==""||o==null)?"-":o},formattedRow(e,t=!1){const i={};for(let s=0;s<this.typedColumns.length;s++){const n=this.typedColumns[s];n.field&&(i[n.field]=this.collectFormatted(e,n,t))}return i},getClasses(e,t,i){const{typeDef:s,[`${t}Class`]:n}=this.typedColumns[e];let{isRight:o}=s;this.rtl&&(o=!0);const c={"vgt-right-align":o,"vgt-left-align":!o};return typeof n=="function"?c[n(i)]=!0:typeof n=="string"&&(c[n]=!0),c},filterRows(e,t=!0){this.columnFilters=e;let i=JSON.parse(JSON.stringify(this.originalRows)),s=!1;if(this.columnFilters&&Object.keys(this.columnFilters).length){if((this.mode!=="remote"||t)&&this.changePage(1),t&&this.$emit("column-filter",{columnFilters:this.columnFilters}),this.mode==="remote"){t?this.$emit("update:isLoading",!0):this.filteredRows=i;return}const n=o=>typeof o=="function"&&o.name?o.name:o;for(let o=0;o<this.typedColumns.length;o++){const c=this.typedColumns[o];this.columnFilters[n(c.field)]&&(s=!0,i.forEach(r=>{const l=r.children.filter(h=>{if(c.filterOptions&&typeof c.filterOptions.filterFn=="function")return c.filterOptions.filterFn(this.collect(h,c.field),this.columnFilters[n(c.field)]);const{typeDef:u}=c;return u.filterPredicate(this.collect(h,c.field),this.columnFilters[n(c.field)],!1,c.filterOptions&&typeof c.filterOptions.filterDropdownItems=="object")});r.children=l}))}}s?this.filteredRows=i.filter(n=>n.children&&n.children.length):this.filteredRows=i},getCurrentIndex(e){let t=0,i=!1;for(let s=0;s<this.paginated.length;s+=1){const n=this.paginated[s],{children:o}=n;if(o&&o.length)for(let c=0;c<o.length;c+=1){if(o[c].originalIndex===e){i=!0;break}t+=1}if(i)break}return(this.currentPage-1)*this.currentPerPage+t+1},getRowStyleClass(e){let t="";this.hasRowClickListener&&(t+="clickable");let i;return typeof this.rowStyleClass=="function"?i=this.rowStyleClass(e):i=this.rowStyleClass,i&&(t+=` ${i}`),this.expandedRowIndex===e.originalIndex&&(t+=` ${this.expandedRowClasses}`),t},handleGrouped(e){return e.forEach((t,i)=>{t.vgt_header_id=i,this.groupOptions.maintainExpanded&&this.expandedRowKeys.has(t[this.groupOptions.rowKey])&&(t.vgtIsExpanded=!0),t.children.forEach(s=>{s.vgt_id=i})}),e},initializePagination(){const{enabled:e,perPage:t,position:i,perPageDropdown:s,perPageDropdownEnabled:n,dropdownAllowAll:o,nextLabel:c,prevLabel:r,rowsPerPageLabel:l,ofLabel:h,pageLabel:u,allLabel:p,setCurrentPage:f,mode:S,infoFn:b}=this.paginationOptions;typeof e=="boolean"&&(this.paginate=e),typeof t=="number"&&(this.perPage=t),i==="top"?(this.paginateOnTop=!0,this.paginateOnBottom=!1):i==="both"&&(this.paginateOnTop=!0,this.paginateOnBottom=!0),Array.isArray(s)&&s.length&&(this.customRowsPerPageDropdown=s,this.perPage||([this.perPage]=s)),typeof n=="boolean"&&(this.perPageDropdownEnabled=n),typeof o=="boolean"&&(this.paginateDropdownAllowAll=o),typeof S=="string"&&(this.paginationMode=S),typeof c=="string"&&(this.nextText=c),typeof r=="string"&&(this.prevText=r),typeof l=="string"&&(this.rowsPerPageText=l),typeof h=="string"&&(this.ofText=h),typeof u=="string"&&(this.pageText=u),typeof p=="string"&&(this.allText=p),typeof f=="number"&&setTimeout(()=>{this.changePage(f)},500),typeof b=="function"&&(this.paginationInfoFn=b)},initializeExpandRows(){const{enabled:e}=this.expandRowsOptions;typeof e=="boolean"&&(this.expandRowsEnabled=e)},initializeSearch(){const{enabled:e,trigger:t,externalQuery:i,searchFn:s,placeholder:n,skipDiacritics:o}=this.searchOptions;typeof e=="boolean"&&(this.searchEnabled=e),t==="enter"&&(this.searchTrigger=t),typeof i=="string"&&(this.externalSearchQuery=i),typeof s=="function"&&(this.searchFn=s),typeof n=="string"&&(this.searchPlaceholder=n),typeof o=="boolean"&&(this.searchSkipDiacritics=o)},initializeSort(){const{enabled:e,initialSortBy:t,multipleColumns:i}=this.sortOptions,s=JSON.parse(JSON.stringify(t||{}));if(typeof e=="boolean"&&(this.sortable=e),typeof i=="boolean"&&(this.multipleColumnSort=i),typeof s=="object"){const n=this.fixedHeader?this.$refs["table-header-secondary"]:this.$refs["table-header-primary"];Array.isArray(s)?n.setInitialSort(s):Object.prototype.hasOwnProperty.call(s,"field")&&n.setInitialSort([s])}},initializeSelect(){const{enabled:e,selectionInfoClass:t,selectionText:i,clearSelectionText:s,selectOnCheckboxOnly:n,selectAllByPage:o,disableSelectInfo:c,selectAllByGroup:r}=this.selectOptions;typeof e=="boolean"&&(this.selectable=e),typeof n=="boolean"&&(this.selectOnCheckboxOnly=n),typeof o=="boolean"&&(this.selectAllByPage=o),typeof r=="boolean"&&(this.selectAllByGroup=r),typeof c=="boolean"&&(this.disableSelectInfo=c),typeof t=="string"&&(this.selectionInfoClass=t),typeof i=="string"&&(this.selectionText=i),typeof s=="string"&&(this.clearSelectionText=s)}},mounted(){this.perPage&&(this.currentPerPage=this.perPage),this.initializeSort()},components:{"vgt-pagination":hg,"vgt-global-search":Sg,"vgt-header-row":cm,"vgt-table-header":Xg}},zv={key:0,class:"vgt-loading vgt-center-align"},qv=U("span",{class:"vgt-loading__content"}," Loading... ",-1),Kv={class:"vgt-selection-info-row__actions vgt-pull-right"},Vv={class:"vgt-fixed-header"},Yv=["id"],Gv=["id"],Xv=["onMouseenter","onMouseleave","onDblclick","onClick","onAuxclick"],Jv={key:0,class:"line-numbers"},Qv=["onClick"],Zv=["disabled","checked"],e0=["onClick","data-label"],t0={key:0},i0=["innerHTML"],s0=["colspan"],r0=["colspan"],n0={key:0},o0=["colspan"],a0=U("div",{class:"vgt-center-align vgt-text-disabled"}," No data for table ",-1),l0={key:2,class:"vgt-wrap__actions-footer"};function c0(e,t,i,s,n,o){const c=ye("vgt-pagination"),r=ye("vgt-global-search"),l=ye("vgt-table-header"),h=ye("vgt-header-row");return j(),V("div",{class:ve(o.wrapStyleClasses)},[i.isLoading?(j(),V("div",zv,[Te(e.$slots,"loadingContent",{},()=>[qv])])):ue("v-if",!0),U("div",{class:ve(["vgt-inner-wrap",{"is-loading":i.isLoading}])},[e.paginate&&e.paginateOnTop?Te(e.$slots,"pagination-top",{key:0,pageChanged:o.pageChanged,perPageChanged:o.perPageChanged,total:i.totalRows||o.totalRowCount},()=>[fe(c,{ref:"paginationTop",onPageChanged:o.pageChanged,onPerPageChanged:o.perPageChanged,perPage:e.perPage,rtl:i.rtl,total:i.totalRows||o.totalRowCount,mode:e.paginationMode,nextText:e.nextText,prevText:e.prevText,rowsPerPageText:e.rowsPerPageText,perPageDropdownEnabled:i.paginationOptions.perPageDropdownEnabled,customRowsPerPageDropdown:e.customRowsPerPageDropdown,paginateDropdownAllowAll:e.paginateDropdownAllowAll,ofText:e.ofText,pageText:e.pageText,allText:e.allText,"info-fn":e.paginationInfoFn},null,8,["onPageChanged","onPerPageChanged","perPage","rtl","total","mode","nextText","prevText","rowsPerPageText","perPageDropdownEnabled","customRowsPerPageDropdown","paginateDropdownAllowAll","ofText","pageText","allText","info-fn"])]):ue("v-if",!0),fe(r,{onKeyup:o.searchTableOnKeyUp,onEnter:o.searchTableOnEnter,value:e.globalSearchTerm,onInput:t[0]||(t[0]=u=>e.globalSearchTerm=u),"search-enabled":e.searchEnabled&&e.externalSearchQuery==null,"global-search-placeholder":e.searchPlaceholder},Zr({_:2},[e.$slots["table-actions"]?{name:"internal-table-actions",fn:De(()=>[Te(e.$slots,"table-actions")])}:void 0]),1032,["onKeyup","onEnter","value","search-enabled","global-search-placeholder"]),o.selectedRowCount&&!e.disableSelectInfo?(j(),V("div",{key:1,class:ve(["vgt-selection-info-row clearfix",e.selectionInfoClass])},[Ge(we(o.selectionInfo)+" ",1),U("a",{href:"",onClick:t[1]||(t[1]=Fe(u=>o.unselectAllInternal(!0),["prevent"]))},we(e.clearSelectionText),1),U("div",Kv,[Te(e.$slots,"selected-row-actions")])],2)):ue("v-if",!0),U("div",Vv,[i.fixedHeader?(j(),V("table",{key:0,id:"vgt-table",class:ve(o.tableStyleClasses)},[U("colgroup",null,[(j(!0),V(xe,null,Ze(i.columns,(u,p)=>(j(),V("col",{key:p,id:`col-${p}`},null,8,Yv))),128))]),ue(" Table header "),fe(l,{ref:"table-header-secondary",onToggleSelectAll:o.toggleSelectAll,onToggleExpandRowsAll:o.toggleExpandRowsAll,onSortChange:o.changeSort,onFilterChanged:o.filterRows,columns:i.columns,"line-numbers":i.lineNumbers,selectable:e.selectable,"all-selected":o.allSelected,"all-selected-indeterminate":o.allSelectedIndeterminate,mode:i.mode,sortable:e.sortable,"multiple-column-sort":e.multipleColumnSort,"typed-columns":o.typedColumns,getClasses:o.getClasses,searchEnabled:e.searchEnabled,paginated:o.paginated,"table-ref":e.$refs.table},{"table-column":De(u=>[Te(e.$slots,"table-column",{column:u.column},()=>[U("span",null,we(u.column.label),1)])]),"column-filter":De(u=>[Te(e.$slots,"column-filter",{column:u.column,updateFilters:u.updateFilters})]),_:3},8,["onToggleSelectAll","onToggleExpandRowsAll","onSortChange","onFilterChanged","columns","line-numbers","selectable","all-selected","all-selected-indeterminate","mode","sortable","multiple-column-sort","typed-columns","getClasses","searchEnabled","paginated","table-ref"])],2)):ue("v-if",!0)]),U("div",{class:ve({"vgt-responsive":i.responsive}),style:Hi(o.wrapperStyles)},[U("table",{id:"vgt-table",ref:"table",class:ve(o.tableStyles)},[U("colgroup",null,[(j(!0),V(xe,null,Ze(i.columns,(u,p)=>(j(),V("col",{key:p,id:`col-${p}`},null,8,Gv))),128))]),ue(" Table header "),fe(l,{ref:"table-header-primary",onToggleSelectAll:o.toggleSelectAll,onToggleExpandRowsAll:o.toggleExpandRowsAll,onSortChange:o.changeSort,onFilterChanged:o.filterRows,columns:i.columns,"line-numbers":i.lineNumbers,selectable:e.selectable,"all-selected":o.allSelected,"all-selected-indeterminate":o.allSelectedIndeterminate,mode:i.mode,sortable:e.sortable,"multiple-column-sort":e.multipleColumnSort,"typed-columns":o.typedColumns,getClasses:o.getClasses,searchEnabled:e.searchEnabled},{"table-column":De(u=>[Te(e.$slots,"table-column",{column:u.column},()=>[U("span",null,we(u.column.label),1)])]),"column-filter":De(u=>[Te(e.$slots,"column-filter",{column:u.column,updateFilters:u.updateFilters})]),_:3},8,["onToggleSelectAll","onToggleExpandRowsAll","onSortChange","onFilterChanged","columns","line-numbers","selectable","all-selected","all-selected-indeterminate","mode","sortable","multiple-column-sort","typed-columns","getClasses","searchEnabled"]),ue(" Table body starts here "),(j(!0),V(xe,null,Ze(o.paginated,(u,p)=>(j(),V("tbody",{key:p},[ue(" if group row header is at the top "),o.groupHeaderOnTop?(j(),tt(h,{key:0,onVgtExpand:f=>o.toggleExpand(u[o.rowKeyField]),"header-row":u,columns:i.columns,"line-numbers":i.lineNumbers,selectable:e.selectable,"select-all-by-group":e.selectAllByGroup,collapsable:i.groupOptions.collapsable,"collect-formatted":o.collectFormatted,"formatted-row":o.formattedRow,class:ve(o.getRowStyleClass(u)),"get-classes":o.getClasses,"full-colspan":o.fullColspan,groupIndex:p,onSelectGroupChange:f=>o.toggleSelectGroup(f,u)},Zr({_:2},[o.hasHeaderRowTemplate?{name:"table-header-row",fn:De(f=>[Te(e.$slots,"table-header-row",{column:f.column,formattedRow:f.formattedRow,row:f.row})])}:void 0]),1032,["onVgtExpand","header-row","columns","line-numbers","selectable","select-all-by-group","collapsable","collect-formatted","formatted-row","class","get-classes","full-colspan","groupIndex","onSelectGroupChange"])):ue("v-if",!0),ue(" normal rows here. we loop over all rows "),(j(!0),V(xe,null,Ze(u.children,(f,S)=>(j(),V(xe,null,[!i.groupOptions.collapsable||u.vgtIsExpanded?(j(),V("tr",{key:f.originalIndex,class:ve(o.getRowStyleClass(f)),onMouseenter:b=>o.onMouseenter(f,S),onMouseleave:b=>o.onMouseleave(f,S),onDblclick:b=>o.onRowDoubleClicked(f,S,b),onClick:b=>o.onRowClicked(f,S,b),onAuxclick:b=>o.onRowAuxClicked(f,S,b)},[i.lineNumbers?(j(),V("th",Jv,we(o.getCurrentIndex(f.originalIndex)),1)):ue("v-if",!0),e.selectable?(j(),V("th",{key:1,onClick:Fe(b=>o.onCheckboxClicked(f,S,b),["stop"]),class:"vgt-checkbox-col"},[U("input",{type:"checkbox",disabled:f.vgtDisabled,checked:f.vgtSelected},null,8,Zv)],8,Qv)):ue("v-if",!0),(j(!0),V(xe,null,Ze(i.columns,(b,_)=>(j(),V(xe,null,[!b.hidden&&b.field?(j(),V("td",{key:_,onClick:a=>o.onCellClicked(f,b,S,a),class:ve(o.getClasses(_,"td",f)),"data-label":i.compactMode?b.label:void 0},[Te(e.$slots,"table-row",{row:f,column:b,formattedRow:o.formattedRow(f),index:S,expandedRow:e.expandedRowIndex===S},()=>[b.html?(j(),V("span",{key:1,innerHTML:o.collect(f,b.field)},null,8,i0)):(j(),V("span",t0,we(o.collectFormatted(f,b)),1))])],10,e0)):ue("v-if",!0)],64))),256))],42,Xv)):ue("v-if",!0),e.expandedRowIndex===S?(j(),V("tr",{class:ve(i.expandedRowDetailClasses),key:f.originalIndex},[U("td",{colspan:o.fullColspan},[Te(e.$slots,"row-details",{row:f,formattedRow:o.formattedRow(f),index:S})],8,s0)],2)):ue("v-if",!0),f.expanded?(j(),V("tr",{key:f.originalIndex},[U("td",{colspan:o.fullColspan},we(f.expandedRow),9,r0)])):ue("v-if",!0)],64))),256)),ue(" if group row header is at the bottom "),o.groupHeaderOnBottom?(j(),tt(h,{key:1,"header-row":u,columns:i.columns,"line-numbers":i.lineNumbers,selectable:e.selectable,"select-all-by-group":e.selectAllByGroup,"collect-formatted":o.collectFormatted,"formatted-row":o.formattedRow,"get-classes":o.getClasses,"full-colspan":o.fullColspan,groupIndex:e.index,onSelectGroupChange:f=>o.toggleSelectGroup(f,u)},Zr({_:2},[o.hasHeaderRowTemplate?{name:"table-header-row",fn:De(f=>[Te(e.$slots,"table-header-row",{column:f.column,formattedRow:f.formattedRow,row:f.row})])}:void 0]),1032,["header-row","columns","line-numbers","selectable","select-all-by-group","collect-formatted","formatted-row","get-classes","full-colspan","groupIndex","onSelectGroupChange"])):ue("v-if",!0)]))),128)),o.showEmptySlot?(j(),V("tbody",n0,[U("tr",null,[U("td",{colspan:o.fullColspan},[Te(e.$slots,"emptystate",{},()=>[a0])],8,o0)])])):ue("v-if",!0)],2)],6),o.hasFooterSlot?(j(),V("div",l0,[Te(e.$slots,"table-actions-bottom")])):ue("v-if",!0),e.paginate&&e.paginateOnBottom?Te(e.$slots,"pagination-bottom",{key:3,pageChanged:o.pageChanged,perPageChanged:o.perPageChanged,total:i.totalRows||o.totalRowCount},()=>[fe(c,{ref:"paginationBottom",onPageChanged:o.pageChanged,onPerPageChanged:o.perPageChanged,perPage:e.perPage,rtl:i.rtl,total:i.totalRows||o.totalRowCount,mode:e.paginationMode,nextText:e.nextText,prevText:e.prevText,rowsPerPageText:e.rowsPerPageText,perPageDropdownEnabled:i.paginationOptions.perPageDropdownEnabled,customRowsPerPageDropdown:e.customRowsPerPageDropdown,paginateDropdownAllowAll:e.paginateDropdownAllowAll,ofText:e.ofText,pageText:e.pageText,allText:e.allText,"info-fn":e.paginationInfoFn},null,8,["onPageChanged","onPerPageChanged","perPage","rtl","total","mode","nextText","prevText","rowsPerPageText","perPageDropdownEnabled","customRowsPerPageDropdown","paginateDropdownAllowAll","ofText","pageText","allText","info-fn"])]):ue("v-if",!0)],2)],2)}var h0=Ui(Wv,[["render",c0]]);const d0=Ue({props:["stack","isGit"],data(){return{}}}),u0=["index"],f0=["href","onClick"],p0={key:1,class:"active"};function _0(e,t,i,s,n,o){return j(!0),V(xe,null,Ze(e.stack.stack,(c,r)=>(j(),V("li",{index:r,class:"breadcrumb-item"},[r!=e.stack.stack.length-1?(j(),V("a",{key:0,href:c.uri,onClick:Fe(l=>e.$emit("changePath",c),["prevent"])},we(c.name),9,f0)):ue("",!0),r==e.stack.stack.length-1?(j(),V("span",p0,we(c.name),1)):ue("",!0)],8,u0))),256)}const Tc=qe(d0,[["render",_0]]);const g0=Ue({props:[],data(){return{source:null,target:null,show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.source=e,this.target=e,this.show=!0,this.resolve=t,this.reject=i})},ok(){this.close(this.target)},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)}}}),m0={class:"airflow-code-editor-modal airflow-code-editor-modal-rename"},v0=U("h1",null,"Move/Rename File",-1),b0=U("label",null,"Please enter a new name for the item:",-1),y0={class:"rename-dialog-buttons"},S0=["disabled"];function w0(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[4]||(t[4]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",m0,[v0,b0,st(U("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=r=>e.target=r),onKeyup:t[1]||(t[1]=$s((...r)=>e.ok&&e.ok(...r),["enter"]))},null,544),[[lo,e.target]]),U("div",y0,[U("button",{onClick:t[2]||(t[2]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[3]||(t[3]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-primary",disabled:e.target==""},"Ok",8,S0)])])]),_:1},8,["modelValue","close"])}const C0=qe(g0,[["render",w0]]);const E0=Ue({props:[],data(){return{target:null,show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.target=e,this.show=!0,this.resolve=t,this.reject=i})},ok(){this.close(this.target)},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)}}}),k0={class:"airflow-code-editor-modal airflow-code-editor-modal-delete"},x0=U("h1",null,"Confirm Delete",-1),T0={class:"delete-dialog-buttons"};function D0(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",k0,[x0,U("label",null,"Are you sure you want to delete "+we(e.target),1),U("div",T0,[U("button",{onClick:t[0]||(t[0]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[1]||(t[1]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-primary"},"Ok")])])]),_:1},8,["modelValue","close"])}const R0=qe(E0,[["render",D0]]);function za(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}const P0=Ue({components:{icon:ls,breadcrumb:Tc,"vue-good-table":h0,"rename-dialog":C0,"delete-dialog":R0,"vue-simple-context-menu":Hr},props:["stack","config","isGit","showBreadcrumb","uuid"],data(){return{items:[],isDragEnter:!1,columns:[{label:"",field:"icon",width:"20px",sortable:!0},{label:"Name",field:"name",thClass:"vgt-right-align",filterOptions:{enabled:!0}},{label:"Modified",field:"mtime",thClass:"vgt-right-align",tdClass:"vgt-right-align",filterOptions:{enabled:!0}},{label:"Size",field:"size",thClass:"vgt-right-align",type:"number"},{label:"Actions",field:"action",thClass:"vgt-right-align",tdClass:"vgt-right-align",sortable:!1}],options:[]}},methods:{async showRenameDialog(e){let t=await this.$refs.renameDialog.showDialog(e.object);t&&(t=di(t),t=="/"?At("Invalid filename"):this.source!=t&&(await Yt(["mv-local",e.object,t]),this.refresh()))},async showDeleteDialog(e){const t=await this.$refs.deleteDialog.showDialog(e.object);t&&(await Yt(["rm-local",t]),this.refresh())},newAction(){const e={name:"\u2727",type:"blob",object:(this.stack.last().object||"")+"/\u2727"};this.changePath(e)},uploadAction(){this.$refs.file.click()},changePath(e){this.$emit("changePath",e)},async refresh(){console.log("Files.refresh");let e=null;const t=this.stack.last();if(t.type!="blob"){this.isGit?e="tree"+di("git/"+t.object):e="tree"+di("files"+(t.object||""));try{const i=await Rt.get(wt(e),{params:{long:!0}});let s=[],n=[];i.data.value.forEach(o=>{let c=new P_(o,this.isGit,t.object);c.type=="tree"?n.push(c):s.push(c)}),s.sort(za),n.sort(za),this.stack.isRoot()||(this.isGit?n.unshift({type:"tree",name:"..",isSymbolicLink:!1,icon:"folder",href:"#"}):n.unshift({...this.stack.parent(),name:"..",icon:"folder",href:"#"})),this.items=n.concat(s),this.$emit("loaded",!1)}catch(i){this.$emit("loaded",!1),console.log(i)}}},dispose(){this.items=[]},handleDrop(e){this.isDragEnter=!1;const t=[...e.dataTransfer.files];this.uploadFiles(t)},handleUploadButton(e){const t=Array.from(e.target.files);this.uploadFiles(t),e.target.value=""},async uploadFiles(e){if(!this.isGit)for(const t of e){const i=di((this.stack.last().object||"")+"/"+E_(t.name)),s=t,n={headers:{"Content-Type":t.type}};try{await Rt.post(wt("files"+i),s,n),this.refresh()}catch(o){console.log(o)}}},showMenu(e,t){this.options=A_(t,this.isGit),this.$refs.filesMenu.showMenu(e,t)},menuOptionClicked(e){e.option.slug=="open"?this.changePath(e.item):e.option.slug=="download"?window.open(e.item.downloadHref):e.option.slug=="delete"?this.showDeleteDialog(e.item):e.option.slug=="rename"?this.showRenameDialog(e.item):e.option.slug=="open_in_new"?window.open(e.item.href,"_blank"):e.option.slug=="refresh"?this.refresh():e.option.slug=="new"?this.newAction():e.option.slug=="upload"&&this.uploadAction()}},mounted(){this.refresh()}}),A0={class:"tree-view"},L0={class:"breadcrumb"},O0={class:"breadcrumb-buttons"},M0=["onContextmenu"],I0=["onClick","href"],B0=["onClick","href"],F0={key:2,class:"btn-group"},N0=["href"],H0=["onClick","href"],$0=["onClick","href"],U0=["href"];function j0(e,t,i,s,n,o){const c=ye("breadcrumb"),r=ye("icon"),l=ye("vue-good-table"),h=ye("rename-dialog"),u=ye("delete-dialog"),p=ye("vue-simple-context-menu");return j(),V("div",A0,[U("ol",L0,[e.showBreadcrumb?(j(),tt(c,{key:0,onChangePath:e.changePath,stack:e.stack,isGit:e.isGit},null,8,["onChangePath","stack","isGit"])):ue("",!0),U("div",O0,[e.isGit?ue("",!0):(j(),V("button",{key:0,onClick:t[0]||(t[0]=f=>e.newAction()),type:"button",class:"btn btn-primary"},[fe(r,{icon:"add_circle"}),Ge(" New")])),e.isGit?ue("",!0):(j(),V("button",{key:1,onClick:t[1]||(t[1]=f=>e.uploadAction()),type:"button",class:"btn btn-primary"},[fe(r,{icon:"file_upload"}),Ge(" Upload")])),U("input",{type:"file",multiple:"multiple",style:{display:"none"},ref:"file",onChange:t[2]||(t[2]=(...f)=>e.handleUploadButton&&e.handleUploadButton(...f))},null,544)])]),U("div",{class:"tree-view-tree-content",onDragenter:t[3]||(t[3]=Fe(f=>e.isDragEnter=!0,["stop","prevent"])),onDragover:t[4]||(t[4]=Fe(()=>{},["stop","prevent"])),onDragleave:t[5]||(t[5]=Fe(f=>e.isDragEnter=!1,["stop","prevent"])),onDrop:t[6]||(t[6]=Fe((...f)=>e.handleDrop&&e.handleDrop(...f),["stop","prevent"])),onContextmenu:t[7]||(t[7]=Fe(f=>e.showMenu(f,null),["prevent","stop"]))},[fe(l,{"fixed-header":!0,"max-height":"100%",columns:e.columns,rows:e.items},{"table-row":De(f=>[U("div",{onContextmenu:Fe(S=>e.showMenu(S,f.row),["prevent","stop"])},[f.column.field=="name"?(j(),V("span",{key:0,class:ve(f.column.field)},[U("a",{onClick:Fe(S=>e.changePath(f.row),["prevent"]),href:f.row.href,class:ve("tree-item-"+f.row.type+" "+(f.row.isSymbolicLink?"tree-item-symlink":""))},we(f.row.name),11,I0)],2)):f.column.field=="icon"?(j(),V("span",{key:1,class:ve(f.column.field)},[U("a",{onClick:Fe(S=>e.changePath(f.row),["prevent"]),href:f.row.href,class:ve("tree-item-"+f.row.type+" "+(f.row.isSymbolicLink?"tree-item-symlink":""))},[fe(r,{icon:f.row.icon},null,8,["icon"])],10,B0)],2)):f.column.field=="action"?(j(),V("span",F0,[f.row.type=="blob"?(j(),V("a",{key:0,class:"download btn btn-default btn-sm",title:"Download",href:f.row.downloadHref},[fe(r,{icon:"file_download"})],8,N0)):ue("",!0),!f.row.isGit&&(f.row.type=="blob"||f.row.size==0)?(j(),V("a",{key:1,class:"trash-o btn btn-default btn-sm",title:"Delete",target:"_blank",onClick:Fe(S=>e.showDeleteDialog(f.row),["prevent"]),href:f.row.href},[fe(r,{icon:"delete"})],8,H0)):ue("",!0),!f.row.isGit&&f.row.name!=".."?(j(),V("a",{key:2,class:"i-cursor btn btn-default btn-sm",title:"Move/Rename",target:"_blank",onClick:Fe(S=>e.showRenameDialog(f.row),["prevent"]),href:f.row.href},[fe(r,{icon:"drive_file_rename_outline"})],8,$0)):ue("",!0),!f.row.isGit&&f.row.name!=".."?(j(),V("a",{key:3,class:"external-link btn btn-default btn-sm",title:"Open in a new window",target:"_blank",href:f.row.href},[fe(r,{icon:"open_in_new"})],8,U0)):ue("",!0)])):f.column.field=="size"?(j(),V("span",{key:3,class:ve(f.column.field)},we(f.row.formattedSize),3)):(j(),V("span",{key:4,class:ve(f.column.field)},we(f.formattedRow[f.column.field]),3))],40,M0)]),_:1},8,["columns","rows"])],32),fe(h,{ref:"renameDialog"},null,512),fe(u,{ref:"deleteDialog"},null,512),fe(p,{"element-id":"files-menu-"+e.uuid,options:e.options,ref:"filesMenu",onOptionClicked:e.menuOptionClicked},null,8,["element-id","options","onOptionClicked"])])}const W0=qe(P0,[["render",j0]]),z0=["3024-day","3024-night","abbott","abcdef","ambiance","ambiance-mobile","ayu-dark","ayu-mirage","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","darcula","default","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","gruvbox-dark","hopscotch","icecoder","idea","isotope","juejin","lesser-dark","liquibyte","lucario","material","material-darker","material-ocean","material-palenight","mbo","mdn-like","midnight","monokai","moxer","neat","neo","night","nord","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","ssms","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","yonce","zenburn"];const q0=Ue({props:[],data(){return{themes:z0,show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.config=Object.assign({},e),this.show=!0,this.resolve=t,this.reject=i})},ok(){this.close(this.config)},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)}}}),K0={class:"airflow-code-editor-modal airflow-code-editor-modal-settings"},V0=U("h1",null,"Settings",-1),Y0=U("label",null,"Theme:",-1),G0=U("br",null,null,-1),X0=U("label",null,"Mode:",-1),J0=U("option",{selected:""},"default",-1),Q0=U("option",null,"emacs",-1),Z0=U("option",null,"sublime",-1),eb=U("option",null,"vim",-1),tb=[J0,Q0,Z0,eb],ib={class:"settings-dialog-buttons"};function sb(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[4]||(t[4]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",K0,[V0,Y0,st(U("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=r=>e.config.theme=r)},[(j(!0),V(xe,null,Ze(e.themes,r=>(j(),V("option",null,we(r),1))),256))],512),[[Dn,e.config.theme]]),G0,X0,st(U("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=r=>e.config.mode=r)},tb,512),[[Dn,e.config.mode]]),U("div",ib,[U("button",{onClick:t[2]||(t[2]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[3]||(t[3]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-primary"},"Ok")])])]),_:1},8,["modelValue","close"])}const rb=qe(q0,[["render",sb]]);const nb=Ue({props:[],data(){return{target:null,show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.target=e,this.show=!0,this.resolve=t,this.reject=i})},ok(){this.close(this.target)},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)}}}),ob={class:"airflow-code-editor-modal airflow-code-editor-modal-save-as"},ab=U("h1",null,"Save File",-1),lb=U("label",null,"Please enter a new name for the item:",-1),cb={class:"save-as-dialog-buttons"},hb=["disabled"];function db(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[4]||(t[4]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",ob,[ab,lb,st(U("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=r=>e.target=r),onKeyup:t[1]||(t[1]=$s((...r)=>e.ok&&e.ok(...r),["enter"]))},null,544),[[lo,e.target]]),U("div",cb,[U("button",{onClick:t[2]||(t[2]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[3]||(t[3]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-primary",disabled:e.target==""||e.target.endsWith("/")},"Ok",8,hb)])])]),_:1},8,["modelValue","close"])}const ub=qe(nb,[["render",db]]);const fb=Ue({components:{icon:ls,"settings-dialog":rb,"save-as-dialog":ub,breadcrumb:Tc},props:["stack","config","isGit","showBreadcrumb"],data(){return{editorPath:null,editor:null,isPython:!1,readOnly:!1,generation:0,codeMirrorOptions:{lineNumbers:!0,foldGutter:!0,tabSize:4,indentUnit:4,indentWithTabs:!1,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Alt-F":"findPersistent",Tab:"indentMore"}}}},methods:{isNew(e){return/$/.test(e)},isChanged(){return!this.editor.isClean(this.generation)},setValue(e){this.editor.setValue(e),this.generation=this.editor.changeGeneration(),this.editor.clearHistory()},async editorLoad(e){try{let i=(await Rt.get(wt("files"+e),{transformResponse:s=>s})).data;this.editor.getMode().name=="python"&&(i=i.replace(/\t/g,"    ")),this.setValue(i),this.editorPath=e,this.$emit("loaded",!1),this.$emit("updateLocation")}catch(t){this.$emit("loaded",!1),this.setValue(""),this.editorPath=e;try{const i=JSON.parse(t.response.data);At(i.error.message)}catch{At("Error loading file")}}},async editorSave(e){const t=this.editor.getValue(),i={headers:{"Content-Type":"text/plain"}};if(e=di(e),e=="/"){At("Invalid filename");return}try{const s=await Rt.post(wt("files"+e),t,i);s.data.error?At(s.data.error.message||"Error saving file"):(e!=this.editorPath&&(this.editorPath=e,this.stack.updateStack(e,"blob")),this.editor.openNotification("file saved",{duration:5e3}),this.$emit("updateLocation"),this.generation=this.editor.changeGeneration())}catch(s){At(s.response?s.response.data.message:s)}},async editorSaveAs(e){this.isNew(e)&&(e=e.replace("\u2727","new file.txt"));const t=await this.$refs.saveAsDialog.showDialog(e);t&&this.editorSave(t)},async editorFormat(){const e=this.editor.getValue(),t={headers:{"Content-Type":"text/plain"}};try{const i=await Rt.post(wt("format"),e,t);this.editor.setValue(i.data.data)}catch(i){At(i.response?i.response.data.message:i)}},setOption(e,t){this.editor&&this.editor.setOption(e,t)},async setTheme(e){e=="default"?this.setOption("theme",e):(await T_(e),this.setOption("theme",e))},async updateSettings(e){this.config.theme=e.theme,this.config.mode=e.mode,this.setTheme(this.config.theme),this.setOption("keyMap",this.config.mode),localStorage.setItem("airflow_code_editor_theme",e.theme),localStorage.setItem("airflow_code_editor_mode",e.mode)},async saveAction(){this.isNew(this.editorPath)?this.editorSaveAs(this.editorPath):this.editorSave(this.editorPath)},async saveAsAction(){this.editorSaveAs(this.editorPath)},revertAction(){this.isNew(this.editorPath)||this.editorLoad(this.editorPath)},findAction(){this.editor.execCommand("find")},replaceAction(){this.editor.execCommand("replace")},formatAction(){this.editorFormat()},async settingsAction(){const e=await this.$refs.settingsDialog.showDialog(this.config);e&&this.updateSettings(e)},changePath(e){this.$emit("changePath",e)},refresh(){console.log("Editor.refresh"),this.readOnly=this.isGit;let e=this.stack.last();if(e.type=="blob"){this.isGit?this.editorPath=di("/~git/"+e.object+"/"+e.name):this.editorPath=e.object;let t;this.isNew(e.name)?t={mode:"python"}:t=CodeMirror.findModeByFileName(e.name),this.editor.setOption("mode",t&&t.mode),this.isPython=t&&t.mode=="python",this.setTheme(this.config.theme),this.setOption("keyMap",this.config.mode),this.setOption("readOnly",this.readOnly),t&&CodeMirror.autoLoadMode(this.editor,t.mode),this.isNew(e.name)?(this.$emit("loaded",!1),this.setValue(""),setTimeout(()=>this.editor.refresh(),100)):this.editorLoad(this.editorPath)}},dispose(){}},mounted(){console.log("Editor.mounted"),this.editor=Jn(CodeMirror.fromTextArea(this.$el.querySelector("textarea"),this.codeMirrorOptions)),this.editor.save=async()=>this.saveAction(),this.refresh(),window._editor=this.editor,window._e=this}}),pb={class:"tree-view"},_b={key:0,class:"breadcrumb"},gb={class:"tree-view-blob-content"},mb={class:"cm-fullscreen-container cm-flex-container"},vb=U("div",{class:"cm-toolbar cm-flex-child-fixed"},null,-1),bb=U("div",{class:"cm-body cm-flex-child-grow"},[U("textarea",{rows:"30",cols:"80",name:"editor",style:{display:"none"}})],-1),yb={class:"cm-footer cm-flex-child-fixed"};function Sb(e,t,i,s,n,o){const c=ye("breadcrumb"),r=ye("icon"),l=ye("settings-dialog"),h=ye("save-as-dialog");return j(),V("div",pb,[e.showBreadcrumb?(j(),V("ol",_b,[fe(c,{onChangePath:e.changePath,stack:e.stack,"is-git":e.isGit},null,8,["onChangePath","stack","is-git"])])):ue("",!0),U("div",gb,[U("div",mb,[vb,bb,U("div",yb,[e.readOnly?ue("",!0):(j(),V("button",{key:0,onClick:t[0]||(t[0]=u=>e.saveAction()),type:"button",class:"btn btn-primary"},[fe(r,{icon:"save"}),Ge(" Save")])),e.readOnly?ue("",!0):(j(),V("button",{key:1,onClick:t[1]||(t[1]=u=>e.saveAsAction()),type:"button",class:"btn btn-default"},[fe(r,{icon:"save_as"}),Ge(" Save as")])),e.readOnly?ue("",!0):(j(),V("button",{key:2,onClick:t[2]||(t[2]=u=>e.revertAction()),type:"button",class:"btn btn-default"},[fe(r,{icon:"rotate_left"}),Ge(" Revert")])),U("button",{onClick:t[3]||(t[3]=u=>e.findAction()),type:"button",class:"btn btn-default"},[fe(r,{icon:"search"}),Ge(" Find")]),e.readOnly?ue("",!0):(j(),V("button",{key:3,onClick:t[4]||(t[4]=u=>e.replaceAction()),type:"button",class:"btn btn-default"},[fe(r,{icon:"find_replace"}),Ge(" Replace")])),e.readOnly?ue("",!0):st((j(),V("button",{key:4,onClick:t[5]||(t[5]=u=>e.formatAction()),type:"button",class:"btn btn-default"},[fe(r,{icon:"format_indent_increase"}),Ge(" Format Code")],512)),[[It,e.isPython]]),U("button",{onClick:t[6]||(t[6]=u=>e.settingsAction()),type:"button",class:"btn btn-default",style:{float:"right"}},[fe(r,{icon:"settings"}),Ge(" Settings")])])])]),fe(l,{ref:"settingsDialog"},null,512),fe(h,{ref:"saveAsDialog"},null,512)])}const wb=qe(fb,[["render",Sb]]);const Cb=Ue({}),Eb={class:"spinner",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100"},kb=U("g",{class:"spinner-g"},[U("circle",{class:"spinner-path",cx:"50",cy:"50",r:"10",fill:"none","stroke-width":"1","stroke-miterlimit":"10",stroke:"#5555ff"})],-1),xb=[kb];function Tb(e,t,i,s,n,o){return j(),V("svg",Eb,xb)}const wo=qe(Cb,[["render",Tb]]),Db=Ue({components:{files:W0,editor:wb,spinner:wo},props:["config","isGit","target","uuid"],data(){return{stack:new j_,isEditorOpen:!1,loading:!1}},mounted(){this.target&&this.update(this.target)},methods:{isChanged(){return this.$refs.editor&&this.$refs.editor.isChanged()},update(e){e&&this.updateStack(e.path,e.type)},updateLocation(){if(!this.isGit){this.$emit("setTab",this.stack.last());const e=this.stack.last().type=="blob"?"edit":"files",t=this.stack.last().object||"/";document.location.hash=di(e+t)}},updateStack(e,t){this.loading=!0,this.stack.updateStack(e,t),this.refresh()},changePath(e){if(console.log("FilesEditorContainer.changePath item.name:"+e.name),this.isGit){if(this.loading=!0,e.name=="..")this.stack.pop();else{let t=this.stack.indexOf(e);t!=-1?this.stack.slice(t+1):this.stack.push(e)}this.refresh()}this.config.singleTab?(this.updateStack(e.object,e.type),this.loading=!0,this.refresh()):this.$emit("show",{id:"files",path:e.object,type:e.type})},refresh(){this.stack.last().type=="blob"?(this.$refs.editor&&this.$refs.editor.refresh(),this.isEditorOpen=!0):(this.$refs.files&&this.$refs.files.refresh(),this.isEditorOpen=!1),this.updateLocation()},dispose(){this.$refs.editor&&this.$refs.editor.dispose(),this.$refs.files&&this.$refs.files.dispose()},loaded(){this.loading=!1}}}),Rb={class:"tree-view"};function Pb(e,t,i,s,n,o){const c=ye("spinner"),r=ye("files"),l=ye("editor");return j(),V("div",Rb,[st(fe(c,null,null,512),[[It,e.loading]]),st(fe(r,{ref:"files",uuid:e.uuid,stack:e.stack,config:e.config,isGit:e.isGit,showBreadcrumb:!0,onChangePath:e.changePath,onUpdateLocation:e.updateLocation,onLoaded:e.loaded},null,8,["uuid","stack","config","isGit","onChangePath","onUpdateLocation","onLoaded"]),[[It,!e.isEditorOpen]]),e.isEditorOpen?(j(),tt(l,{key:0,ref:"editor",uuid:e.uuid,stack:e.stack,config:e.config,isGit:e.isGit,showBreadcrumb:!0,onChangePath:e.changePath,onUpdateLocation:e.updateLocation,onLoaded:e.loaded},null,8,["uuid","stack","config","isGit","onChangePath","onUpdateLocation","onLoaded"])):ue("",!0)])}const Fn=qe(Db,[["render",Pb]]);function Ab(e,t){const i=this;i.update=async function(u){jQuery(o).empty(),l=[],jQuery(c).empty(),i.nextRef=u,i.populate()},i.populate=async function(){r=null;const u=1e3;c.childElementCount>0&&c.removeChild(c.lastElementChild);const p=c.childElementCount,f=await Yt(["log","--date-order","--pretty=raw","--decorate=full","--max-count="+String(u+1),String(i.nextRef),"--"]);if(f){let S=0,b=0;for(i.nextRef=void 0;;){let _=f.indexOf(`
commit `,S),a=_!=-1?_-S:void 0,g=new n(i,f.substr(S,a));if(b<u)c.appendChild(g.element),i.lineHeight||(i.lineHeight=Math.ceil(jQuery(g.element).outerHeight()/2)*2),g.element.setAttribute("style","height:"+i.lineHeight+"px"),r||(r=g,jQuery(g.element).addClass("active"));else{i.nextRef=g.commit;break}if(a==null)break;S=_+1,++b}if(o.setAttribute("height",jQuery(c).outerHeight()),o.setAttribute("width",jQuery(c).outerWidth()),i.nextRef!=null){let _=jQuery('<a class="log-entry log-entry-more list-group-item">');jQuery('<a class="list-group-item-text">Show previous commits</a>').appendTo(_[0]),_.click(i.populate),_.appendTo(c)}i.updateGraph(p)}},i.updateGraph=function(u){let p=(u+.5)*i.lineHeight,f=0;u==0&&(h=0);let S=null;for(let b=u;b<c.children.length;++b){let _=c.children[b].model;if(!_)break;let a=0;_.element.webuiLeft=l.length;let g=0;S=12;let v=0;for(let m=0;m<l.length;){let w=l[m];if(w.sha1==_.commit){if(g==0)w.path.setAttribute("d",w.path.cmds+p),_.parents.length==0?l.splice(m,1):w.sha1=_.parents[0],a=m,++m;else{let C=(a+1)*S;w.path.setAttribute("d",w.path.cmds+(p-i.lineHeight/2)+" L "+C+" "+p),l.splice(m,1),++v}++g}else{if(v!=0){let C=(m+1)*S;w.path.setAttribute("d",w.path.cmds+(p-i.lineHeight/2)+" L "+C+" "+p)}++m}}for(let m=0;m<_.parents.length;++m){let w=_.parents[m],C=(a+m+1)*S;if(m!=0||l.length==0){let T=document.createElementNS("http://www.w3.org/2000/svg","path");++h,h==La.length&&(h=0),T.setAttribute("style","stroke:"+La[h]);let y=(a+1)*S;T.cmds="M "+y+" "+p+" L "+C+" "+(p+i.lineHeight/2)+" L "+C+" ",o.appendChild(T);let E={sha1:w,path:T};l.splice(a+m,0,E)}}for(let m=a+_.parents.length;m<l.length;++m){let w=l[m],C=(m+1)*S;w.path.cmds+=p-i.lineHeight/2+" L "+C+" "+p+" L "+C+" "}let d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("cx",(a+1)*S),d.setAttribute("cy",p),d.setAttribute("r",4),o.appendChild(d),_.element.webuiLeft=Math.max(_.element.webuiLeft,l.length),f=Math.max(f,_.element.webuiLeft),p+=i.lineHeight}for(let b=u;b<c.children.length;++b){let _=c.children[b];if(_.model){let a=Math.min(f,3),g=_?Math.max(a,_.webuiLeft):a;_.setAttribute("style",_.getAttribute("style")+";padding-left:"+(g+1)*S+"px")}}for(let b=0;b<l.length;++b){let _=l[b];_.path.setAttribute("d",_.path.cmds+p)}};function s(u){let p=u.indexOf("<");this.name=u.substr(0,p-1);let f=u.indexOf(">",p);this.email=u.substr(p+1,f-p-1);let S=u.indexOf(" ",f+2),b=u.substr(f+2,S-f-2);this.date=new Date(0),this.date.setUTCSeconds(parseInt(b)),this.formattedDate=this.date.toISOString().substring(0,16).replace("T"," ")}function n(u,p){let f=this;f.abbrevCommitHash=function(){return f.commit.substr(0,7)},f.abbrevMessage=function(){let S=f.message.indexOf(`
`);return S==-1?f.message:f.message.substr(0,S)},f.createElement=function(){if(f.element=jQuery('<a class="log-entry list-group-item"><header><h6></h6><span class="log-entry-date">'+f.author.formattedDate+'&nbsp;</span> <span class="badge">'+f.abbrevCommitHash()+'</span></header><p class="list-group-item-text"></p></a>')[0],jQuery("<span>"+f.author.name+"</span>").appendTo(jQuery("h6",f.element)),jQuery(".list-group-item-text",f.element)[0].appendChild(document.createTextNode(f.abbrevMessage())),f.refs){let b=jQuery("h6",f.element);f.refs.forEach(function(_){let a=null;_.indexOf("refs/remotes")==0?(_=_.substr(13),a="danger"):_.indexOf("refs/heads")==0?(_=_.substr(11),a="success"):_.indexOf("tag: refs/tags")==0?(_=_.substr(15),a="info"):a="warning",jQuery('<span>&nbsp;</span><span class="label label-'+a+'">'+_+"</span>").insertAfter(b)})}f.element.model=f;let S=f;return jQuery(f.element).click(function(b){S.select()}),f.element},f.select=function(){r!=f&&(r&&jQuery(r.element).removeClass("active"),jQuery(f.element).addClass("active"),r=f,t.updateCommit(f))},f.parents=[],f.message="",p.split(`
`).forEach(function(S){if(S.indexOf("commit ")==0){if(f.commit=S.substr(7,40),S.length>47){f.refs=[];let b=S.lastIndexOf("(")+1,_=S.lastIndexOf(")");S.substr(b,_-b).split(", ").forEach(function(a){f.refs.push(a)})}}else S.indexOf("parent ")==0?f.parents.push(S.substr(7)):S.indexOf("tree ")==0?f.tree=S.substr(5):S.indexOf("author ")==0?f.author=new s(S.substr(7)):S.indexOf("committer ")==0?f.committer=new s(S.substr(10)):S.indexOf("    ")==0&&(f.message+=S.substr(4)+`
`)}),f.message=f.message.trim(),f.createElement()}i.element=jQuery(e)[0];let o=i.element.children[0],c=i.element.children[1],r=null,l=[],h=0}const Lb=Ue({data(){return{logView:null}},methods:{initViews(){this.logView=new Ab(this.$refs.logView,this)},update(e){this.logView&&this.logView.update(e)},updateCommit(e){this.$emit("updateCommit",e)}},mounted(){this.initViews()}}),Ob={ref:"logView",class:"log-view"},Mb=U("svg",{xmlns:"http://www.w3.org/2000/svg"},null,-1),Ib=U("div",null,null,-1),Bb=[Mb,Ib];function Fb(e,t,i,s,n,o){return j(),V("div",Ob,Bb,512)}const Nb=qe(Lb,[["render",Fb]]);const Hb=Ue({props:["linesOfContext"],data(){return{lines:Qe([])}},methods:{processLine(e){const t=e[0];let i="",s=!1;return this.inHeader?e.startsWith("commit")?(e=e.substring(7),i="badge"):e.startsWith("diff --git")?(s=!0,this.inHeader=!1,this.inFileHeader=!0):(i="diff-header",(e.startsWith("Author:")||e.startsWith("Date:"))&&(i+=" font-weight-bold")):!this.inFileHeader&&e.startsWith("diff --git")?(s=!0,this.inFileHeader=!0):this.inFileHeader?(s=!0,e.startsWith("+++ ")&&(i+=" diff-file-header",e=e.substring(5),e.startsWith("dev/null")&&(e=this.last.substring(5)),e[0]=="/"&&(e=e.substring(1)),s=!1,this.inFileHeader=!1)):(t=="+"?i+=" diff-line-add":t=="-"?i+=" diff-line-del":t=="@"&&(i+=" diff-line-offset"),i||(i="diff-default")),this.last=e,{classes:i,line:e,skip:s}},parseDiff(e){console.log("loaded "+this.commit.commit),this.inHeader=!0,this.inFileHeader=!1,this.last=null,this.lines=e.split(`
`).map(this.processLine),this.$emit("loaded")},async refresh(e){if(e&&(this.commit=e),this.commit){console.log("loading");const t=["show","--unified="+this.linesOfContext,this.commit.commit],i=await Yt(t);i&&this.parseDiff(i)}}},async mounted(){this.refresh()}}),$b={class:"show-commit"};function Ub(e,t,i,s,n,o){return j(),V("div",$b,[(j(!0),V(xe,null,Ze(e.lines,c=>(j(),V("div",null,[c.skip?ue("",!0):(j(),V("div",{key:0,class:ve(c.classes)},we(c.line),3))]))),256))])}const jb=qe(Hb,[["render",Ub]]);const Wb=Ue({components:{splitpanes:co,pane:ho,log:Nb,container:Fn,commit:jb,spinner:wo},props:["config","target"],data(){return{tab:"commit",loading:!1,id:Qe(null),name:Qe(null),commit:Qe(null)}},mounted(){this.refresh()},methods:{isChanged(){return!1},updateLocation(){document.location.hash=di(this.id+"/"+this.name)},update(e){(this.id!=e.id||this.name!=e.name)&&(this.id=e.id,this.name=e.name,this.$refs.log.update(this.name),this.updateCommit({commit:this.name}),this.updateLocation())},updateCommit(e){this.loading||(this.commit=e,this.loading=!0,this.$refs.commit.refresh(this.commit),this.$refs.container.updateStack(this.commit.commit,"tree"))},refresh(){this.target&&this.update(this.target)},dispose(){},loaded(){this.loading=!1}}}),zb={class:"nav nav-tabs"},qb={class:"diff-view-container panel panel-default"},Kb={class:"tree-view"};function Vb(e,t,i,s,n,o){const c=ye("spinner"),r=ye("log"),l=ye("pane"),h=ye("commit"),u=ye("container"),p=ye("splitpanes");return j(),tt(p,{class:"default-theme"},{default:De(()=>[fe(l,{key:"1",size:50,class:"history-view"},{default:De(()=>[st(fe(c,null,null,512),[[It,e.loading]]),fe(r,{ref:"log",onUpdateCommit:e.updateCommit},null,8,["onUpdateCommit"])]),_:1}),fe(l,{key:"2",size:50,class:"commit-view"},{default:De(()=>[U("ul",zb,[U("li",{role:"presentation",class:ve(e.tab=="commit"?"active":"")},[U("a",{href:"#",onClick:t[0]||(t[0]=Fe(f=>e.tab="commit",["prevent"]))},"Commit")],2),U("li",{role:"presentation",class:ve(e.tab=="tree"?"active":"")},[U("a",{href:"#",onClick:t[1]||(t[1]=Fe(f=>e.tab="tree",["prevent"]))},"Tree")],2)]),st(U("div",qb,[fe(h,{ref:"commit",linesOfContext:"3",onLoaded:e.loaded},null,8,["onLoaded"])],512),[[It,e.tab=="commit"]]),st(U("div",Kb,[fe(u,{ref:"container",config:e.config,"is-git":!0},null,8,["config"])],512),[[It,e.tab=="tree"]])]),_:1})]),_:1})}const qa=qe(Wb,[["render",Vb]]);const Yb=Ue({components:{icon:ls},props:[],data(){return{message:null,amend:!1,show:!1}},methods:{showDialog(){return new Promise((e,t)=>{this.message="",this.amend=!1,this.show=!0,this.resolve=e,this.reject=t})},ok(){this.close({amend:this.amend,message:this.message})},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)},toggleamend(){this.amend=!this.amend}}}),Gb={class:"airflow-code-editor-modal airflow-code-editor-modal-commit"},Xb=U("h1",null,"Commit",-1),Jb=U("label",null,"Please enter the commit message:",-1),Qb={class:"commit-dialog-buttons"},Zb=["disabled"];function ey(e,t,i,s,n,o){const c=ye("icon"),r=ye("modal");return j(),tt(r,{modelValue:e.show,"onUpdate:modelValue":t[3]||(t[3]=l=>e.show=l),close:e.close},{default:De(()=>[U("div",Gb,[Xb,Jb,st(U("textarea",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=l=>e.message=l)},`
      `,512),[[lo,e.message]]),U("label",null,[fe(c,{icon:"check_box",state:e.amend,onClick:e.toggleamend},null,8,["state","onClick"]),Ge(" Amend amend previous commit ")]),U("div",Qb,[U("button",{onClick:t[1]||(t[1]=(...l)=>e.cancel&&e.cancel(...l)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[2]||(t[2]=(...l)=>e.ok&&e.ok(...l)),class:"btn btn-primary",disabled:e.message==""},"Ok",8,Zb)])])]),_:1},8,["modelValue","close"])}const ty=qe(Yb,[["render",ey]]);const iy=Ue({props:[],data(){return{title:null,message:null,show:!1}},methods:{showDialog(e,t){return this.resolve&&(this.resolve(!1),this.resolve=null),this.title=e,this.message=t,this.show=!0,new Promise((i,s)=>{this.resolve=i})},ok(){this.resolve(!0),this.resolve=null,this.show=!1},cancel(){this.resolve(!1),this.resolve=null,this.show=!1},close(){this.resolve(!1),this.resolve=null,this.show=!1}}}),sy={class:"airflow-code-editor-modal airflow-code-editor-modal-confim"},ry={class:"confim-dialog-buttons"};function ny(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",sy,[U("h1",null,we(e.title),1),U("label",null,we(e.message),1),U("div",ry,[U("button",{onClick:t[0]||(t[0]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-default"},"Cancel"),U("button",{onClick:t[1]||(t[1]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-primary"},"Ok")])])]),_:1},8,["modelValue","close"])}const oy=qe(iy,[["render",ny]]);const ay={" ":"unmodified",M:"modified",T:"type changed",A:"added",D:"deleted",R:"renamed",C:"copied",U:"unmerged","?":"untracked","!":"ignored"},ly=Ue({components:{icon:ls,"commit-dialog":ty,"confirm-dialog":oy},props:["kind"],data(){return{items:Qe([])}},computed:{selected(){return this.items.filter(e=>e.selected)}},methods:{toggleItem(e){e.selected=!e.selected},showDiff(e){this.$emit("showDiff",e)},async showCommitDialog(e){const t=await this.$refs.commitDialog.showDialog();if(t){const i=["commit",t.amend?"--amend":null,"-m",t.message],s=await Yt(i);console.log(s),this.refresh()}},async showRevertDialog(e){await this.$refs.confirmDialog.showDialog("Confirm Revert","Are you sure you want to revert changes?")&&this.revert()},processLine(e){const t=this.kind=="staged"?0:1,i=e[t];if(this.kind=="staged"&&i!=" "&&i!="?"||this.kind=="unstaged"&&i!=" "){let s=e.substring(3);s.indexOf(" -> ")!=-1&&(s=s.split(" -> ")[1]);const n=s[s.length-1]=="/"?"tree":"blob";return{name:s,status:ay[i]||i,type:n,kind:this.kind,icon:yo(s,n)}}else return null},parseStatus(e){const t=e.split(`
`).filter(i=>i.length>0);this.items=t.map(this.processLine).filter(i=>i!=null)},selectAll(){this.items.forEach(e=>e.selected=!0)},deselectAll(){this.items.forEach(e=>e.selected=!1)},toggleAll(){this.selected.length==this.items.length?this.deselectAll():this.selectAll()},async process(){if(this.selected.length){const e=[this.kind=="staged"?"reset":"add","--"].concat(this.selected.map(t=>t.name));await Yt(e),this.$emit("refresh")}},async revert(){if(this.selected.length){const e=["checkout","--"].concat(this.selected.map(t=>t.name));await Yt(e),this.$emit("refresh")}},async refresh(){const e=await Yt(["status","--porcelain","--untracked-files=all"]);e&&this.parseStatus(e)}}}),cy={class:"workspace-file-header"},hy={class:"header-buttons"},dy=["disabled"],uy={class:"badge"},fy=["disabled"],py=["disabled"],_y={class:"badge"},gy={class:"workspace-file-table table-responsive"},my={class:"table table-hover table-striped"},vy=["onClick"],by=["onClick"],yy=["onClick"],Sy=["onClick"],wy={class:"badge"};function Cy(e,t,i,s,n,o){const c=ye("icon"),r=ye("commit-dialog"),l=ye("confirm-dialog");return j(),V(xe,null,[U("div",cy,[U("span",{class:"workspace-file-header-checkbox",onClick:t[0]||(t[0]=h=>e.toggleAll())},[fe(c,{icon:"check_box",state:e.items.length&&e.selected.length==e.items.length},null,8,["state"])]),U("h1",null,we(e.kind=="unstaged"?"Unstaged files":"Staged files"),1),U("div",hy,[U("button",{onClick:t[1]||(t[1]=(...h)=>e.process&&e.process(...h)),type:"button",disabled:e.selected.length==0?"disabled":null,class:"btn btn-default"},[Ge(we(e.kind=="unstaged"?"Stage":"Unstage")+" ",1),U("span",uy,we(e.selected.length),1)],8,dy),e.kind=="staged"?(j(),V("button",{key:0,onClick:t[2]||(t[2]=(...h)=>e.showCommitDialog&&e.showCommitDialog(...h)),type:"button",disabled:e.items.length==0?"disabled":null,class:"btn btn-primary"}," Commit ",8,fy)):ue("",!0),e.kind=="unstaged"?(j(),V("button",{key:1,onClick:t[3]||(t[3]=(...h)=>e.showRevertDialog&&e.showRevertDialog(...h)),type:"button",disabled:e.selected.length==0?"disabled":null,class:"btn btn-warning"},[Ge(" Revert "),U("span",_y,we(e.selected.length),1)],8,py)):ue("",!0)])]),U("div",gy,[U("table",my,[U("tbody",null,[(j(!0),V(xe,null,Ze(e.items,h=>(j(),V("tr",{key:h,class:ve(h.selected?"info":"")},[U("td",{class:"workspace-file-checkbox",onClick:u=>e.toggleItem(h)},[fe(c,{icon:"check_box",state:h.selected},null,8,["state"])],8,vy),U("td",{class:"workspace-file-icon",onClick:u=>e.showDiff(h)},[fe(c,{icon:h.icon},null,8,["icon"])],8,by),U("td",{class:"workspace-file-name",onClick:u=>e.showDiff(h)},we(h.name),9,yy),U("td",{class:"workspace-file-badge",onClick:u=>e.showDiff(h)},[U("span",wy,we(h.status),1)],8,Sy)],2))),128))])])]),fe(r,{ref:"commitDialog",onRefresh:t[4]||(t[4]=h=>e.$emit("refresh"))},null,512),fe(l,{ref:"confirmDialog",onRefresh:t[5]||(t[5]=h=>e.$emit("refresh"))},null,512)],64)}const Ey=qe(ly,[["render",Cy]]);const ky=Ue({props:["linesOfContext"],data(){return{lines:Qe([])}},methods:{processLine(e){const t=e[0];let i="",s=!1;return!this.inFileHeader&&e.startsWith("diff --git")?(s=!0,this.inFileHeader=!0):this.inFileHeader?(s=!0,e.startsWith("+++ ")&&(i+=" diff-file-header",e=e.substring(5),e.startsWith("dev/null")&&(e=this.last.substring(5)),e[0]=="/"&&(e=e.substring(1)),s=!1,this.inFileHeader=!1)):(t=="+"?i+=" diff-line-add":t=="-"?i+=" diff-line-del":t=="@"&&(i+=" diff-line-offset"),i||(i="diff-default")),this.last=e,{classes:i,line:e,skip:s}},parseDiff(e){this.inFileHeader=!0,this.last=null,this.lines=e.split(`
`).map(this.processLine),this.$emit("loaded",!0)},async showDiff(){const e=["diff","--unified="+this.linesOfContext,this.target.kind=="staged"?"--cached":null,"--",this.target.name],t=await Yt(e);t&&this.parseDiff(t)},parseUntrackedFileResponse(e){const t=e.data;this.inFileHeader=!0,this.last=null;const i=t.split(`
`).map(n=>"+"+n),s=["diff --git a/dev/null b/"+this.target.name,"index ...","--- a/dev/null","+++ b/"+this.target.name,"@@ -0,0 +1,"+i.length+" @@"];this.lines=s.concat(i).map(this.processLine),this.$emit("loaded",!0)},async showUntrackedFile(e){try{const t=await Rt.get(wt("files/"+this.target.name),{transformResponse:i=>i});return this.parseUntrackedFileResponse(t)}catch(t){this.$emit("loaded",!1);try{const i=JSON.parse(t.response.data);At(i.error.message)}catch{At("Error loading file")}}},async refresh(e){this.target=e,this.target&&this.target.name?this.target.status=="untracked"?this.showUntrackedFile():this.showDiff():this.$emit("loaded",!0)}}}),xy={class:"show-diff-container"},Ty={class:"show-diff"};function Dy(e,t,i,s,n,o){return j(),V("div",xy,[U("div",Ty,[(j(!0),V(xe,null,Ze(e.lines,c=>(j(),V("div",null,[c.skip?ue("",!0):(j(),V("div",{key:0,class:ve(c.classes)},we(c.line),3))]))),256))])])}const Ry=qe(ky,[["render",Dy]]);const Py=Ue({components:{splitpanes:co,pane:ho,workspacefiles:Ey,diff:Ry,spinner:wo},props:[],data(){return{loading:!1,showDiffPane:!1}},mounted(){this.refresh()},methods:{isChanged(){return!1},showDiff(e){this.loading=!0,this.$refs.diff.refresh(e)},updateLocation(){document.location.hash="workspace"},refresh(){this.showDiffPane=!1,this.$refs.unstaged.refresh(),this.$refs.staged.refresh(),this.updateLocation()},dispose(){},loaded(e){this.loading=!1,this.showDiffPane=e}}});function Ay(e,t,i,s,n,o){const c=ye("spinner"),r=ye("workspacefiles"),l=ye("pane"),h=ye("diff"),u=ye("splitpanes");return j(),tt(u,{class:"default-theme"},{default:De(()=>[fe(l,{class:"workspace-file-pane",size:33},{default:De(()=>[st(fe(c,null,null,512),[[It,e.loading]]),fe(r,{onShowDiff:e.showDiff,ref:"unstaged",kind:"unstaged",onRefresh:e.refresh},null,8,["onShowDiff","onRefresh"])]),_:1}),fe(l,{class:"workspace-file-pane",size:33},{default:De(()=>[fe(r,{onShowDiff:e.showDiff,ref:"staged",kind:"staged",onRefresh:e.refresh},null,8,["onShowDiff","onRefresh"])]),_:1}),fe(l,{size:34,class:"workspace-show-diff-pane"},{default:De(()=>[fe(h,{ref:"diff",linesOfContext:"3",onLoaded:e.loaded},null,8,["onLoaded"])]),_:1})]),_:1})}const Nn=qe(Py,[["render",Ay]]);var Dc={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(self,function(){return(()=>{var i={4567:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AccessibilityManager=void 0;const h=l(9042),u=l(6114),p=l(9924),f=l(3656),S=l(844),b=l(5596),_=l(9631);class a extends S.Disposable{constructor(v,d){super(),this._terminal=v,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let m=0;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);if(this._topBoundaryFocusListener=m=>this._handleBoundaryFocus(m,0),this._bottomBoundaryFocusListener=m=>this._handleBoundaryFocus(m,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new p.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(m=>this._handleResize(m.rows))),this.register(this._terminal.onRender(m=>this._refreshRows(m.start,m.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(m=>this._handleChar(m))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(m=>this._handleTab(m))),this.register(this._terminal.onKey(m=>this._handleKey(m.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,S.toDisposable)(()=>{(0,_.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(v,d){const m=v.target,w=this._rowElements[d===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(d===0?"1":`${this._terminal.buffer.lines.length}`)||v.relatedTarget!==w)return;let C,T;if(d===0?(C=m,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(C=this._rowElements.shift(),T=m,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),d===0){const y=this._createAccessibilityTreeNode();this._rowElements.unshift(y),this._rowContainer.insertAdjacentElement("afterbegin",y)}else{const y=this._createAccessibilityTreeNode();this._rowElements.push(y),this._rowContainer.appendChild(y)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(d===0?-1:1),this._rowElements[d===0?1:this._rowElements.length-2].focus(),v.preventDefault(),v.stopImmediatePropagation()}_handleResize(v){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const v=document.createElement("div");return v.setAttribute("role","listitem"),v.tabIndex=-1,this._refreshRowDimensions(v),v}_handleTab(v){for(let d=0;d<v;d++)this._handleChar(" ")}_handleChar(v){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==v&&(this._charsToAnnounce+=v):this._charsToAnnounce+=v,v===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)),u.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,u.isMac&&(0,_.removeElementFromParent)(this._liveRegion)}_handleKey(v){this._clearLiveRegion(),/\p{Control}/u.test(v)||this._charsToConsume.push(v)}_refreshRows(v,d){this._renderRowsDebouncer.refresh(v,d,this._terminal.rows)}_renderRows(v,d){const m=this._terminal.buffer,w=m.lines.length.toString();for(let C=v;C<=d;C++){const T=m.translateBufferLineToString(m.ydisp+C,!0),y=(m.ydisp+C+1).toString(),E=this._rowElements[C];E&&(T.length===0?E.innerText="\xA0":E.textContent=T,E.setAttribute("aria-posinset",y),E.setAttribute("aria-setsize",w))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let v=0;v<this._terminal.rows;v++)this._refreshRowDimensions(this._rowElements[v])}}_refreshRowDimensions(v){v.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}r.AccessibilityManager=a},3614:(c,r)=>{function l(f){return f.replace(/\r?\n/g,"\r")}function h(f,S){return S?"\x1B[200~"+f+"\x1B[201~":f}function u(f,S,b){f=h(f=l(f),b.decPrivateModes.bracketedPasteMode),b.triggerDataEvent(f,!0),S.value=""}function p(f,S,b){const _=b.getBoundingClientRect(),a=f.clientX-_.left-10,g=f.clientY-_.top-10;S.style.width="20px",S.style.height="20px",S.style.left=`${a}px`,S.style.top=`${g}px`,S.style.zIndex="1000",S.focus()}Object.defineProperty(r,"__esModule",{value:!0}),r.rightClickHandler=r.moveTextAreaUnderMouseCursor=r.paste=r.handlePasteEvent=r.copyHandler=r.bracketTextForPaste=r.prepareTextForTerminal=void 0,r.prepareTextForTerminal=l,r.bracketTextForPaste=h,r.copyHandler=function(f,S){f.clipboardData&&f.clipboardData.setData("text/plain",S.selectionText),f.preventDefault()},r.handlePasteEvent=function(f,S,b){f.stopPropagation(),f.clipboardData&&u(f.clipboardData.getData("text/plain"),S,b)},r.paste=u,r.moveTextAreaUnderMouseCursor=p,r.rightClickHandler=function(f,S,b,_,a){p(f,S,b),a&&_.rightClickSelect(f),S.value=_.selectionText,S.select()}},7239:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorContrastCache=void 0;const h=l(1505);r.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(u,p,f){this._css.set(u,p,f)}getCss(u,p){return this._css.get(u,p)}setColor(u,p,f){this._color.set(u,p,f)}getColor(u,p){return this._color.get(u,p)}clear(){this._color.clear(),this._css.clear()}}},9631:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeElementFromParent=void 0,r.removeElementFromParent=function(...l){var h;for(const u of l)(h=u==null?void 0:u.parentElement)===null||h===void 0||h.removeChild(u)}},3656:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addDisposableDomListener=void 0,r.addDisposableDomListener=function(l,h,u,p){l.addEventListener(h,u,p);let f=!1;return{dispose:()=>{f||(f=!0,l.removeEventListener(h,u,p))}}}},6465:function(c,r,l){var h=this&&this.__decorate||function(a,g,v,d){var m,w=arguments.length,C=w<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,g,v,d);else for(var T=a.length-1;T>=0;T--)(m=a[T])&&(C=(w<3?m(C):w>3?m(g,v,C):m(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},u=this&&this.__param||function(a,g){return function(v,d){g(v,d,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Linkifier2=void 0;const p=l(2585),f=l(8460),S=l(844),b=l(3656);let _=class extends S.Disposable{constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new f.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new f.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,S.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,S.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const g=this._linkProviders.indexOf(a);g!==-1&&this._linkProviders.splice(g,1)}}}attachToDom(a,g,v){this._element=a,this._mouseService=g,this._renderService=v,this.register((0,b.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,b.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,b.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,b.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const g=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const v=a.composedPath();for(let d=0;d<v.length;d++){const m=v[d];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(a){if(this._activeLine!==a.y)return this._clearCurrentLink(),void this._askForLink(a,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,g){var v,d;this._activeProviderReplies&&g||((v=this._activeProviderReplies)===null||v===void 0||v.forEach(w=>{w==null||w.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);let m=!1;for(const[w,C]of this._linkProviders.entries())g?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(m=this._checkLinkProviderResult(w,a,m)):C.provideLinks(a.y,T=>{var y,E;if(this._isMouseOut)return;const x=T==null?void 0:T.map(O=>({link:O}));(y=this._activeProviderReplies)===null||y===void 0||y.set(w,x),m=this._checkLinkProviderResult(w,a,m),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)})}_removeIntersectingLinks(a,g){const v=new Set;for(let d=0;d<g.size;d++){const m=g.get(d);if(m)for(let w=0;w<m.length;w++){const C=m[w],T=C.link.range.start.y<a?0:C.link.range.start.x,y=C.link.range.end.y>a?this._bufferService.cols:C.link.range.end.x;for(let E=T;E<=y;E++){if(v.has(E)){m.splice(w--,1);break}v.add(E)}}}}_checkLinkProviderResult(a,g,v){var d;if(!this._activeProviderReplies)return v;const m=this._activeProviderReplies.get(a);let w=!1;for(let C=0;C<a;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(w=!0);if(!w&&m){const C=m.find(T=>this._linkAtPosition(T.link,g));C&&(v=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!v)for(let C=0;C<this._activeProviderReplies.size;C++){const T=(d=this._activeProviderReplies.get(C))===null||d===void 0?void 0:d.find(y=>this._linkAtPosition(y.link,g));if(T){v=!0,this._handleNewLink(T);break}}return v}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const g=this._positionFromMouseEvent(a,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,g){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!g||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,S.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(a.link,g)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var v,d;return(d=(v=this._currentLink)===null||v===void 0?void 0:v.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:v=>{var d,m;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&this._currentLink.state.decorations.pointerCursor!==v&&(this._currentLink.state.decorations.pointerCursor=v,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",v)))}},underline:{get:()=>{var v,d;return(d=(v=this._currentLink)===null||v===void 0?void 0:v.state)===null||d===void 0?void 0:d.decorations.underline},set:v=>{var d,m,w;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&((w=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||w===void 0?void 0:w.decorations.underline)!==v&&(this._currentLink.state.decorations.underline=v,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,v))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(v=>{const d=v.start===0?0:v.start+1+this._bufferService.buffer.ydisp,m=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(d,v.end+1+this._bufferService.buffer.ydisp),m&&this._element){const w=this._positionFromMouseEvent(m,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(a,g,v){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(v,g.text)}_fireUnderlineEvent(a,g){const v=a.range,d=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(v.start.x-1,v.start.y-d-1,v.end.x,v.end.y-d-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(a,g,v){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(v,g.text)}_linkAtPosition(a,g){const v=a.range.start.y*this._bufferService.cols+a.range.start.x,d=a.range.end.y*this._bufferService.cols+a.range.end.x,m=g.y*this._bufferService.cols+g.x;return v<=m&&m<=d}_positionFromMouseEvent(a,g,v){const d=v.getCoords(a,g,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,g,v,d,m){return{x1:a,y1:g,x2:v,y2:d,cols:this._bufferService.cols,fg:m}}};_=h([u(0,p.IBufferService)],_),r.Linkifier2=_},9042:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tooMuchOutput=r.promptLabel=void 0,r.promptLabel="Terminal input",r.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(c,r,l){var h=this&&this.__decorate||function(_,a,g,v){var d,m=arguments.length,w=m<3?a:v===null?v=Object.getOwnPropertyDescriptor(a,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,a,g,v);else for(var C=_.length-1;C>=0;C--)(d=_[C])&&(w=(m<3?d(w):m>3?d(a,g,w):d(a,g))||w);return m>3&&w&&Object.defineProperty(a,g,w),w},u=this&&this.__param||function(_,a){return function(g,v){a(g,v,_)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OscLinkProvider=void 0;const p=l(511),f=l(2585);let S=class{constructor(_,a,g){this._bufferService=_,this._optionsService=a,this._oscLinkService=g}provideLinks(_,a){var g;const v=this._bufferService.buffer.lines.get(_-1);if(!v)return void a(void 0);const d=[],m=this._optionsService.rawOptions.linkHandler,w=new p.CellData,C=v.getTrimmedLength();let T=-1,y=-1,E=!1;for(let x=0;x<C;x++)if(y!==-1||v.hasContent(x)){if(v.loadCell(x,w),w.hasExtendedAttrs()&&w.extended.urlId){if(y===-1){y=x,T=w.extended.urlId;continue}E=w.extended.urlId!==T}else y!==-1&&(E=!0);if(E||y!==-1&&x===C-1){const O=(g=this._oscLinkService.getLinkData(T))===null||g===void 0?void 0:g.uri;if(O){const P={start:{x:y+1,y:_},end:{x:x+(E||x!==C-1?0:1),y:_}};let I=!1;if(!(m!=null&&m.allowNonHttpProtocols))try{const G=new URL(O);["http:","https:"].includes(G.protocol)||(I=!0)}catch{I=!0}I||d.push({text:O,range:P,activate:(G,re)=>m?m.activate(G,re,P):b(0,re),hover:(G,re)=>{var ie;return(ie=m==null?void 0:m.hover)===null||ie===void 0?void 0:ie.call(m,G,re,P)},leave:(G,re)=>{var ie;return(ie=m==null?void 0:m.leave)===null||ie===void 0?void 0:ie.call(m,G,re,P)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(y=x,T=w.extended.urlId):(y=-1,T=-1)}}a(d)}};function b(_,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const g=window.open();if(g){try{g.opener=null}catch{}g.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}S=h([u(0,f.IBufferService),u(1,f.IOptionsService),u(2,f.IOscLinkService)],S),r.OscLinkProvider=S},6193:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RenderDebouncer=void 0,r.RenderDebouncer=class{constructor(l,h){this._parentWindow=l,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,h,u){this._rowCount=u,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ScreenDprMonitor=void 0;const h=l(844);class u extends h.Disposable{constructor(f){super(),this._parentWindow=f,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)(()=>{this.clearListener()}))}setListener(f){this._listener&&this.clearListener(),this._listener=f,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)===null||f===void 0||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}r.ScreenDprMonitor=u},3236:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;const h=l(2950),u=l(1680),p=l(3614),f=l(2584),S=l(5435),b=l(9312),_=l(6114),a=l(3656),g=l(9042),v=l(4567),d=l(1296),m=l(7399),w=l(8460),C=l(8437),T=l(3230),y=l(4725),E=l(428),x=l(8934),O=l(6465),P=l(5114),I=l(8969),G=l(8055),re=l(4269),ie=l(5941),k=l(3107),D=l(5744),L=l(9074),M=l(2585),K=l(3730),ee=l(844),me=l(6731),ne=typeof window<"u"?window.document:null;class oe extends I.CoreTerminal{constructor(B={}){super(B),this.browser=_,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new w.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new w.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new w.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new w.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new w.EventEmitter),this._onBlur=this.register(new w.EventEmitter),this._onA11yCharEmitter=this.register(new w.EventEmitter),this._onA11yTabEmitter=this.register(new w.EventEmitter),this._onWillOpen=this.register(new w.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(O.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(K.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(L.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows(($,te)=>this.refresh($,te))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport($=>this._reportWindowsOptions($))),this.register(this._inputHandler.onColor($=>this._handleColorEvent($))),this.register((0,w.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,w.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize($=>this._afterResize($.cols,$.rows))),this.register((0,ee.toDisposable)(()=>{var $,te;this._customKeyEventHandler=void 0,(te=($=this.element)===null||$===void 0?void 0:$.parentNode)===null||te===void 0||te.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(B){if(this._themeService)for(const $ of B){let te,ae="";switch($.index){case 256:te="foreground",ae="10";break;case 257:te="background",ae="11";break;case 258:te="cursor",ae="12";break;default:te="ansi",ae="4;"+$.index}switch($.type){case 0:const Re=G.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[$.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${f.C0.ESC}]${ae};${(0,ie.toRgbString)(Re)}${f.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors(R=>R.ansi[$.index]=G.rgba.toColor(...$.color));else{const R=te;this._themeService.modifyColors(F=>F[R]=G.rgba.toColor(...$.color))}break;case 2:this._themeService.restoreColor($.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){var $;B?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new v.AccessibilityManager(this,this._renderService)):(($=this._accessibilityManager)===null||$===void 0||$.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(f.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(f.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,$=this.buffer.lines.get(B);if(!$)return;const te=Math.min(this.buffer.x,this.cols-1),ae=this._renderService.dimensions.css.cell.height,Re=$.getWidth(te),R=this._renderService.dimensions.css.cell.width*Re,F=this.buffer.y*this._renderService.dimensions.css.cell.height,z=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=z+"px",this.textarea.style.top=F+"px",this.textarea.style.width=R+"px",this.textarea.style.height=ae+"px",this.textarea.style.lineHeight=ae+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,a.addDisposableDomListener)(this.element,"copy",$=>{this.hasSelection()&&(0,p.copyHandler)($,this._selectionService)}));const B=$=>(0,p.handlePasteEvent)($,this.textarea,this.coreService);this.register((0,a.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,a.addDisposableDomListener)(this.element,"paste",B)),_.isFirefox?this.register((0,a.addDisposableDomListener)(this.element,"mousedown",$=>{$.button===2&&(0,p.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,a.addDisposableDomListener)(this.element,"contextmenu",$=>{(0,p.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),_.isLinux&&this.register((0,a.addDisposableDomListener)(this.element,"auxclick",$=>{$.button===1&&(0,p.moveTextAreaUnderMouseCursor)($,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,a.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,a.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var $;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),B.appendChild(this.element);const te=ne.createDocumentFragment();this._viewportElement=ne.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),te.appendChild(this._viewportElement),this._viewportScrollArea=ne.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ne.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ne.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),te.appendChild(this.screenElement),this.textarea=ne.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),_.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(P.CoreBrowserService,this.textarea,($=this._document.defaultView)!==null&&$!==void 0?$:window),this._instantiationService.setService(y.ICoreBrowserService,this._coreBrowserService),this.register((0,a.addDisposableDomListener)(this.textarea,"focus",ae=>this._handleTextAreaFocus(ae))),this.register((0,a.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(E.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(y.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(me.ThemeService),this._instantiationService.setService(y.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(re.CharacterJoinerService),this._instantiationService.setService(y.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(y.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ae=>this._onRender.fire(ae))),this.onResize(ae=>this._renderService.resize(ae.cols,ae.rows)),this._compositionView=ne.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(h.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(te);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(y.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,ae=>this.scrollLines(ae,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(y.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ae=>this.scrollLines(ae.amount,ae.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ae=>this._renderService.handleSelectionChanged(ae.start,ae.end,ae.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ae=>{this.textarea.value=ae,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ae=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(k.BufferDecorationRenderer,this.screenElement)),this.register((0,a.addDisposableDomListener)(this.element,"mousedown",ae=>this._selectionService.handleMouseDown(ae))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new v.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ae=>this._handleScreenReaderModeOptionChange(ae))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ae=>{!this._overviewRulerRenderer&&ae&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,$=this.element;function te(R){const F=B._mouseService.getMouseReportCoords(R,B.screenElement);if(!F)return!1;let z,X;switch(R.overrideType||R.type){case"mousemove":X=32,R.buttons===void 0?(z=3,R.button!==void 0&&(z=R.button<3?R.button:3)):z=1&R.buttons?0:4&R.buttons?1:2&R.buttons?2:3;break;case"mouseup":X=0,z=R.button<3?R.button:3;break;case"mousedown":X=1,z=R.button<3?R.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(R)===0)return!1;X=R.deltaY<0?0:1,z=4;break;default:return!1}return!(X===void 0||z===void 0||z>4)&&B.coreMouseService.triggerMouseEvent({col:F.col,row:F.row,x:F.x,y:F.y,button:z,action:X,ctrl:R.ctrlKey,alt:R.altKey,shift:R.shiftKey})}const ae={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Re={mouseup:R=>(te(R),R.buttons||(this._document.removeEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.removeEventListener("mousemove",ae.mousedrag)),this.cancel(R)),wheel:R=>(te(R),this.cancel(R,!0)),mousedrag:R=>{R.buttons&&te(R)},mousemove:R=>{R.buttons||te(R)}};this.register(this.coreMouseService.onProtocolChange(R=>{R?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(R)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&R?ae.mousemove||($.addEventListener("mousemove",Re.mousemove),ae.mousemove=Re.mousemove):($.removeEventListener("mousemove",ae.mousemove),ae.mousemove=null),16&R?ae.wheel||($.addEventListener("wheel",Re.wheel,{passive:!1}),ae.wheel=Re.wheel):($.removeEventListener("wheel",ae.wheel),ae.wheel=null),2&R?ae.mouseup||(ae.mouseup=Re.mouseup):(this._document.removeEventListener("mouseup",ae.mouseup),ae.mouseup=null),4&R?ae.mousedrag||(ae.mousedrag=Re.mousedrag):(this._document.removeEventListener("mousemove",ae.mousedrag),ae.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,a.addDisposableDomListener)($,"mousedown",R=>{if(R.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(R))return te(R),ae.mouseup&&this._document.addEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.addEventListener("mousemove",ae.mousedrag),this.cancel(R)})),this.register((0,a.addDisposableDomListener)($,"wheel",R=>{if(!ae.wheel){if(!this.buffer.hasScrollback){const F=this.viewport.getLinesScrolled(R);if(F===0)return;const z=f.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(R.deltaY<0?"A":"B");let X="";for(let Y=0;Y<Math.abs(F);Y++)X+=z;return this.coreService.triggerDataEvent(X,!0),this.cancel(R,!0)}return this.viewport.handleWheel(R)?this.cancel(R):void 0}},{passive:!1})),this.register((0,a.addDisposableDomListener)($,"touchstart",R=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(R),this.cancel(R)},{passive:!0})),this.register((0,a.addDisposableDomListener)($,"touchmove",R=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(R)?void 0:this.cancel(R)},{passive:!1}))}refresh(B,$){var te;(te=this._renderService)===null||te===void 0||te.refreshRows(B,$)}updateCursorStyle(B){var $;!(($=this._selectionService)===null||$===void 0)&&$.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,$,te=0){super.scrollLines(B,$,te),this.refresh(0,this.rows-1)}paste(B){(0,p.paste)(B,this.textarea,this.coreService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const $=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),$}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,$,te){this._selectionService.setSelection(B,$,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,$){var te;(te=this._selectionService)===null||te===void 0||te.selectLines(B,$)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const $=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!$&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;$||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,m.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),te.type===3||te.type===2){const ae=this.rows-1;return this.scrollLines(te.type===2?-ae:ae),this.cancel(B,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(te.cancel&&this.cancel(B,!0),!te.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==f.C0.ETX&&te.key!==f.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,$){const te=B.isMac&&!this.options.macOptionIsMeta&&$.altKey&&!$.ctrlKey&&!$.metaKey||B.isWindows&&$.altKey&&$.ctrlKey&&!$.metaKey||B.isWindows&&$.getModifierState("AltGraph");return $.type==="keypress"?te:te&&(!$.keyCode||$.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function($){return $.keyCode===16||$.keyCode===17||$.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let $;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)$=B.charCode;else if(B.which===null||B.which===void 0)$=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;$=B.which}return!(!$||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||($=String.fromCharCode($),this._onKey.fire({key:$,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent($,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const $=B.data;return this.coreService.triggerDataEvent($,!0),this.cancel(B),!0}return!1}resize(B,$){B!==this.cols||$!==this.rows?super.resize(B,$):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,$){var te,ae;(te=this._charSizeService)===null||te===void 0||te.measure(),(ae=this.viewport)===null||ae===void 0||ae.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let B=1;B<this.rows;B++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var B,$;this.options.rows=this.rows,this.options.cols=this.cols;const te=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),this._customKeyEventHandler=te,this.refresh(0,this.rows-1),($=this.viewport)===null||$===void 0||$.syncScrollArea()}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(f.C0.ESC+"[I"):this.coreService.triggerDataEvent(f.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case S.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const $=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${f.C0.ESC}[4;${te};${$}t`);break;case S.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ae=this._renderService.dimensions.css.cell.width.toFixed(0),Re=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${f.C0.ESC}[6;${Re};${ae}t`)}}cancel(B,$){if(this.options.cancelEvents||$)return B.preventDefault(),B.stopPropagation(),!1}}r.Terminal=oe},9924:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeBasedDebouncer=void 0,r.TimeBasedDebouncer=class{constructor(l,h=1e3){this._renderCallback=l,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,h,u){this._rowCount=u,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const f=p-this._lastRefreshMs,S=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},S)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h)}}},1680:function(c,r,l){var h=this&&this.__decorate||function(a,g,v,d){var m,w=arguments.length,C=w<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,g,v,d);else for(var T=a.length-1;T>=0;T--)(m=a[T])&&(C=(w<3?m(C):w>3?m(g,v,C):m(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},u=this&&this.__param||function(a,g){return function(v,d){g(v,d,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Viewport=void 0;const p=l(844),f=l(3656),S=l(4725),b=l(2585);let _=class extends p.Disposable{constructor(a,g,v,d,m,w,C,T,y){super(),this._scrollLines=a,this._viewportElement=g,this._scrollArea=v,this._bufferService=d,this._optionsService=m,this._charSizeService=w,this._renderService=C,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(y.colors),this.register(y.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(a){this._viewportElement.style.backgroundColor=a.background.css}_refresh(a){if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const a=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==a&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=a),this._refreshAnimationFrame=null}syncScrollArea(a=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(a)}_handleScroll(a){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(g)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const a=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(a*(this._smoothScrollState.target-this._smoothScrollState.origin)),a<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(a,g){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&v<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)}handleWheel(a){const g=this._getPixelsScrolled(a);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(a,g))}_getPixelsScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let g=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getLinesScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let g=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(a,g){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&g.altKey||v==="ctrl"&&g.ctrlKey||v==="shift"&&g.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(a){this._lastTouchY=a.touches[0].pageY}handleTouchMove(a){const g=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(a,g))}};_=h([u(3,b.IBufferService),u(4,b.IOptionsService),u(5,S.ICharSizeService),u(6,S.IRenderService),u(7,S.ICoreBrowserService),u(8,S.IThemeService)],_),r.Viewport=_},3107:function(c,r,l){var h=this&&this.__decorate||function(a,g,v,d){var m,w=arguments.length,C=w<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,g,v,d);else for(var T=a.length-1;T>=0;T--)(m=a[T])&&(C=(w<3?m(C):w>3?m(g,v,C):m(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},u=this&&this.__param||function(a,g){return function(v,d){g(v,d,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferDecorationRenderer=void 0;const p=l(3656),f=l(4725),S=l(844),b=l(2585);let _=class extends S.Disposable{constructor(a,g,v,d){super(),this._screenElement=a,this._bufferService=g,this._decorationService=v,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,S.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var g;const v=document.createElement("div");v.classList.add("xterm-decoration"),v.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=(g=a.options.x)!==null&&g!==void 0?g:0;return d&&d>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(a,v),v}_refreshStyle(a){const g=a.marker.line-this._bufferService.buffers.active.ydisp;if(g<0||g>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let v=this._decorationElements.get(a);v||(v=this._createElement(a),a.element=v,this._decorationElements.set(a,v),this._container.appendChild(v)),v.style.top=g*this._renderService.dimensions.css.cell.height+"px",v.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(v)}}_refreshXPosition(a,g=a.element){var v;if(!g)return;const d=(v=a.options.x)!==null&&v!==void 0?v:0;(a.options.anchor||"left")==="right"?g.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":g.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var g;(g=this._decorationElements.get(a))===null||g===void 0||g.remove(),this._decorationElements.delete(a),a.dispose()}};_=h([u(1,b.IBufferService),u(2,b.IDecorationService),u(3,f.IRenderService)],_),r.BufferDecorationRenderer=_},5871:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorZoneStore=void 0,r.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const h of this._zones)if(h.color===l.options.overviewRulerOptions.color&&h.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,l.marker.line))return;if(this._lineAdjacentToZone(h,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(h,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,h){return h>=l.startBufferLine&&h<=l.endBufferLine}_lineAdjacentToZone(l,h,u){return h>=l.startBufferLine-this._linePadding[u||"full"]&&h<=l.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(l,h){l.startBufferLine=Math.min(l.startBufferLine,h),l.endBufferLine=Math.max(l.endBufferLine,h)}}},5744:function(c,r,l){var h=this&&this.__decorate||function(m,w,C,T){var y,E=arguments.length,x=E<3?w:T===null?T=Object.getOwnPropertyDescriptor(w,C):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(m,w,C,T);else for(var O=m.length-1;O>=0;O--)(y=m[O])&&(x=(E<3?y(x):E>3?y(w,C,x):y(w,C))||x);return E>3&&x&&Object.defineProperty(w,C,x),x},u=this&&this.__param||function(m,w){return function(C,T){w(C,T,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OverviewRulerRenderer=void 0;const p=l(5871),f=l(3656),S=l(4725),b=l(844),_=l(2585),a={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0};let d=class extends b.Disposable{constructor(m,w,C,T,y,E,x){var O;super(),this._viewportElement=m,this._screenElement=w,this._bufferService=C,this._decorationService=T,this._renderService=y,this._optionsService=E,this._coreBrowseService=x,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,b.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,f.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);g.full=this._canvas.width,g.left=m,g.center=w,g.right=m,this._refreshDrawHeightConstants(),v.full=0,v.left=0,v.center=g.left,v.right=g.left+g.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);a.left=w,a.center=w,a.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const w of m)w.position!=="full"&&this._renderColorZone(w);for(const w of m)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(v[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-a[m.position||"full"]/2),g[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[m.position||"full"]))}_queueRefresh(m,w){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};d=h([u(2,_.IBufferService),u(3,_.IDecorationService),u(4,S.IRenderService),u(5,_.IOptionsService),u(6,S.ICoreBrowserService)],d),r.OverviewRulerRenderer=d},2950:function(c,r,l){var h=this&&this.__decorate||function(_,a,g,v){var d,m=arguments.length,w=m<3?a:v===null?v=Object.getOwnPropertyDescriptor(a,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,a,g,v);else for(var C=_.length-1;C>=0;C--)(d=_[C])&&(w=(m<3?d(w):m>3?d(a,g,w):d(a,g))||w);return m>3&&w&&Object.defineProperty(a,g,w),w},u=this&&this.__param||function(_,a){return function(g,v){a(g,v,_)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CompositionHelper=void 0;const p=l(4725),f=l(2585),S=l(2584);let b=class{constructor(_,a,g,v,d,m){this._textarea=_,this._compositionView=a,this._bufferService=g,this._optionsService=v,this._coreService=d,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let g;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,g=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),g.length>0&&this._coreService.triggerDataEvent(g,!0)}},0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const a=this._textarea.value,g=a.replace(_,"");this._dataAlreadySent=g,a.length>_.length?this._coreService.triggerDataEvent(g,!0):a.length<_.length?this._coreService.triggerDataEvent(`${S.C0.DEL}`,!0):a.length===_.length&&a!==_&&this._coreService.triggerDataEvent(a,!0)}},0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),g=this._renderService.dimensions.css.cell.height,v=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=v+"px",this._compositionView.style.height=g+"px",this._compositionView.style.lineHeight=g+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=v+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}_||setTimeout(()=>this.updateCompositionElements(!0),0)}}};b=h([u(2,f.IBufferService),u(3,f.IOptionsService),u(4,f.ICoreService),u(5,p.IRenderService)],b),r.CompositionHelper=b},9806:(c,r)=>{function l(h,u,p){const f=p.getBoundingClientRect(),S=h.getComputedStyle(p),b=parseInt(S.getPropertyValue("padding-left")),_=parseInt(S.getPropertyValue("padding-top"));return[u.clientX-f.left-b,u.clientY-f.top-_]}Object.defineProperty(r,"__esModule",{value:!0}),r.getCoords=r.getCoordsRelativeToElement=void 0,r.getCoordsRelativeToElement=l,r.getCoords=function(h,u,p,f,S,b,_,a,g){if(!b)return;const v=l(h,u,p);return v?(v[0]=Math.ceil((v[0]+(g?_/2:0))/_),v[1]=Math.ceil(v[1]/a),v[0]=Math.min(Math.max(v[0],1),f+(g?1:0)),v[1]=Math.min(Math.max(v[1],1),S),v):void 0}},9504:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.moveToCellSequence=void 0;const h=l(2584);function u(a,g,v,d){const m=a-p(a,v),w=g-p(g,v),C=Math.abs(m-w)-function(T,y,E){let x=0;const O=T-p(T,E),P=y-p(y,E);for(let I=0;I<Math.abs(O-P);I++){const G=f(T,y)==="A"?-1:1,re=E.buffer.lines.get(O+G*I);re!=null&&re.isWrapped&&x++}return x}(a,g,v);return _(C,b(f(a,g),d))}function p(a,g){let v=0,d=g.buffer.lines.get(a),m=d==null?void 0:d.isWrapped;for(;m&&a>=0&&a<g.rows;)v++,d=g.buffer.lines.get(--a),m=d==null?void 0:d.isWrapped;return v}function f(a,g){return a>g?"A":"B"}function S(a,g,v,d,m,w){let C=a,T=g,y="";for(;C!==v||T!==d;)C+=m?1:-1,m&&C>w.cols-1?(y+=w.buffer.translateBufferLineToString(T,!1,a,C),C=0,a=0,T++):!m&&C<0&&(y+=w.buffer.translateBufferLineToString(T,!1,0,a+1),C=w.cols-1,a=C,T--);return y+w.buffer.translateBufferLineToString(T,!1,a,C)}function b(a,g){const v=g?"O":"[";return h.C0.ESC+v+a}function _(a,g){a=Math.floor(a);let v="";for(let d=0;d<a;d++)v+=g;return v}r.moveToCellSequence=function(a,g,v,d){const m=v.buffer.x,w=v.buffer.y;if(!v.buffer.hasScrollback)return function(y,E,x,O,P,I){return u(E,O,P,I).length===0?"":_(S(y,E,y,E-p(E,P),!1,P).length,b("D",I))}(m,w,0,g,v,d)+u(w,g,v,d)+function(y,E,x,O,P,I){let G;G=u(E,O,P,I).length>0?O-p(O,P):E;const re=O,ie=function(k,D,L,M,K,ee){let me;return me=u(L,M,K,ee).length>0?M-p(M,K):D,k<L&&me<=M||k>=L&&me<M?"C":"D"}(y,E,x,O,P,I);return _(S(y,G,x,re,ie==="C",P).length,b(ie,I))}(m,w,a,g,v,d);let C;if(w===g)return C=m>a?"D":"C",_(Math.abs(m-a),b(C,d));C=w>g?"D":"C";const T=Math.abs(w-g);return _(function(y,E){return E.cols-y}(w>g?a:m,v)+(T-1)*v.cols+1+((w>g?m:a)-1),b(C,d))}},1296:function(c,r,l){var h=this&&this.__decorate||function(y,E,x,O){var P,I=arguments.length,G=I<3?E:O===null?O=Object.getOwnPropertyDescriptor(E,x):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(y,E,x,O);else for(var re=y.length-1;re>=0;re--)(P=y[re])&&(G=(I<3?P(G):I>3?P(E,x,G):P(E,x))||G);return I>3&&G&&Object.defineProperty(E,x,G),G},u=this&&this.__param||function(y,E){return function(x,O){E(x,O,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRenderer=void 0;const p=l(9631),f=l(3787),S=l(2223),b=l(6171),_=l(4725),a=l(8055),g=l(8460),v=l(844),d=l(2585),m="xterm-dom-renderer-owner-",w="xterm-focus";let C=1,T=class extends v.Disposable{constructor(y,E,x,O,P,I,G,re,ie,k){super(),this._element=y,this._screenElement=E,this._viewportElement=x,this._linkifier2=O,this._charSizeService=I,this._optionsService=G,this._bufferService=re,this._coreBrowserService=ie,this._terminalClass=C++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,b.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(k.onChangeColors(D=>this._injectCss(D))),this._injectCss(k.colors),this._rowFactory=P.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(m+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(D=>this._handleLinkHover(D))),this.register(this._linkifier2.onHideLinkUnderline(D=>this._handleLinkLeave(D))),this.register((0,v.toDisposable)(()=>{this._element.classList.remove(m+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const y=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*y,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*y),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/y),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/y),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const x of this._rowElements)x.style.width=`${this.dimensions.css.canvas.width}px`,x.style.height=`${this.dimensions.css.cell.height}px`,x.style.lineHeight=`${this.dimensions.css.cell.height}px`,x.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const E=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=E,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(y){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let E=`${this._terminalSelector} .xterm-rows { color: ${y.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;E+=`${this._terminalSelector} span:not(.${f.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${f.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${f.ITALIC_CLASS} { font-style: italic;}`,E+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",E+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${y.cursor.css};  color: ${y.cursorAccent.css}; } 50% {  background-color: ${y.cursorAccent.css};  color: ${y.cursor.css}; }}`,E+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${y.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}:not(.${f.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${y.cursor.css}; color: ${y.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${y.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${y.cursor.css} inset;}`,E+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${y.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${y.selectionInactiveBackgroundOpaque.css};}`;for(const[x,O]of y.ansi.entries())E+=`${this._terminalSelector} .xterm-fg-${x} { color: ${O.css}; }${this._terminalSelector} .xterm-bg-${x} { background-color: ${O.css}; }`;E+=`${this._terminalSelector} .xterm-fg-${S.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(y.background).css}; }${this._terminalSelector} .xterm-bg-${S.INVERTED_DEFAULT_COLOR} { background-color: ${y.foreground.css}; }`,this._themeStyleElement.textContent=E}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(y,E){for(let x=this._rowElements.length;x<=E;x++){const O=document.createElement("div");this._rowContainer.appendChild(O),this._rowElements.push(O)}for(;this._rowElements.length>E;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(y,E){this._refreshRowElements(y,E),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(w)}handleFocus(){this._rowContainer.classList.add(w)}handleSelectionChanged(y,E,x){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(y,E,x),this.renderRows(0,this._bufferService.rows-1),!y||!E)return;const O=y[1]-this._bufferService.buffer.ydisp,P=E[1]-this._bufferService.buffer.ydisp,I=Math.max(O,0),G=Math.min(P,this._bufferService.rows-1);if(I>=this._bufferService.rows||G<0)return;const re=document.createDocumentFragment();if(x){const ie=y[0]>E[0];re.appendChild(this._createSelectionElement(I,ie?E[0]:y[0],ie?y[0]:E[0],G-I+1))}else{const ie=O===I?y[0]:0,k=I===P?E[0]:this._bufferService.cols;re.appendChild(this._createSelectionElement(I,ie,k));const D=G-I-1;if(re.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,D)),I!==G){const L=P===G?E[0]:this._bufferService.cols;re.appendChild(this._createSelectionElement(G,0,L))}}this._selectionContainer.appendChild(re)}_createSelectionElement(y,E,x,O=1){const P=document.createElement("div");return P.style.height=O*this.dimensions.css.cell.height+"px",P.style.top=y*this.dimensions.css.cell.height+"px",P.style.left=E*this.dimensions.css.cell.width+"px",P.style.width=this.dimensions.css.cell.width*(x-E)+"px",P}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const y of this._rowElements)y.replaceChildren()}renderRows(y,E){const x=this._bufferService.buffer.ybase+this._bufferService.buffer.y,O=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink;for(let I=y;I<=E;I++){const G=this._rowElements[I],re=I+this._bufferService.buffer.ydisp,ie=this._bufferService.buffer.lines.get(re),k=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[I]&&this._cellToRowElements[I].length===this._bufferService.cols||(this._cellToRowElements[I]=new Int16Array(this._bufferService.cols)),G.replaceChildren(this._rowFactory.createRow(ie,re,re===x,k,O,P,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[I]))}}get _terminalSelector(){return`.${m}${this._terminalClass}`}_handleLinkHover(y){this._setCellUnderline(y.x1,y.x2,y.y1,y.y2,y.cols,!0)}_handleLinkLeave(y){this._setCellUnderline(y.x1,y.x2,y.y1,y.y2,y.cols,!1)}_setCellUnderline(y,E,x,O,P,I){if(y=this._cellToRowElements[x][y],E=this._cellToRowElements[O][E],y!==-1&&E!==-1)for(;y!==E||x!==O;){const G=this._rowElements[x];if(!G)return;const re=G.children[y];re&&(re.style.textDecoration=I?"underline":"none"),++y>=P&&(y=0,x++)}}};T=h([u(4,d.IInstantiationService),u(5,_.ICharSizeService),u(6,d.IOptionsService),u(7,d.IBufferService),u(8,_.ICoreBrowserService),u(9,_.IThemeService)],T),r.DomRenderer=T},3787:function(c,r,l){var h=this&&this.__decorate||function(C,T,y,E){var x,O=arguments.length,P=O<3?T:E===null?E=Object.getOwnPropertyDescriptor(T,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(C,T,y,E);else for(var I=C.length-1;I>=0;I--)(x=C[I])&&(P=(O<3?x(P):O>3?x(T,y,P):x(T,y))||P);return O>3&&P&&Object.defineProperty(T,y,P),P},u=this&&this.__param||function(C,T){return function(y,E){T(y,E,C)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRendererRowFactory=r.CURSOR_STYLE_UNDERLINE_CLASS=r.CURSOR_STYLE_BAR_CLASS=r.CURSOR_STYLE_BLOCK_CLASS=r.CURSOR_BLINK_CLASS=r.CURSOR_CLASS=r.STRIKETHROUGH_CLASS=r.UNDERLINE_CLASS=r.ITALIC_CLASS=r.DIM_CLASS=r.BOLD_CLASS=void 0;const p=l(2223),f=l(643),S=l(511),b=l(2585),_=l(8055),a=l(4725),g=l(4269),v=l(6171),d=l(3734);r.BOLD_CLASS="xterm-bold",r.DIM_CLASS="xterm-dim",r.ITALIC_CLASS="xterm-italic",r.UNDERLINE_CLASS="xterm-underline",r.STRIKETHROUGH_CLASS="xterm-strikethrough",r.CURSOR_CLASS="xterm-cursor",r.CURSOR_BLINK_CLASS="xterm-cursor-blink",r.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",r.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",r.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let m=class{constructor(C,T,y,E,x,O,P){this._document=C,this._characterJoinerService=T,this._optionsService=y,this._coreBrowserService=E,this._coreService=x,this._decorationService=O,this._themeService=P,this._workCell=new S.CellData,this._columnSelectMode=!1}handleSelectionChanged(C,T,y){this._selectionStart=C,this._selectionEnd=T,this._columnSelectMode=y}createRow(C,T,y,E,x,O,P,I,G){const re=this._document.createDocumentFragment(),ie=this._characterJoinerService.getJoinedCharacters(T);let k=0;for(let K=Math.min(C.length,I)-1;K>=0;K--)if(C.loadCell(K,this._workCell).getCode()!==f.NULL_CELL_CODE||y&&K===x){k=K+1;break}const D=this._themeService.colors;let L=-1,M=0;for(;M<k;M++){C.loadCell(M,this._workCell);let K=this._workCell.getWidth();if(K===0){G[M]=L;continue}let ee=!1,me=M,ne=this._workCell;if(ie.length>0&&M===ie[0][0]){ee=!0;const Y=ie.shift();ne=new g.JoinedCellData(this._workCell,C.translateToString(!0,Y[0],Y[1]),Y[1]-Y[0]),me=Y[1]-1,K=ne.getWidth()}const oe=this._document.createElement("span");if(K>1&&(oe.style.width=P*K+"px"),ee&&(oe.style.display="inline",x>=M&&x<=me&&(x=M)),!this._coreService.isCursorHidden&&y&&M===x)switch(oe.classList.add(r.CURSOR_CLASS),O&&oe.classList.add(r.CURSOR_BLINK_CLASS),E){case"bar":oe.classList.add(r.CURSOR_STYLE_BAR_CLASS);break;case"underline":oe.classList.add(r.CURSOR_STYLE_UNDERLINE_CLASS);break;default:oe.classList.add(r.CURSOR_STYLE_BLOCK_CLASS)}if(ne.isBold()&&oe.classList.add(r.BOLD_CLASS),ne.isItalic()&&oe.classList.add(r.ITALIC_CLASS),ne.isDim()&&oe.classList.add(r.DIM_CLASS),ne.isInvisible()?oe.textContent=f.WHITESPACE_CELL_CHAR:oe.textContent=ne.getChars()||f.WHITESPACE_CELL_CHAR,ne.isUnderline()&&(oe.classList.add(`${r.UNDERLINE_CLASS}-${ne.extended.underlineStyle}`),oe.textContent===" "&&(oe.textContent="\xA0"),!ne.isUnderlineColorDefault()))if(ne.isUnderlineColorRGB())oe.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(ne.getUnderlineColor()).join(",")})`;else{let Y=ne.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ne.isBold()&&Y<8&&(Y+=8),oe.style.textDecorationColor=D.ansi[Y].css}ne.isStrikethrough()&&oe.classList.add(r.STRIKETHROUGH_CLASS);let N=ne.getFgColor(),B=ne.getFgColorMode(),$=ne.getBgColor(),te=ne.getBgColorMode();const ae=!!ne.isInverse();if(ae){const Y=N;N=$,$=Y;const le=B;B=te,te=le}let Re,R,F=!1;this._decorationService.forEachDecorationAtCell(M,T,void 0,Y=>{Y.options.layer!=="top"&&F||(Y.backgroundColorRGB&&(te=50331648,$=Y.backgroundColorRGB.rgba>>8&16777215,Re=Y.backgroundColorRGB),Y.foregroundColorRGB&&(B=50331648,N=Y.foregroundColorRGB.rgba>>8&16777215,R=Y.foregroundColorRGB),F=Y.options.layer==="top")});const z=this._isCellInSelection(M,T);let X;switch(F||D.selectionForeground&&z&&(B=50331648,N=D.selectionForeground.rgba>>8&16777215,R=D.selectionForeground),z&&(Re=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,F=!0),F&&oe.classList.add("xterm-decoration-top"),te){case 16777216:case 33554432:X=D.ansi[$],oe.classList.add(`xterm-bg-${$}`);break;case 50331648:X=_.rgba.toColor($>>16,$>>8&255,255&$),this._addStyle(oe,`background-color:#${w(($>>>0).toString(16),"0",6)}`);break;default:ae?(X=D.foreground,oe.classList.add(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):X=D.background}switch(Re||ne.isDim()&&(Re=_.color.multiplyOpacity(X,.5)),B){case 16777216:case 33554432:ne.isBold()&&N<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(N+=8),this._applyMinimumContrast(oe,X,D.ansi[N],ne,Re,void 0)||oe.classList.add(`xterm-fg-${N}`);break;case 50331648:const Y=_.rgba.toColor(N>>16&255,N>>8&255,255&N);this._applyMinimumContrast(oe,X,Y,ne,Re,R)||this._addStyle(oe,`color:#${w(N.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(oe,X,D.foreground,ne,Re,void 0)||ae&&oe.classList.add(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}re.appendChild(oe),G[M]=++L,M=me}return M<I-1&&G.subarray(M).fill(++L),re}_applyMinimumContrast(C,T,y,E,x,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,v.excludeFromContrastRatioDemands)(E.getCode()))return!1;let P;return x||O||(P=this._themeService.colors.contrastCache.getColor(T.rgba,y.rgba)),P===void 0&&(P=_.color.ensureContrastRatio(x||T,O||y,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((x||T).rgba,(O||y).rgba,P!=null?P:null)),!!P&&(this._addStyle(C,`color:${P.css}`),!0)}_addStyle(C,T){C.setAttribute("style",`${C.getAttribute("style")||""}${T};`)}_isCellInSelection(C,T){const y=this._selectionStart,E=this._selectionEnd;return!(!y||!E)&&(this._columnSelectMode?y[0]<=E[0]?C>=y[0]&&T>=y[1]&&C<E[0]&&T<=E[1]:C<y[0]&&T>=y[1]&&C>=E[0]&&T<=E[1]:T>y[1]&&T<E[1]||y[1]===E[1]&&T===y[1]&&C>=y[0]&&C<E[0]||y[1]<E[1]&&T===E[1]&&C<E[0]||y[1]<E[1]&&T===y[1]&&C>=y[0])}};function w(C,T,y){for(;C.length<y;)C=T+C;return C}m=h([u(1,a.ICharacterJoinerService),u(2,b.IOptionsService),u(3,a.ICoreBrowserService),u(4,b.ICoreService),u(5,b.IDecorationService),u(6,a.IThemeService)],m),r.DomRendererRowFactory=m},2223:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TEXT_BASELINE=r.DIM_OPACITY=r.INVERTED_DEFAULT_COLOR=void 0;const h=l(6114);r.INVERTED_DEFAULT_COLOR=257,r.DIM_OPACITY=.5,r.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(c,r)=>{function l(h){return 57508<=h&&h<=57558}Object.defineProperty(r,"__esModule",{value:!0}),r.createRenderDimensions=r.excludeFromContrastRatioDemands=r.isRestrictedPowerlineGlyph=r.isPowerlineGlyph=r.throwIfFalsy=void 0,r.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},r.isPowerlineGlyph=l,r.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},r.excludeFromContrastRatioDemands=function(h){return l(h)||function(u){return 9472<=u&&u<=9631}(h)},r.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0,r.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,h=this.selectionEnd;return!(!l||!h)&&(l[1]>h[1]||l[1]===h[1]&&l[0]>h[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(c,r,l){var h=this&&this.__decorate||function(a,g,v,d){var m,w=arguments.length,C=w<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,g,v,d);else for(var T=a.length-1;T>=0;T--)(m=a[T])&&(C=(w<3?m(C):w>3?m(g,v,C):m(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},u=this&&this.__param||function(a,g){return function(v,d){g(v,d,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharSizeService=void 0;const p=l(2585),f=l(8460),S=l(844);let b=class extends S.Disposable{constructor(a,g,v){super(),this._optionsService=v,this.width=0,this.height=0,this._onCharSizeChange=this.register(new f.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new _(a,g,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};b=h([u(2,p.IOptionsService)],b),r.CharSizeService=b;class _{constructor(g,v,d){this._document=g,this._parentElement=v,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const g=this._measureElement.getBoundingClientRect();return g.width!==0&&g.height!==0&&(this._result.width=g.width,this._result.height=Math.ceil(g.height)),this._result}}},4269:function(c,r,l){var h=this&&this.__decorate||function(g,v,d,m){var w,C=arguments.length,T=C<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(g,v,d,m);else for(var y=g.length-1;y>=0;y--)(w=g[y])&&(T=(C<3?w(T):C>3?w(v,d,T):w(v,d))||T);return C>3&&T&&Object.defineProperty(v,d,T),T},u=this&&this.__param||function(g,v){return function(d,m){v(d,m,g)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterJoinerService=r.JoinedCellData=void 0;const p=l(3734),f=l(643),S=l(511),b=l(2585);class _ extends p.AttributeData{constructor(v,d,m){super(),this.content=0,this.combinedData="",this.fg=v.fg,this.bg=v.bg,this.combinedData=d,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(v){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}r.JoinedCellData=_;let a=class Rc{constructor(v){this._bufferService=v,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new S.CellData}register(v){const d={id:this._nextCharacterJoinerId++,handler:v};return this._characterJoiners.push(d),d.id}deregister(v){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===v)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(v){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(v);if(!d||d.length===0)return[];const m=[],w=d.translateToString(!0);let C=0,T=0,y=0,E=d.getFg(0),x=d.getBg(0);for(let O=0;O<d.getTrimmedLength();O++)if(d.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==x){if(O-C>1){const P=this._getJoinedRanges(w,y,T,d,C);for(let I=0;I<P.length;I++)m.push(P[I])}C=O,y=T,E=this._workCell.fg,x=this._workCell.bg}T+=this._workCell.getChars().length||f.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const O=this._getJoinedRanges(w,y,T,d,C);for(let P=0;P<O.length;P++)m.push(O[P])}return m}_getJoinedRanges(v,d,m,w,C){const T=v.substring(d,m);let y=[];try{y=this._characterJoiners[0].handler(T)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const x=this._characterJoiners[E].handler(T);for(let O=0;O<x.length;O++)Rc._mergeRanges(y,x[O])}catch(x){console.error(x)}return this._stringRangesToCellRanges(y,w,C),y}_stringRangesToCellRanges(v,d,m){let w=0,C=!1,T=0,y=v[w];if(y){for(let E=m;E<this._bufferService.cols;E++){const x=d.getWidth(E),O=d.getString(E).length||f.WHITESPACE_CELL_CHAR.length;if(x!==0){if(!C&&y[0]<=T&&(y[0]=E,C=!0),y[1]<=T){if(y[1]=E,y=v[++w],!y)break;y[0]<=T?(y[0]=E,C=!0):C=!1}T+=O}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(v,d){let m=!1;for(let w=0;w<v.length;w++){const C=v[w];if(m){if(d[1]<=C[0])return v[w-1][1]=d[1],v;if(d[1]<=C[1])return v[w-1][1]=Math.max(d[1],C[1]),v.splice(w,1),v;v.splice(w,1),w--}else{if(d[1]<=C[0])return v.splice(w,0,d),v;if(d[1]<=C[1])return C[0]=Math.min(d[0],C[0]),v;d[0]<C[1]&&(C[0]=Math.min(d[0],C[0]),m=!0)}}return m?v[v.length-1][1]=d[1]:v.push(d),v}};a=h([u(0,b.IBufferService)],a),r.CharacterJoinerService=a},5114:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreBrowserService=void 0,r.CoreBrowserService=class{constructor(l,h){this._textarea=l,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(c,r,l){var h=this&&this.__decorate||function(b,_,a,g){var v,d=arguments.length,m=d<3?_:g===null?g=Object.getOwnPropertyDescriptor(_,a):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(b,_,a,g);else for(var w=b.length-1;w>=0;w--)(v=b[w])&&(m=(d<3?v(m):d>3?v(_,a,m):v(_,a))||m);return d>3&&m&&Object.defineProperty(_,a,m),m},u=this&&this.__param||function(b,_){return function(a,g){_(a,g,b)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseService=void 0;const p=l(4725),f=l(9806);let S=class{constructor(b,_){this._renderService=b,this._charSizeService=_}getCoords(b,_,a,g,v){return(0,f.getCoords)(window,b,_,a,g,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,v)}getMouseReportCoords(b,_){const a=(0,f.getCoordsRelativeToElement)(window,b,_);if(!(!this._charSizeService.hasValidSize||a[0]<0||a[1]<0||a[0]>=this._renderService.dimensions.css.canvas.width||a[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};S=h([u(0,p.IRenderService),u(1,p.ICharSizeService)],S),r.MouseService=S},3230:function(c,r,l){var h=this&&this.__decorate||function(m,w,C,T){var y,E=arguments.length,x=E<3?w:T===null?T=Object.getOwnPropertyDescriptor(w,C):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(m,w,C,T);else for(var O=m.length-1;O>=0;O--)(y=m[O])&&(x=(E<3?y(x):E>3?y(w,C,x):y(w,C))||x);return E>3&&x&&Object.defineProperty(w,C,x),x},u=this&&this.__param||function(m,w){return function(C,T){w(C,T,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.RenderService=void 0;const p=l(6193),f=l(8460),S=l(844),b=l(5596),_=l(3656),a=l(2585),g=l(4725),v=l(7226);let d=class extends S.Disposable{constructor(m,w,C,T,y,E,x,O){if(super(),this._rowCount=m,this._charSizeService=T,this._pausedResizeTask=new v.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new f.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new f.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new f.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new f.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var P;return(P=this._renderer)===null||P===void 0?void 0:P.dispose()}}),this._renderDebouncer=new p.RenderDebouncer(x.window,(P,I)=>this._renderRows(P,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new b.ScreenDprMonitor(x.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var P;return(P=this._renderer)===null||P===void 0?void 0:P.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(y.onDecorationRegistered(()=>this._fullRefresh())),this.register(y.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,_.addDisposableDomListener)(x.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in x.window){const P=new x.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});P.observe(w),this.register({dispose:()=>P.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(m){this._isPaused=m.isIntersecting===void 0?m.intersectionRatio===0:!m.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(m,w,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(m,w,this._rowCount))}_renderRows(m,w){this._renderer&&(this._renderer.renderRows(m,w),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:m,end:w}),this._onRender.fire({start:m,end:w}),this._isNextRenderRedrawOnly=!0)}resize(m,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(m){var w;(w=this._renderer)===null||w===void 0||w.dispose(),this._renderer=m,this._renderer.onRequestRedraw(C=>this.refreshRows(C.start,C.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(m){return this._renderDebouncer.addRefreshCallback(m)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var m,w;this._renderer&&((w=(m=this._renderer).clearTextureAtlas)===null||w===void 0||w.call(m),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(m,w){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(m,w)):this._renderer.handleResize(m,w),this._fullRefresh())}handleCharSizeChanged(){var m;(m=this._renderer)===null||m===void 0||m.handleCharSizeChanged()}handleBlur(){var m;(m=this._renderer)===null||m===void 0||m.handleBlur()}handleFocus(){var m;(m=this._renderer)===null||m===void 0||m.handleFocus()}handleSelectionChanged(m,w,C){var T;this._selectionState.start=m,this._selectionState.end=w,this._selectionState.columnSelectMode=C,(T=this._renderer)===null||T===void 0||T.handleSelectionChanged(m,w,C)}handleCursorMove(){var m;(m=this._renderer)===null||m===void 0||m.handleCursorMove()}clear(){var m;(m=this._renderer)===null||m===void 0||m.clear()}};d=h([u(2,a.IOptionsService),u(3,g.ICharSizeService),u(4,a.IDecorationService),u(5,a.IBufferService),u(6,g.ICoreBrowserService),u(7,g.IThemeService)],d),r.RenderService=d},9312:function(c,r,l){var h=this&&this.__decorate||function(y,E,x,O){var P,I=arguments.length,G=I<3?E:O===null?O=Object.getOwnPropertyDescriptor(E,x):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(y,E,x,O);else for(var re=y.length-1;re>=0;re--)(P=y[re])&&(G=(I<3?P(G):I>3?P(E,x,G):P(E,x))||G);return I>3&&G&&Object.defineProperty(E,x,G),G},u=this&&this.__param||function(y,E){return function(x,O){E(x,O,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionService=void 0;const p=l(6114),f=l(456),S=l(511),b=l(8460),_=l(4725),a=l(2585),g=l(9806),v=l(9504),d=l(844),m=l(4841),w=String.fromCharCode(160),C=new RegExp(w,"g");let T=class extends d.Disposable{constructor(y,E,x,O,P,I,G,re,ie){super(),this._element=y,this._screenElement=E,this._linkifier=x,this._bufferService=O,this._coreService=P,this._mouseService=I,this._optionsService=G,this._renderService=re,this._coreBrowserService=ie,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new S.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=k=>this._handleMouseMove(k),this._mouseUpListener=k=>this._handleMouseUp(k),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(k=>this._handleTrim(k)),this.register(this._bufferService.buffers.onBufferActivate(k=>this._handleBufferActivate(k))),this.enable(),this._model=new f.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,d.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!y||!E||y[0]===E[0]&&y[1]===E[1])}get selectionText(){const y=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!y||!E)return"";const x=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(y[0]===E[0])return"";const P=y[0]<E[0]?y[0]:E[0],I=y[0]<E[0]?E[0]:y[0];for(let G=y[1];G<=E[1];G++){const re=x.translateBufferLineToString(G,!0,P,I);O.push(re)}}else{const P=y[1]===E[1]?E[0]:void 0;O.push(x.translateBufferLineToString(y[1],!0,y[0],P));for(let I=y[1]+1;I<=E[1]-1;I++){const G=x.lines.get(I),re=x.translateBufferLineToString(I,!0);G!=null&&G.isWrapped?O[O.length-1]+=re:O.push(re)}if(y[1]!==E[1]){const I=x.lines.get(E[1]),G=x.translateBufferLineToString(E[1],!0,0,E[0]);I&&I.isWrapped?O[O.length-1]+=G:O.push(G)}}return O.map(P=>P.replace(C," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(y){const E=this._getMouseBufferCoords(y),x=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(x&&O&&E)&&this._areCoordsInSelection(E,x,O)}isCellInSelection(y,E){const x=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!x||!O)&&this._areCoordsInSelection([y,E],x,O)}_areCoordsInSelection(y,E,x){return y[1]>E[1]&&y[1]<x[1]||E[1]===x[1]&&y[1]===E[1]&&y[0]>=E[0]&&y[0]<x[0]||E[1]<x[1]&&y[1]===x[1]&&y[0]<x[0]||E[1]<x[1]&&y[1]===E[1]&&y[0]>=E[0]}_selectWordAtCursor(y,E){var x,O;const P=(O=(x=this._linkifier.currentLink)===null||x===void 0?void 0:x.link)===null||O===void 0?void 0:O.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,m.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(y);return!!I&&(this._selectWordAt(I,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,E){this._model.clearSelection(),y=Math.max(y,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const E=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(y){let E=(0,g.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const x=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=x?0:(E>x&&(E-=x),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(y){return p.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):y.detail===1?this._handleSingleClick(y):y.detail===2?this._handleDoubleClick(y):y.detail===3&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const E=this._getMouseBufferCoords(y);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(y){return y.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const x=this._bufferService.buffer;if(this._model.selectionEnd[1]<x.lines.length){const O=x.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const E=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const x=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(x&&x[0]!==void 0&&x[1]!==void 0){const O=(0,v.moveToCellSequence)(x[0]-1,x[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,x=!(!y||!E||y[0]===E[0]&&y[1]===E[1]);x?y&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,E,x)):this._oldHasSelection&&this._fireOnSelectionChange(y,E,x)}_fireOnSelectionChange(y,E,x){this._oldSelectionStart=y,this._oldSelectionEnd=E,this._oldHasSelection=x,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(y,E){let x=E;for(let O=0;E>=O;O++){const P=y.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?x--:P>1&&E!==O&&(x+=P-1)}return x}setSelection(y,E,x){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,E],this._model.selectionStartLength=x,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,E,x=!0,O=!0){if(y[0]>=this._bufferService.cols)return;const P=this._bufferService.buffer,I=P.lines.get(y[1]);if(!I)return;const G=P.translateBufferLineToString(y[1],!1);let re=this._convertViewportColToCharacterIndex(I,y[0]),ie=re;const k=y[0]-re;let D=0,L=0,M=0,K=0;if(G.charAt(re)===" "){for(;re>0&&G.charAt(re-1)===" ";)re--;for(;ie<G.length&&G.charAt(ie+1)===" ";)ie++}else{let ne=y[0],oe=y[0];I.getWidth(ne)===0&&(D++,ne--),I.getWidth(oe)===2&&(L++,oe++);const N=I.getString(oe).length;for(N>1&&(K+=N-1,ie+=N-1);ne>0&&re>0&&!this._isCharWordSeparator(I.loadCell(ne-1,this._workCell));){I.loadCell(ne-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(D++,ne--):B>1&&(M+=B-1,re-=B-1),re--,ne--}for(;oe<I.length&&ie+1<G.length&&!this._isCharWordSeparator(I.loadCell(oe+1,this._workCell));){I.loadCell(oe+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,oe++):B>1&&(K+=B-1,ie+=B-1),ie++,oe++}}ie++;let ee=re+k-D+M,me=Math.min(this._bufferService.cols,ie-re+D+L-M-K);if(E||G.slice(re,ie).trim()!==""){if(x&&ee===0&&I.getCodePoint(0)!==32){const ne=P.lines.get(y[1]-1);if(ne&&I.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){const oe=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(oe){const N=this._bufferService.cols-oe.start;ee-=N,me+=N}}}if(O&&ee+me===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const ne=P.lines.get(y[1]+1);if((ne==null?void 0:ne.isWrapped)&&ne.getCodePoint(0)!==32){const oe=this._getWordAt([0,y[1]+1],!1,!1,!0);oe&&(me+=oe.length)}}return{start:ee,length:me}}}_selectWordAt(y,E){const x=this._getWordAt(y,E);if(x){for(;x.start<0;)x.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[x.start,y[1]],this._model.selectionStartLength=x.length}}_selectToWordAt(y){const E=this._getWordAt(y,!0);if(E){let x=y[1];for(;E.start<0;)E.start+=this._bufferService.cols,x--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,x++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,x]}}_isCharWordSeparator(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const E=this._bufferService.buffer.getWrappedRangeForLine(y),x={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,m.getRangeLength)(x,this._bufferService.cols)}};T=h([u(3,a.IBufferService),u(4,a.ICoreService),u(5,_.IMouseService),u(6,a.IOptionsService),u(7,_.IRenderService),u(8,_.ICoreBrowserService)],T),r.SelectionService=T},4725:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IThemeService=r.ICharacterJoinerService=r.ISelectionService=r.IRenderService=r.IMouseService=r.ICoreBrowserService=r.ICharSizeService=void 0;const h=l(8343);r.ICharSizeService=(0,h.createDecorator)("CharSizeService"),r.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),r.IMouseService=(0,h.createDecorator)("MouseService"),r.IRenderService=(0,h.createDecorator)("RenderService"),r.ISelectionService=(0,h.createDecorator)("SelectionService"),r.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),r.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(c,r,l){var h=this&&this.__decorate||function(T,y,E,x){var O,P=arguments.length,I=P<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,E):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(T,y,E,x);else for(var G=T.length-1;G>=0;G--)(O=T[G])&&(I=(P<3?O(I):P>3?O(y,E,I):O(y,E))||I);return P>3&&I&&Object.defineProperty(y,E,I),I},u=this&&this.__param||function(T,y){return function(E,x){y(E,x,T)}};Object.defineProperty(r,"__esModule",{value:!0}),r.ThemeService=r.DEFAULT_ANSI_COLORS=void 0;const p=l(7239),f=l(8055),S=l(8460),b=l(844),_=l(2585),a=f.css.toColor("#ffffff"),g=f.css.toColor("#000000"),v=f.css.toColor("#ffffff"),d=f.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let E=0;E<216;E++){const x=y[E/36%6|0],O=y[E/6%6|0],P=y[E%6];T.push({css:f.channels.toCss(x,O,P),rgba:f.channels.toRgba(x,O,P)})}for(let E=0;E<24;E++){const x=8+10*E;T.push({css:f.channels.toCss(x,x,x),rgba:f.channels.toRgba(x,x,x)})}return T})());let w=class extends b.Disposable{constructor(T){super(),this._optionsService=T,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new p.ColorContrastCache,this._colors={foreground:a,background:g,cursor:v,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:f.color.blend(g,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:f.color.blend(g,m),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(T={}){const y=this._colors;if(y.foreground=C(T.foreground,a),y.background=C(T.background,g),y.cursor=C(T.cursor,v),y.cursorAccent=C(T.cursorAccent,d),y.selectionBackgroundTransparent=C(T.selectionBackground,m),y.selectionBackgroundOpaque=f.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=C(T.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=f.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=T.selectionForeground?C(T.selectionForeground,f.NULL_COLOR):void 0,y.selectionForeground===f.NULL_COLOR&&(y.selectionForeground=void 0),f.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=f.color.opacity(y.selectionBackgroundTransparent,.3)),f.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=f.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=r.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=C(T.black,r.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=C(T.red,r.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=C(T.green,r.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=C(T.yellow,r.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=C(T.blue,r.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=C(T.magenta,r.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=C(T.cyan,r.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=C(T.white,r.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=C(T.brightBlack,r.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=C(T.brightRed,r.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=C(T.brightGreen,r.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=C(T.brightYellow,r.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=C(T.brightBlue,r.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=C(T.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=C(T.brightCyan,r.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=C(T.brightWhite,r.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const E=Math.min(y.ansi.length-16,T.extendedAnsi.length);for(let x=0;x<E;x++)y.ansi[x+16]=C(T.extendedAnsi[x],r.DEFAULT_ANSI_COLORS[x+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(T,y){if(T!==void 0)try{return f.css.toColor(T)}catch{}return y}w=h([u(0,_.IOptionsService)],w),r.ThemeService=w},6349:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CircularList=void 0;const h=l(8460),u=l(844);class p extends u.Disposable{constructor(S){super(),this._maxLength=S,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(S){if(this._maxLength===S)return;const b=new Array(S);for(let _=0;_<Math.min(S,this.length);_++)b[_]=this._array[this._getCyclicIndex(_)];this._array=b,this._maxLength=S,this._startIndex=0}get length(){return this._length}set length(S){if(S>this._length)for(let b=this._length;b<S;b++)this._array[b]=void 0;this._length=S}get(S){return this._array[this._getCyclicIndex(S)]}set(S,b){this._array[this._getCyclicIndex(S)]=b}push(S){this._array[this._getCyclicIndex(this._length)]=S,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(S,b,..._){if(b){for(let a=S;a<this._length-b;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+b)];this._length-=b,this.onDeleteEmitter.fire({index:S,amount:b})}for(let a=this._length-1;a>=S;a--)this._array[this._getCyclicIndex(a+_.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<_.length;a++)this._array[this._getCyclicIndex(S+a)]=_[a];if(_.length&&this.onInsertEmitter.fire({index:S,amount:_.length}),this._length+_.length>this._maxLength){const a=this._length+_.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=_.length}trimStart(S){S>this._length&&(S=this._length),this._startIndex+=S,this._length-=S,this.onTrimEmitter.fire(S)}shiftElements(S,b,_){if(!(b<=0)){if(S<0||S>=this._length)throw new Error("start argument out of range");if(S+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let g=b-1;g>=0;g--)this.set(S+g+_,this.get(S+g));const a=S+b+_-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<b;a++)this.set(S+a+_,this.get(S+a))}}_getCyclicIndex(S){return(this._startIndex+S)%this._maxLength}}r.CircularList=p},1439:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function l(h,u=5){if(typeof h!="object")return h;const p=Array.isArray(h)?[]:{};for(const f in h)p[f]=u<=1?h[f]:h[f]&&l(h[f],u-1);return p}},8055:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.contrastRatio=r.toPaddedHex=r.rgba=r.rgb=r.css=r.color=r.channels=r.NULL_COLOR=void 0;const h=l(6114);let u=0,p=0,f=0,S=0;var b,_,a;function g(d){const m=d.toString(16);return m.length<2?"0"+m:m}function v(d,m){return d<m?(m+.05)/(d+.05):(d+.05)/(m+.05)}r.NULL_COLOR={css:"#00000000",rgba:0},function(d){d.toCss=function(m,w,C,T){return T!==void 0?`#${g(m)}${g(w)}${g(C)}${g(T)}`:`#${g(m)}${g(w)}${g(C)}`},d.toRgba=function(m,w,C,T=255){return(m<<24|w<<16|C<<8|T)>>>0}}(b=r.channels||(r.channels={})),function(d){function m(w,C){return S=Math.round(255*C),[u,p,f]=a.toChannels(w.rgba),{css:b.toCss(u,p,f,S),rgba:b.toRgba(u,p,f,S)}}d.blend=function(w,C){if(S=(255&C.rgba)/255,S===1)return{css:C.css,rgba:C.rgba};const T=C.rgba>>24&255,y=C.rgba>>16&255,E=C.rgba>>8&255,x=w.rgba>>24&255,O=w.rgba>>16&255,P=w.rgba>>8&255;return u=x+Math.round((T-x)*S),p=O+Math.round((y-O)*S),f=P+Math.round((E-P)*S),{css:b.toCss(u,p,f),rgba:b.toRgba(u,p,f)}},d.isOpaque=function(w){return(255&w.rgba)==255},d.ensureContrastRatio=function(w,C,T){const y=a.ensureContrastRatio(w.rgba,C.rgba,T);if(y)return a.toColor(y>>24&255,y>>16&255,y>>8&255)},d.opaque=function(w){const C=(255|w.rgba)>>>0;return[u,p,f]=a.toChannels(C),{css:b.toCss(u,p,f),rgba:C}},d.opacity=m,d.multiplyOpacity=function(w,C){return S=255&w.rgba,m(w,S*C/255)},d.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}}(r.color||(r.color={})),function(d){let m,w;if(!h.isNode){const C=document.createElement("canvas");C.width=1,C.height=1;const T=C.getContext("2d",{willReadFrequently:!0});T&&(m=T,m.globalCompositeOperation="copy",w=m.createLinearGradient(0,0,1,1))}d.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return u=parseInt(C.slice(1,2).repeat(2),16),p=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),a.toColor(u,p,f);case 5:return u=parseInt(C.slice(1,2).repeat(2),16),p=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),S=parseInt(C.slice(4,5).repeat(2),16),a.toColor(u,p,f,S);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const T=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return u=parseInt(T[1]),p=parseInt(T[2]),f=parseInt(T[3]),S=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),a.toColor(u,p,f,S);if(!m||!w)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=w,m.fillStyle=C,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[u,p,f,S]=m.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:b.toRgba(u,p,f,S),css:C}}}(r.css||(r.css={})),function(d){function m(w,C,T){const y=w/255,E=C/255,x=T/255;return .2126*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.7152*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.0722*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))}d.relativeLuminance=function(w){return m(w>>16&255,w>>8&255,255&w)},d.relativeLuminance2=m}(_=r.rgb||(r.rgb={})),function(d){function m(C,T,y){const E=C>>24&255,x=C>>16&255,O=C>>8&255;let P=T>>24&255,I=T>>16&255,G=T>>8&255,re=v(_.relativeLuminance2(P,I,G),_.relativeLuminance2(E,x,O));for(;re<y&&(P>0||I>0||G>0);)P-=Math.max(0,Math.ceil(.1*P)),I-=Math.max(0,Math.ceil(.1*I)),G-=Math.max(0,Math.ceil(.1*G)),re=v(_.relativeLuminance2(P,I,G),_.relativeLuminance2(E,x,O));return(P<<24|I<<16|G<<8|255)>>>0}function w(C,T,y){const E=C>>24&255,x=C>>16&255,O=C>>8&255;let P=T>>24&255,I=T>>16&255,G=T>>8&255,re=v(_.relativeLuminance2(P,I,G),_.relativeLuminance2(E,x,O));for(;re<y&&(P<255||I<255||G<255);)P=Math.min(255,P+Math.ceil(.1*(255-P))),I=Math.min(255,I+Math.ceil(.1*(255-I))),G=Math.min(255,G+Math.ceil(.1*(255-G))),re=v(_.relativeLuminance2(P,I,G),_.relativeLuminance2(E,x,O));return(P<<24|I<<16|G<<8|255)>>>0}d.ensureContrastRatio=function(C,T,y){const E=_.relativeLuminance(C>>8),x=_.relativeLuminance(T>>8);if(v(E,x)<y){if(x<E){const I=m(C,T,y),G=v(E,_.relativeLuminance(I>>8));if(G<y){const re=w(C,T,y);return G>v(E,_.relativeLuminance(re>>8))?I:re}return I}const O=w(C,T,y),P=v(E,_.relativeLuminance(O>>8));if(P<y){const I=m(C,T,y);return P>v(E,_.relativeLuminance(I>>8))?O:I}return O}},d.reduceLuminance=m,d.increaseLuminance=w,d.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},d.toColor=function(C,T,y,E){return{css:b.toCss(C,T,y,E),rgba:b.toRgba(C,T,y,E)}}}(a=r.rgba||(r.rgba={})),r.toPaddedHex=g,r.contrastRatio=v},8969:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreTerminal=void 0;const h=l(844),u=l(2585),p=l(4348),f=l(7866),S=l(744),b=l(7302),_=l(6975),a=l(8460),g=l(1753),v=l(1480),d=l(7994),m=l(9282),w=l(5435),C=l(5981),T=l(2660);let y=!1;class E extends h.Disposable{constructor(O){super(),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new b.OptionsService(O)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(S.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(f.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(g.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(v.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",P=>this._handleWindowsModeOptionChange(P))),this.register(this._bufferService.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((P,I)=>this._inputHandler.parse(P,I))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,h.toDisposable)(()=>{var P;(P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event(O=>{var P;(P=this._onScrollApi)===null||P===void 0||P.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const P in O)this.optionsService.options[P]=O[P]}write(O,P){this._writeBuffer.write(O,P)}writeSync(O,P){this._logService.logLevel<=u.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(O,P)}resize(O,P){isNaN(O)||isNaN(P)||(O=Math.max(O,S.MINIMUM_COLS),P=Math.max(P,S.MINIMUM_ROWS),this._bufferService.resize(O,P))}scroll(O,P=!1){this._bufferService.scroll(O,P)}scrollLines(O,P,I){this._bufferService.scrollLines(O,P,I)}scrollPages(O){this._bufferService.scrollPages(O)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(O){this._bufferService.scrollToLine(O)}registerEscHandler(O,P){return this._inputHandler.registerEscHandler(O,P)}registerDcsHandler(O,P){return this._inputHandler.registerDcsHandler(O,P)}registerCsiHandler(O,P){return this._inputHandler.registerCsiHandler(O,P)}registerOscHandler(O,P){return this._inputHandler.registerOscHandler(O,P)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(O){var P;O?this._enableWindowsMode():((P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const O=[];O.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const P of O)P.dispose()}}}}}r.CoreTerminal=E},8460:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forwardEvent=r.EventEmitter=void 0,r.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===l)return void this._listeners.splice(h,1)}}})),this._event}fire(l,h){const u=[];for(let p=0;p<this._listeners.length;p++)u.push(this._listeners[p]);for(let p=0;p<u.length;p++)u[p].call(void 0,l,h)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},r.forwardEvent=function(l,h){return l(u=>h.fire(u))}},5435:function(c,r,l){var h=this&&this.__decorate||function(ie,k,D,L){var M,K=arguments.length,ee=K<3?k:L===null?L=Object.getOwnPropertyDescriptor(k,D):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(ie,k,D,L);else for(var me=ie.length-1;me>=0;me--)(M=ie[me])&&(ee=(K<3?M(ee):K>3?M(k,D,ee):M(k,D))||ee);return K>3&&ee&&Object.defineProperty(k,D,ee),ee},u=this&&this.__param||function(ie,k){return function(D,L){k(D,L,ie)}};Object.defineProperty(r,"__esModule",{value:!0}),r.InputHandler=r.WindowsOptionsReportType=void 0;const p=l(2584),f=l(7116),S=l(2015),b=l(844),_=l(482),a=l(8437),g=l(8460),v=l(643),d=l(511),m=l(3734),w=l(2585),C=l(6242),T=l(6351),y=l(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},x=131072;function O(ie,k){if(ie>24)return k.setWinLines||!1;switch(ie){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var P;(function(ie){ie[ie.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ie[ie.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(P=r.WindowsOptionsReportType||(r.WindowsOptionsReportType={}));let I=0;class G extends b.Disposable{constructor(k,D,L,M,K,ee,me,ne,oe=new S.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=D,this._coreService=L,this._logService=M,this._optionsService=K,this._oscLinkService=ee,this._coreMouseService=me,this._unicodeService=ne,this._parser=oe,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new g.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new g.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new g.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new g.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new g.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new g.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new g.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new g.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new g.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new g.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new g.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new g.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new g.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new re(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(N=>this._activeBuffer=N.activeBuffer)),this._parser.setCsiHandlerFallback((N,B)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(N),params:B.toArray()})}),this._parser.setEscHandlerFallback(N=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(N)})}),this._parser.setExecuteHandlerFallback(N=>{this._logService.debug("Unknown EXECUTE code: ",{code:N})}),this._parser.setOscHandlerFallback((N,B,$)=>{this._logService.debug("Unknown OSC code: ",{identifier:N,action:B,data:$})}),this._parser.setDcsHandlerFallback((N,B,$)=>{B==="HOOK"&&($=$.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(N),action:B,payload:$})}),this._parser.setPrintHandler((N,B,$)=>this.print(N,B,$)),this._parser.registerCsiHandler({final:"@"},N=>this.insertChars(N)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},N=>this.scrollLeft(N)),this._parser.registerCsiHandler({final:"A"},N=>this.cursorUp(N)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},N=>this.scrollRight(N)),this._parser.registerCsiHandler({final:"B"},N=>this.cursorDown(N)),this._parser.registerCsiHandler({final:"C"},N=>this.cursorForward(N)),this._parser.registerCsiHandler({final:"D"},N=>this.cursorBackward(N)),this._parser.registerCsiHandler({final:"E"},N=>this.cursorNextLine(N)),this._parser.registerCsiHandler({final:"F"},N=>this.cursorPrecedingLine(N)),this._parser.registerCsiHandler({final:"G"},N=>this.cursorCharAbsolute(N)),this._parser.registerCsiHandler({final:"H"},N=>this.cursorPosition(N)),this._parser.registerCsiHandler({final:"I"},N=>this.cursorForwardTab(N)),this._parser.registerCsiHandler({final:"J"},N=>this.eraseInDisplay(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},N=>this.eraseInDisplay(N,!0)),this._parser.registerCsiHandler({final:"K"},N=>this.eraseInLine(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},N=>this.eraseInLine(N,!0)),this._parser.registerCsiHandler({final:"L"},N=>this.insertLines(N)),this._parser.registerCsiHandler({final:"M"},N=>this.deleteLines(N)),this._parser.registerCsiHandler({final:"P"},N=>this.deleteChars(N)),this._parser.registerCsiHandler({final:"S"},N=>this.scrollUp(N)),this._parser.registerCsiHandler({final:"T"},N=>this.scrollDown(N)),this._parser.registerCsiHandler({final:"X"},N=>this.eraseChars(N)),this._parser.registerCsiHandler({final:"Z"},N=>this.cursorBackwardTab(N)),this._parser.registerCsiHandler({final:"`"},N=>this.charPosAbsolute(N)),this._parser.registerCsiHandler({final:"a"},N=>this.hPositionRelative(N)),this._parser.registerCsiHandler({final:"b"},N=>this.repeatPrecedingCharacter(N)),this._parser.registerCsiHandler({final:"c"},N=>this.sendDeviceAttributesPrimary(N)),this._parser.registerCsiHandler({prefix:">",final:"c"},N=>this.sendDeviceAttributesSecondary(N)),this._parser.registerCsiHandler({final:"d"},N=>this.linePosAbsolute(N)),this._parser.registerCsiHandler({final:"e"},N=>this.vPositionRelative(N)),this._parser.registerCsiHandler({final:"f"},N=>this.hVPosition(N)),this._parser.registerCsiHandler({final:"g"},N=>this.tabClear(N)),this._parser.registerCsiHandler({final:"h"},N=>this.setMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"h"},N=>this.setModePrivate(N)),this._parser.registerCsiHandler({final:"l"},N=>this.resetMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"l"},N=>this.resetModePrivate(N)),this._parser.registerCsiHandler({final:"m"},N=>this.charAttributes(N)),this._parser.registerCsiHandler({final:"n"},N=>this.deviceStatus(N)),this._parser.registerCsiHandler({prefix:"?",final:"n"},N=>this.deviceStatusPrivate(N)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},N=>this.softReset(N)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},N=>this.setCursorStyle(N)),this._parser.registerCsiHandler({final:"r"},N=>this.setScrollRegion(N)),this._parser.registerCsiHandler({final:"s"},N=>this.saveCursor(N)),this._parser.registerCsiHandler({final:"t"},N=>this.windowOptions(N)),this._parser.registerCsiHandler({final:"u"},N=>this.restoreCursor(N)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},N=>this.insertColumns(N)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},N=>this.deleteColumns(N)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},N=>this.selectProtected(N)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},N=>this.requestMode(N,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},N=>this.requestMode(N,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(N=>(this.setTitle(N),this.setIconName(N),!0))),this._parser.registerOscHandler(1,new C.OscHandler(N=>this.setIconName(N))),this._parser.registerOscHandler(2,new C.OscHandler(N=>this.setTitle(N))),this._parser.registerOscHandler(4,new C.OscHandler(N=>this.setOrReportIndexedColor(N))),this._parser.registerOscHandler(8,new C.OscHandler(N=>this.setHyperlink(N))),this._parser.registerOscHandler(10,new C.OscHandler(N=>this.setOrReportFgColor(N))),this._parser.registerOscHandler(11,new C.OscHandler(N=>this.setOrReportBgColor(N))),this._parser.registerOscHandler(12,new C.OscHandler(N=>this.setOrReportCursorColor(N))),this._parser.registerOscHandler(104,new C.OscHandler(N=>this.restoreIndexedColor(N))),this._parser.registerOscHandler(110,new C.OscHandler(N=>this.restoreFgColor(N))),this._parser.registerOscHandler(111,new C.OscHandler(N=>this.restoreBgColor(N))),this._parser.registerOscHandler(112,new C.OscHandler(N=>this.restoreCursorColor(N))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const N in f.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:N},()=>this.selectCharset("("+N)),this._parser.registerEscHandler({intermediates:")",final:N},()=>this.selectCharset(")"+N)),this._parser.registerEscHandler({intermediates:"*",final:N},()=>this.selectCharset("*"+N)),this._parser.registerEscHandler({intermediates:"+",final:N},()=>this.selectCharset("+"+N)),this._parser.registerEscHandler({intermediates:"-",final:N},()=>this.selectCharset("-"+N)),this._parser.registerEscHandler({intermediates:".",final:N},()=>this.selectCharset("."+N)),this._parser.registerEscHandler({intermediates:"/",final:N},()=>this.selectCharset("/"+N));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(N=>(this._logService.error("Parsing error: ",N),N)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new T.DcsHandler((N,B)=>this.requestStatusString(N,B)))}getAttrData(){return this._curAttrData}_preserveStack(k,D,L,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=D,this._parseStack.decodedLength=L,this._parseStack.position=M}_logSlowResolvingAsync(k){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([k,new Promise((D,L)=>setTimeout(()=>L("#SLOW_TIMEOUT"),5e3))]).catch(D=>{if(D!=="#SLOW_TIMEOUT")throw D;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,D){let L,M=this._activeBuffer.x,K=this._activeBuffer.y,ee=0;const me=this._parseStack.paused;if(me){if(L=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,D))return this._logSlowResolvingAsync(L),L;M=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>x&&(ee=this._parseStack.position+x)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,ne=>String.fromCharCode(ne)).join("")}"`),typeof k=="string"?k.split("").map(ne=>ne.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<x&&(this._parseBuffer=new Uint32Array(Math.min(k.length,x))),me||this._dirtyRowTracker.clearRange(),k.length>x)for(let ne=ee;ne<k.length;ne+=x){const oe=ne+x<k.length?ne+x:k.length,N=typeof k=="string"?this._stringDecoder.decode(k.substring(ne,oe),this._parseBuffer):this._utf8Decoder.decode(k.subarray(ne,oe),this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,N))return this._preserveStack(M,K,N,ne),this._logSlowResolvingAsync(L),L}else if(!me){const ne=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,ne))return this._preserveStack(M,K,ne,0),this._logSlowResolvingAsync(L),L}this._activeBuffer.x===M&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,D,L){let M,K;const ee=this._charsetService.charset,me=this._optionsService.rawOptions.screenReaderMode,ne=this._bufferService.cols,oe=this._coreService.decPrivateModes.wraparound,N=this._coreService.modes.insertMode,B=this._curAttrData;let $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&L-D>0&&$.getWidth(this._activeBuffer.x-1)===2&&$.setCellFromCodePoint(this._activeBuffer.x-1,0,1,B.fg,B.bg,B.extended);for(let te=D;te<L;++te){if(M=k[te],K=this._unicodeService.wcwidth(M),M<127&&ee){const ae=ee[String.fromCharCode(M)];ae&&(M=ae.charCodeAt(0))}if(me&&this._onA11yChar.fire((0,_.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=ne){if(oe){for(;this._activeBuffer.x<ne;)$.setCellFromCodePoint(this._activeBuffer.x++,0,1,B.fg,B.bg,B.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),$=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ne-1,K===2)continue}if(N&&($.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(B),B),$.getWidth(ne-1)===2&&$.setCellFromCodePoint(ne-1,v.NULL_CELL_CODE,v.NULL_CELL_WIDTH,B.fg,B.bg,B.extended)),$.setCellFromCodePoint(this._activeBuffer.x++,M,K,B.fg,B.bg,B.extended),K>0)for(;--K;)$.setCellFromCodePoint(this._activeBuffer.x++,0,0,B.fg,B.bg,B.extended)}else $.getWidth(this._activeBuffer.x-1)?$.addCodepointToCell(this._activeBuffer.x-1,M):$.addCodepointToCell(this._activeBuffer.x-2,M)}L-D>0&&($.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ne&&L-D>0&&$.getWidth(this._activeBuffer.x)===0&&!$.hasContent(this._activeBuffer.x)&&$.setCellFromCodePoint(this._activeBuffer.x,0,1,B.fg,B.bg,B.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,D){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,D):this._parser.registerCsiHandler(k,L=>!O(L.params[0],this._optionsService.rawOptions.windowOptions)||D(L))}registerDcsHandler(k,D){return this._parser.registerDcsHandler(k,new T.DcsHandler(D))}registerEscHandler(k,D){return this._parser.registerEscHandler(k,D)}registerOscHandler(k,D){return this._parser.registerOscHandler(k,new C.OscHandler(D))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0?void 0:k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);D.hasWidth(this._activeBuffer.x)&&!D.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,D){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+D):(this._activeBuffer.x=k,this._activeBuffer.y=D),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,D){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+D)}cursorUp(k){const D=this._activeBuffer.y-this._activeBuffer.scrollTop;return D>=0?this._moveCursor(0,-Math.min(D,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const D=this._activeBuffer.scrollBottom-this._activeBuffer.y;return D>=0?this._moveCursor(0,Math.min(D,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const D=k.params[0];return D===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:D===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=k.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=k.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const D=k.params[0];return D===1&&(this._curAttrData.bg|=536870912),D!==2&&D!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,D,L,M=!1,K=!1){const ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);ee.replaceCells(D,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),M&&(ee.isWrapped=!1)}_resetBufferLine(k,D=!1){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);L.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),D),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),L.isWrapped=!1}eraseInDisplay(k,D=!1){let L;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);L<this._bufferService.rows;L++)this._resetBufferLine(L,D);this._dirtyRowTracker.markDirty(L);break;case 1:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L,0,this._activeBuffer.x+1,!0,D),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(L+1).isWrapped=!1);L--;)this._resetBufferLine(L,D);this._dirtyRowTracker.markDirty(0);break;case 2:for(L=this._bufferService.rows,this._dirtyRowTracker.markDirty(L-1);L--;)this._resetBufferLine(L,D);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(k,D=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,D);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,D)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let D=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;D--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(L,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let D=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;D--;)this._activeBuffer.lines.splice(L,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let D=k.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let D=k.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=k.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M.deleteCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=k.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M.insertCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=k.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M.insertCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=k.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M.deleteCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const D=k.params[0]||1,L=new Uint32Array(D);for(let M=0;M<D;++M)L[M]=this._parser.precedingCodepoint;return this.print(L,0,L.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let D=0;D<k.length;D++)switch(k.params[D]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let D=0;D<k.length;D++)switch(k.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let D=0;D<k.length;D++)switch(k.params[D]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let D=0;D<k.length;D++)switch(k.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[D]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,D){const L=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:K}=this._coreMouseService,ee=this._coreService,{buffers:me,cols:ne}=this._bufferService,{active:oe,alt:N}=me,B=this._optionsService.rawOptions,$=R=>R?1:2,te=k.params[0];return ae=te,Re=D?te===2?3:te===4?$(ee.modes.insertMode):te===12?4:te===20?$(B.convertEol):0:te===1?$(L.applicationCursorKeys):te===3?B.windowOptions.setWinLines?ne===80?2:ne===132?1:0:0:te===6?$(L.origin):te===7?$(L.wraparound):te===8?3:te===9?$(M==="X10"):te===12?$(B.cursorBlink):te===25?$(!ee.isCursorHidden):te===45?$(L.reverseWraparound):te===66?$(L.applicationKeypad):te===1e3?$(M==="VT200"):te===1002?$(M==="DRAG"):te===1003?$(M==="ANY"):te===1004?$(L.sendFocus):te===1005?4:te===1006?$(K==="SGR"):te===1015?4:te===1016?$(K==="SGR_PIXELS"):te===1048?1:te===47||te===1047||te===1049?$(oe===N):te===2004?$(L.bracketedPasteMode):0,ee.triggerDataEvent(`${p.C0.ESC}[${D?"":"?"}${ae};${Re}$y`),!0;var ae,Re}_updateAttrColor(k,D,L,M,K){return D===2?(k|=50331648,k&=-16777216,k|=m.AttributeData.fromColorRGB([L,M,K])):D===5&&(k&=-50331904,k|=33554432|255&L),k}_extractColor(k,D,L){const M=[0,0,-1,0,0,0];let K=0,ee=0;do{if(M[ee+K]=k.params[D+ee],k.hasSubParams(D+ee)){const me=k.getSubParams(D+ee);let ne=0;do M[1]===5&&(K=1),M[ee+ne+1+K]=me[ne];while(++ne<me.length&&ne+ee+1+K<M.length);break}if(M[1]===5&&ee+K>=2||M[1]===2&&ee+K>=5)break;M[1]&&(K=1)}while(++ee+D<k.length&&ee+K<M.length);for(let me=2;me<M.length;++me)M[me]===-1&&(M[me]=0);switch(M[0]){case 38:L.fg=this._updateAttrColor(L.fg,M[1],M[3],M[4],M[5]);break;case 48:L.bg=this._updateAttrColor(L.bg,M[1],M[3],M[4],M[5]);break;case 58:L.extended=L.extended.clone(),L.extended.underlineColor=this._updateAttrColor(L.extended.underlineColor,M[1],M[3],M[4],M[5])}return ee}_processUnderline(k,D){D.extended=D.extended.clone(),(!~k||k>5)&&(k=1),D.extended.underlineStyle=k,D.fg|=268435456,k===0&&(D.fg&=-268435457),D.updateExtended()}_processSGR0(k){k.fg=a.DEFAULT_ATTR_DATA.fg,k.bg=a.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const D=k.length;let L;const M=this._curAttrData;for(let K=0;K<D;K++)L=k.params[K],L>=30&&L<=37?(M.fg&=-50331904,M.fg|=16777216|L-30):L>=40&&L<=47?(M.bg&=-50331904,M.bg|=16777216|L-40):L>=90&&L<=97?(M.fg&=-50331904,M.fg|=16777224|L-90):L>=100&&L<=107?(M.bg&=-50331904,M.bg|=16777224|L-100):L===0?this._processSGR0(M):L===1?M.fg|=134217728:L===3?M.bg|=67108864:L===4?(M.fg|=268435456,this._processUnderline(k.hasSubParams(K)?k.getSubParams(K)[0]:1,M)):L===5?M.fg|=536870912:L===7?M.fg|=67108864:L===8?M.fg|=1073741824:L===9?M.fg|=2147483648:L===2?M.bg|=134217728:L===21?this._processUnderline(2,M):L===22?(M.fg&=-134217729,M.bg&=-134217729):L===23?M.bg&=-67108865:L===24?(M.fg&=-268435457,this._processUnderline(0,M)):L===25?M.fg&=-536870913:L===27?M.fg&=-67108865:L===28?M.fg&=-1073741825:L===29?M.fg&=2147483647:L===39?(M.fg&=-67108864,M.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):L===49?(M.bg&=-67108864,M.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):L===38||L===48||L===58?K+=this._extractColor(k,K,M):L===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):L===100?(M.fg&=-67108864,M.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",L);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const D=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${D};${L}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const D=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${D};${L}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const D=k.params[0]||1;switch(D){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const L=D%2==1;return this._optionsService.options.cursorBlink=L,!0}setScrollRegion(k){const D=k.params[0]||1;let L;return(k.length<2||(L=k.params[1])>this._bufferService.rows||L===0)&&(L=this._bufferService.rows),L>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=L-1,this._setCursor(0,0)),!0}windowOptions(k){if(!O(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const D=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:D!==2&&this._onRequestWindowsOptionsReport.fire(P.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(P.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:D!==0&&D!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),D!==0&&D!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:D!==0&&D!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),D!==0&&D!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const D=[],L=k.split(";");for(;L.length>1;){const M=L.shift(),K=L.shift();if(/^\d+$/.exec(M)){const ee=parseInt(M);if(0<=ee&&ee<256)if(K==="?")D.push({type:0,index:ee});else{const me=(0,y.parseColor)(K);me&&D.push({type:1,index:ee,color:me})}}}return D.length&&this._onColor.fire(D),!0}setHyperlink(k){const D=k.split(";");return!(D.length<2)&&(D[1]?this._createHyperlink(D[0],D[1]):!D[0]&&this._finishHyperlink())}_createHyperlink(k,D){this._getCurrentLinkId()&&this._finishHyperlink();const L=k.split(":");let M;const K=L.findIndex(ee=>ee.startsWith("id="));return K!==-1&&(M=L[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:D}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,D){const L=k.split(";");for(let M=0;M<L.length&&!(D>=this._specialColors.length);++M,++D)if(L[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[D]}]);else{const K=(0,y.parseColor)(L[M]);K&&this._onColor.fire([{type:1,index:this._specialColors[D],color:K}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const D=[],L=k.split(";");for(let M=0;M<L.length;++M)if(/^\d+$/.exec(L[M])){const K=parseInt(L[M]);0<=K&&K<256&&D.push({type:2,index:K})}return D.length&&this._onColor.fire(D),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(E[k[0]],f.CHARSETS[k[1]]||f.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new d.CellData;k.content=4194304|"E".charCodeAt(0),k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let D=0;D<this._bufferService.rows;++D){const L=this._activeBuffer.ybase+this._activeBuffer.y+D,M=this._activeBuffer.lines.get(L);M&&(M.fill(k),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,D){const L=this._bufferService.buffer,M=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${K}${p.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${L.scrollTop+1};${L.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,D){this._dirtyRowTracker.markRangeDirty(k,D)}}r.InputHandler=G;let re=class{constructor(ie){this._bufferService=ie,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ie){ie<this.start?this.start=ie:ie>this.end&&(this.end=ie)}markRangeDirty(ie,k){ie>k&&(I=ie,ie=k,k=I),ie<this.start&&(this.start=ie),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};re=h([u(0,w.IBufferService)],re)},844:(c,r)=>{function l(h){for(const u of h)u.dispose();h.length=0}Object.defineProperty(r,"__esModule",{value:!0}),r.getDisposeArrayDisposable=r.disposeArray=r.toDisposable=r.Disposable=void 0,r.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const u=this._disposables.indexOf(h);u!==-1&&this._disposables.splice(u,1)}},r.toDisposable=function(h){return{dispose:h}},r.disposeArray=l,r.getDisposeArrayDisposable=function(h){return{dispose:()=>l(h)}}},1505:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FourKeyMap=r.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(u,p,f){this._data[u]||(this._data[u]={}),this._data[u][p]=f}get(u,p){return this._data[u]?this._data[u][p]:void 0}clear(){this._data={}}}r.TwoKeyMap=l,r.FourKeyMap=class{constructor(){this._data=new l}set(h,u,p,f,S){this._data.get(h,u)||this._data.set(h,u,new l),this._data.get(h,u).set(p,f,S)}get(h,u,p,f){var S;return(S=this._data.get(h,u))===null||S===void 0?void 0:S.get(p,f)}clear(){this._data.clear()}}},6114:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isChromeOS=r.isLinux=r.isWindows=r.isIphone=r.isIpad=r.isMac=r.getSafariVersion=r.isSafari=r.isLegacyEdge=r.isFirefox=r.isNode=void 0,r.isNode=typeof navigator>"u";const l=r.isNode?"node":navigator.userAgent,h=r.isNode?"node":navigator.platform;r.isFirefox=l.includes("Firefox"),r.isLegacyEdge=l.includes("Edge"),r.isSafari=/^((?!chrome|android).)*safari/i.test(l),r.getSafariVersion=function(){if(!r.isSafari)return 0;const u=l.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},r.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),r.isIpad=h==="iPad",r.isIphone=h==="iPhone",r.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),r.isLinux=h.indexOf("Linux")>=0,r.isChromeOS=/\bCrOS\b/.test(l)},6106:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SortedList=void 0;let l=0;r.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(l=this._search(this._getKey(h),0,this._array.length-1),this._array.splice(l,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const u=this._getKey(h);if(u===void 0||(l=this._search(u,0,this._array.length-1),l===-1)||this._getKey(this._array[l])!==u)return!1;do if(this._array[l]===h)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===u);return!1}*getKeyIterator(h){if(this._array.length!==0&&(l=this._search(h,0,this._array.length-1),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===h)}forEachByKey(h,u){if(this._array.length!==0&&(l=this._search(h,0,this._array.length-1),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do u(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===h)}values(){return this._array.values()}_search(h,u,p){if(p<u)return u;let f=Math.floor((u+p)/2);const S=this._getKey(this._array[f]);if(S>h)return this._search(h,u,f-1);if(S<h)return this._search(h,f+1,p);for(;f>0&&this._getKey(this._array[f-1])===h;)f--;return f}}},7226:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DebouncedIdleTask=r.IdleTaskQueue=r.PriorityTaskQueue=void 0;const h=l(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(S){this._tasks.push(S),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(S){this._idleCallback=void 0;let b=0,_=0,a=S.timeRemaining(),g=0;for(;this._i<this._tasks.length;){if(b=Date.now(),this._tasks[this._i]()||this._i++,b=Math.max(1,Date.now()-b),_=Math.max(b,_),g=S.timeRemaining(),1.5*_>g)return a-b<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-b))}ms`),void this._start();a=g}this.clear()}}class p extends u{_requestCallback(S){return setTimeout(()=>S(this._createDeadline(16)))}_cancelCallback(S){clearTimeout(S)}_createDeadline(S){const b=Date.now()+S;return{timeRemaining:()=>Math.max(0,b-Date.now())}}}r.PriorityTaskQueue=p,r.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(f){return requestIdleCallback(f)}_cancelCallback(f){cancelIdleCallback(f)}}:p,r.DebouncedIdleTask=class{constructor(){this._queue=new r.IdleTaskQueue}set(f){this._queue.clear(),this._queue.enqueue(f)}flush(){this._queue.flush()}}},9282:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateWindowsModeWrappedState=void 0;const h=l(643);r.updateWindowsModeWrappedState=function(u){const p=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),f=p==null?void 0:p.get(u.cols-1),S=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);S&&f&&(S.isWrapped=f[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&f[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ExtendedAttrs=r.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new l;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}r.AttributeData=l;class h{constructor(p=0,f=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=f}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}r.ExtendedAttrs=h},9092:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferStringIterator=r.Buffer=r.MAX_BUFFER_SIZE=void 0;const h=l(6349),u=l(8437),p=l(511),f=l(643),S=l(4634),b=l(4863),_=l(7116),a=l(3734),g=l(7226);r.MAX_BUFFER_SIZE=4294967295,r.Buffer=class{constructor(d,m,w){this._hasScrollback=d,this._optionsService=m,this._bufferService=w,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,m){return new u.BufferLine(this._bufferService.cols,this.getNullCell(d),m)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const m=d+this._optionsService.rawOptions.scrollback;return m>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:m}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=u.DEFAULT_ATTR_DATA);let m=this._rows;for(;m--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,m){const w=this.getNullCell(u.DEFAULT_ATTR_DATA);let C=0;const T=this._getCorrectBufferLength(m);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<d)for(let E=0;E<this.lines.length;E++)C+=+this.lines.get(E).resize(d,w);let y=0;if(this._rows<m)for(let E=this._rows;E<m;E++)this.lines.length<m+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new u.BufferLine(d,w)):this.ybase>0&&this.lines.length<=this.ybase+this.y+y+1?(this.ybase--,y++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(d,w)));else for(let E=this._rows;E>m;E--)this.lines.length>m+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const E=this.lines.length-T;E>0&&(this.lines.trimStart(E),this.ybase=Math.max(this.ybase-E,0),this.ydisp=Math.max(this.ydisp-E,0),this.savedY=Math.max(this.savedY-E,0)),this.lines.maxLength=T}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,m-1),y&&(this.y+=y),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=m-1,this._isReflowEnabled&&(this._reflow(d,m),this._cols>d))for(let y=0;y<this.lines.length;y++)C+=+this.lines.get(y).resize(d,w);this._cols=d,this._rows=m,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let m=0;for(;this._memoryCleanupPosition<this.lines.length;)if(m+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),m>100)return!0;return d}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,m){this._cols!==d&&(d>this._cols?this._reflowLarger(d,m):this._reflowSmaller(d,m))}_reflowLarger(d,m){const w=(0,S.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(w.length>0){const C=(0,S.reflowLargerCreateNewLayout)(this.lines,w);(0,S.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(d,m,C.countRemoved)}}_reflowLargerAdjustViewport(d,m,w){const C=this.getNullCell(u.DEFAULT_ATTR_DATA);let T=w;for(;T-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<m&&this.lines.push(new u.BufferLine(d,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-w,0)}_reflowSmaller(d,m){const w=this.getNullCell(u.DEFAULT_ATTR_DATA),C=[];let T=0;for(let y=this.lines.length-1;y>=0;y--){let E=this.lines.get(y);if(!E||!E.isWrapped&&E.getTrimmedLength()<=d)continue;const x=[E];for(;E.isWrapped&&y>0;)E=this.lines.get(--y),x.unshift(E);const O=this.ybase+this.y;if(O>=y&&O<y+x.length)continue;const P=x[x.length-1].getTrimmedLength(),I=(0,S.reflowSmallerGetNewLineLengths)(x,this._cols,d),G=I.length-x.length;let re;re=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+G):Math.max(0,this.lines.length-this.lines.maxLength+G);const ie=[];for(let ee=0;ee<G;ee++){const me=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);ie.push(me)}ie.length>0&&(C.push({start:y+x.length+T,newLines:ie}),T+=ie.length),x.push(...ie);let k=I.length-1,D=I[k];D===0&&(k--,D=I[k]);let L=x.length-G-1,M=P;for(;L>=0;){const ee=Math.min(M,D);if(x[k]===void 0)break;if(x[k].copyCellsFrom(x[L],M-ee,D-ee,ee,!0),D-=ee,D===0&&(k--,D=I[k]),M-=ee,M===0){L--;const me=Math.max(L,0);M=(0,S.getWrappedLineTrimmedLength)(x,me,this._cols)}}for(let ee=0;ee<x.length;ee++)I[ee]<d&&x[ee].setCell(I[ee],w);let K=G-re;for(;K-- >0;)this.ybase===0?this.y<m-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-m&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+G,this.ybase+m-1)}if(C.length>0){const y=[],E=[];for(let k=0;k<this.lines.length;k++)E.push(this.lines.get(k));const x=this.lines.length;let O=x-1,P=0,I=C[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let G=0;for(let k=Math.min(this.lines.maxLength-1,x+T-1);k>=0;k--)if(I&&I.start>O+G){for(let D=I.newLines.length-1;D>=0;D--)this.lines.set(k--,I.newLines[D]);k++,y.push({index:O+1,amount:I.newLines.length}),G+=I.newLines.length,I=C[++P]}else this.lines.set(k,E[O--]);let re=0;for(let k=y.length-1;k>=0;k--)y[k].index+=re,this.lines.onInsertEmitter.fire(y[k]),re+=y[k].amount;const ie=Math.max(0,x+T-this.lines.maxLength);ie>0&&this.lines.onTrimEmitter.fire(ie)}}stringIndexToBufferIndex(d,m,w=!1){for(;m;){const C=this.lines.get(d);if(!C)return[-1,-1];const T=w?C.getTrimmedLength():C.length;for(let y=0;y<T;++y)if(C.get(y)[f.CHAR_DATA_WIDTH_INDEX]&&(m-=C.get(y)[f.CHAR_DATA_CHAR_INDEX].length||1),m<0)return[d,y];d++}return[d,0]}translateBufferLineToString(d,m,w=0,C){const T=this.lines.get(d);return T?T.translateToString(m,w,C):""}getWrappedRangeForLine(d){let m=d,w=d;for(;m>0&&this.lines.get(m).isWrapped;)m--;for(;w+1<this.lines.length&&this.lines.get(w+1).isWrapped;)w++;return{first:m,last:w}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let m=0;m<this.markers.length;m++)this.markers[m].line===d&&(this.markers[m].dispose(),this.markers.splice(m--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const m=new b.Marker(d);return this.markers.push(m),m.register(this.lines.onTrim(w=>{m.line-=w,m.line<0&&m.dispose()})),m.register(this.lines.onInsert(w=>{m.line>=w.index&&(m.line+=w.amount)})),m.register(this.lines.onDelete(w=>{m.line>=w.index&&m.line<w.index+w.amount&&m.dispose(),m.line>w.index&&(m.line-=w.amount)})),m.register(m.onDispose(()=>this._removeMarker(m))),m}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}iterator(d,m,w,C,T){return new v(this,d,m,w,C,T)}};class v{constructor(m,w,C=0,T=m.lines.length,y=0,E=0){this._buffer=m,this._trimRight=w,this._startIndex=C,this._endIndex=T,this._startOverscan=y,this._endOverscan=E,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const m=this._buffer.getWrappedRangeForLine(this._current);m.first<this._startIndex-this._startOverscan&&(m.first=this._startIndex-this._startOverscan),m.last>this._endIndex+this._endOverscan&&(m.last=this._endIndex+this._endOverscan),m.first=Math.max(m.first,0),m.last=Math.min(m.last,this._buffer.lines.length);let w="";for(let C=m.first;C<=m.last;++C)w+=this._buffer.translateBufferLineToString(C,this._trimRight);return this._current=m.last+1,{range:m,content:w}}}r.BufferStringIterator=v},8437:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLine=r.DEFAULT_ATTR_DATA=void 0;const h=l(482),u=l(643),p=l(511),f=l(3734);r.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let S=0;class b{constructor(a,g,v=!1){this.isWrapped=v,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const d=g||p.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<a;++m)this.setCell(m,d);this.length=a}get(a){const g=this._data[3*a+0],v=2097151&g;return[this._data[3*a+1],2097152&g?this._combined[a]:v?(0,h.stringFromCodePoint)(v):"",g>>22,2097152&g?this._combined[a].charCodeAt(this._combined[a].length-1):v]}set(a,g){this._data[3*a+1]=g[u.CHAR_DATA_ATTR_INDEX],g[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=g[1],this._data[3*a+0]=2097152|a|g[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const g=this._data[3*a+0];return 2097152&g?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&g}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const g=this._data[3*a+0];return 2097152&g?this._combined[a]:2097151&g?(0,h.stringFromCodePoint)(2097151&g):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,g){return S=3*a,g.content=this._data[S+0],g.fg=this._data[S+1],g.bg=this._data[S+2],2097152&g.content&&(g.combinedData=this._combined[a]),268435456&g.bg&&(g.extended=this._extendedAttrs[a]),g}setCell(a,g){2097152&g.content&&(this._combined[a]=g.combinedData),268435456&g.bg&&(this._extendedAttrs[a]=g.extended),this._data[3*a+0]=g.content,this._data[3*a+1]=g.fg,this._data[3*a+2]=g.bg}setCellFromCodePoint(a,g,v,d,m,w){268435456&m&&(this._extendedAttrs[a]=w),this._data[3*a+0]=g|v<<22,this._data[3*a+1]=d,this._data[3*a+2]=m}addCodepointToCell(a,g){let v=this._data[3*a+0];2097152&v?this._combined[a]+=(0,h.stringFromCodePoint)(g):(2097151&v?(this._combined[a]=(0,h.stringFromCodePoint)(2097151&v)+(0,h.stringFromCodePoint)(g),v&=-2097152,v|=2097152):v=g|4194304,this._data[3*a+0]=v)}insertCells(a,g,v,d){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),g<this.length-a){const m=new p.CellData;for(let w=this.length-a-g-1;w>=0;--w)this.setCell(a+g+w,this.loadCell(a+w,m));for(let w=0;w<g;++w)this.setCell(a+w,v)}else for(let m=a;m<this.length;++m)this.setCell(m,v);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs)}deleteCells(a,g,v,d){if(a%=this.length,g<this.length-a){const m=new p.CellData;for(let w=0;w<this.length-a-g;++w)this.setCell(a+w,this.loadCell(a+g+w,m));for(let w=this.length-g;w<this.length;++w)this.setCell(w,v)}else for(let m=a;m<this.length;++m)this.setCell(m,v);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs)}replaceCells(a,g,v,d,m=!1){if(m)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),g<this.length&&this.getWidth(g-1)===2&&!this.isProtected(g)&&this.setCellFromCodePoint(g,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs);a<g&&a<this.length;)this.isProtected(a)||this.setCell(a,v),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),g<this.length&&this.getWidth(g-1)===2&&this.setCellFromCodePoint(g,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs);a<g&&a<this.length;)this.setCell(a++,v)}resize(a,g){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const v=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*v)this._data=new Uint32Array(this._data.buffer,0,v);else{const d=new Uint32Array(v);d.set(this._data),this._data=d}for(let d=this.length;d<a;++d)this.setCell(d,g)}else{this._data=this._data.subarray(0,v);const d=Object.keys(this._combined);for(let w=0;w<d.length;w++){const C=parseInt(d[w],10);C>=a&&delete this._combined[C]}const m=Object.keys(this._extendedAttrs);for(let w=0;w<m.length;w++){const C=parseInt(m[w],10);C>=a&&delete this._extendedAttrs[C]}}return this.length=a,4*v*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,g=!1){if(g)for(let v=0;v<this.length;++v)this.isProtected(v)||this.setCell(v,a);else{this._combined={},this._extendedAttrs={};for(let v=0;v<this.length;++v)this.setCell(v,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const g in a._combined)this._combined[g]=a._combined[g];this._extendedAttrs={};for(const g in a._extendedAttrs)this._extendedAttrs[g]=a._extendedAttrs[g];this.isWrapped=a.isWrapped}clone(){const a=new b(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const g in this._combined)a._combined[g]=this._combined[g];for(const g in this._extendedAttrs)a._extendedAttrs[g]=this._extendedAttrs[g];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,g,v,d,m){const w=a._data;if(m)for(let T=d-1;T>=0;T--){for(let y=0;y<3;y++)this._data[3*(v+T)+y]=w[3*(g+T)+y];268435456&w[3*(g+T)+2]&&(this._extendedAttrs[v+T]=a._extendedAttrs[g+T])}else for(let T=0;T<d;T++){for(let y=0;y<3;y++)this._data[3*(v+T)+y]=w[3*(g+T)+y];268435456&w[3*(g+T)+2]&&(this._extendedAttrs[v+T]=a._extendedAttrs[g+T])}const C=Object.keys(a._combined);for(let T=0;T<C.length;T++){const y=parseInt(C[T],10);y>=g&&(this._combined[y-g+v]=a._combined[y])}}translateToString(a=!1,g=0,v=this.length){a&&(v=Math.min(v,this.getTrimmedLength()));let d="";for(;g<v;){const m=this._data[3*g+0],w=2097151&m;d+=2097152&m?this._combined[g]:w?(0,h.stringFromCodePoint)(w):u.WHITESPACE_CELL_CHAR,g+=m>>22||1}return d}}r.BufferLine=b},4841:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRangeLength=void 0,r.getRangeLength=function(l,h){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return h*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(c,r)=>{function l(h,u,p){if(u===h.length-1)return h[u].getTrimmedLength();const f=!h[u].hasContent(p-1)&&h[u].getWidth(p-1)===1,S=h[u+1].getWidth(0)===2;return f&&S?p-1:p}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedLineTrimmedLength=r.reflowSmallerGetNewLineLengths=r.reflowLargerApplyNewLayout=r.reflowLargerCreateNewLayout=r.reflowLargerGetLinesToRemove=void 0,r.reflowLargerGetLinesToRemove=function(h,u,p,f,S){const b=[];for(let _=0;_<h.length-1;_++){let a=_,g=h.get(++a);if(!g.isWrapped)continue;const v=[h.get(_)];for(;a<h.length&&g.isWrapped;)v.push(g),g=h.get(++a);if(f>=_&&f<a){_+=v.length-1;continue}let d=0,m=l(v,d,u),w=1,C=0;for(;w<v.length;){const y=l(v,w,u),E=y-C,x=p-m,O=Math.min(E,x);v[d].copyCellsFrom(v[w],C,m,O,!1),m+=O,m===p&&(d++,m=0),C+=O,C===y&&(w++,C=0),m===0&&d!==0&&v[d-1].getWidth(p-1)===2&&(v[d].copyCellsFrom(v[d-1],p-1,m++,1,!1),v[d-1].setCell(p-1,S))}v[d].replaceCells(m,p,S);let T=0;for(let y=v.length-1;y>0&&(y>d||v[y].getTrimmedLength()===0);y--)T++;T>0&&(b.push(_+v.length-T),b.push(T)),_+=v.length-1}return b},r.reflowLargerCreateNewLayout=function(h,u){const p=[];let f=0,S=u[f],b=0;for(let _=0;_<h.length;_++)if(S===_){const a=u[++f];h.onDeleteEmitter.fire({index:_-b,amount:a}),_+=a-1,b+=a,S=u[++f]}else p.push(_);return{layout:p,countRemoved:b}},r.reflowLargerApplyNewLayout=function(h,u){const p=[];for(let f=0;f<u.length;f++)p.push(h.get(u[f]));for(let f=0;f<p.length;f++)h.set(f,p[f]);h.length=u.length},r.reflowSmallerGetNewLineLengths=function(h,u,p){const f=[],S=h.map((g,v)=>l(h,v,u)).reduce((g,v)=>g+v);let b=0,_=0,a=0;for(;a<S;){if(S-a<p){f.push(S-a);break}b+=p;const g=l(h,_,u);b>g&&(b-=g,_++);const v=h[_].getWidth(b-1)===2;v&&b--;const d=v?p-1:p;f.push(d),a+=d}return f},r.getWrappedLineTrimmedLength=l},5295:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferSet=void 0;const h=l(9092),u=l(8460),p=l(844);class f extends p.Disposable{constructor(b,_){super(),this._optionsService=b,this._bufferService=_,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(b){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(b),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(b,_){this._normal.resize(b,_),this._alt.resize(b,_),this.setupTabStops(b)}setupTabStops(b){this._normal.setupTabStops(b),this._alt.setupTabStops(b)}}r.BufferSet=f},511:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CellData=void 0;const h=l(482),u=l(643),p=l(3734);class f extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(b){const _=new f;return _.setFromCharData(b),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(b){this.fg=b[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(b[u.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(b[u.CHAR_DATA_CHAR_INDEX].length===2){const a=b[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const g=b[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=g&&g<=57343?this.content=1024*(a-55296)+g-56320+65536|b[u.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=b[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[u.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=b[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|b[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}r.CellData=f},643:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WHITESPACE_CELL_CODE=r.WHITESPACE_CELL_WIDTH=r.WHITESPACE_CELL_CHAR=r.NULL_CELL_CODE=r.NULL_CELL_WIDTH=r.NULL_CELL_CHAR=r.CHAR_DATA_CODE_INDEX=r.CHAR_DATA_WIDTH_INDEX=r.CHAR_DATA_CHAR_INDEX=r.CHAR_DATA_ATTR_INDEX=r.DEFAULT_EXT=r.DEFAULT_ATTR=r.DEFAULT_COLOR=void 0,r.DEFAULT_COLOR=0,r.DEFAULT_ATTR=256|r.DEFAULT_COLOR<<9,r.DEFAULT_EXT=0,r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.NULL_CELL_CHAR="",r.NULL_CELL_WIDTH=1,r.NULL_CELL_CODE=0,r.WHITESPACE_CELL_CHAR=" ",r.WHITESPACE_CELL_WIDTH=1,r.WHITESPACE_CELL_CODE=32},4863:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;const h=l(8460),u=l(844);class p{constructor(S){this.line=S,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(S){return this._disposables.push(S),S}}r.Marker=p,p._nextId=1},7116:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CHARSET=r.CHARSETS=void 0,r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},r.CHARSETS.A={"#":"\xA3"},r.CHARSETS.B=void 0,r.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},r.CHARSETS.C=r.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},r.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},r.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},r.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},r.CHARSETS.E=r.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},r.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},r.CHARSETS.H=r.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(c,r)=>{var l,h;Object.defineProperty(r,"__esModule",{value:!0}),r.C1_ESCAPED=r.C1=r.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL="\x7F"}(l=r.C0||(r.C0={})),(h=r.C1||(r.C1={})).PAD="\x80",h.HOP="\x81",h.BPH="\x82",h.NBH="\x83",h.IND="\x84",h.NEL="\x85",h.SSA="\x86",h.ESA="\x87",h.HTS="\x88",h.HTJ="\x89",h.VTS="\x8A",h.PLD="\x8B",h.PLU="\x8C",h.RI="\x8D",h.SS2="\x8E",h.SS3="\x8F",h.DCS="\x90",h.PU1="\x91",h.PU2="\x92",h.STS="\x93",h.CCH="\x94",h.MW="\x95",h.SPA="\x96",h.EPA="\x97",h.SOS="\x98",h.SGCI="\x99",h.SCI="\x9A",h.CSI="\x9B",h.ST="\x9C",h.OSC="\x9D",h.PM="\x9E",h.APC="\x9F",(r.C1_ESCAPED||(r.C1_ESCAPED={})).ST=`${l.ESC}\\`},7399:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateKeyboardEvent=void 0;const h=l(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};r.evaluateKeyboardEvent=function(p,f,S,b){const _={type:0,cancel:!1,key:void 0},a=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?_.key=f?h.C0.ESC+"OA":h.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?_.key=f?h.C0.ESC+"OD":h.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?_.key=f?h.C0.ESC+"OC":h.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(_.key=f?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(p.altKey){_.key=h.C0.ESC+h.C0.DEL;break}_.key=h.C0.DEL;break;case 9:if(p.shiftKey){_.key=h.C0.ESC+"[Z";break}_.key=h.C0.HT,_.cancel=!0;break;case 13:_.key=p.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,_.cancel=!0;break;case 27:_.key=h.C0.ESC,p.altKey&&(_.key=h.C0.ESC+h.C0.ESC),_.cancel=!0;break;case 37:if(p.metaKey)break;a?(_.key=h.C0.ESC+"[1;"+(a+1)+"D",_.key===h.C0.ESC+"[1;3D"&&(_.key=h.C0.ESC+(S?"b":"[1;5D"))):_.key=f?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(p.metaKey)break;a?(_.key=h.C0.ESC+"[1;"+(a+1)+"C",_.key===h.C0.ESC+"[1;3C"&&(_.key=h.C0.ESC+(S?"f":"[1;5C"))):_.key=f?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(p.metaKey)break;a?(_.key=h.C0.ESC+"[1;"+(a+1)+"A",S||_.key!==h.C0.ESC+"[1;3A"||(_.key=h.C0.ESC+"[1;5A")):_.key=f?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(p.metaKey)break;a?(_.key=h.C0.ESC+"[1;"+(a+1)+"B",S||_.key!==h.C0.ESC+"[1;3B"||(_.key=h.C0.ESC+"[1;5B")):_.key=f?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(_.key=h.C0.ESC+"[2~");break;case 46:_.key=a?h.C0.ESC+"[3;"+(a+1)+"~":h.C0.ESC+"[3~";break;case 36:_.key=a?h.C0.ESC+"[1;"+(a+1)+"H":f?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:_.key=a?h.C0.ESC+"[1;"+(a+1)+"F":f?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:p.shiftKey?_.type=2:p.ctrlKey?_.key=h.C0.ESC+"[5;"+(a+1)+"~":_.key=h.C0.ESC+"[5~";break;case 34:p.shiftKey?_.type=3:p.ctrlKey?_.key=h.C0.ESC+"[6;"+(a+1)+"~":_.key=h.C0.ESC+"[6~";break;case 112:_.key=a?h.C0.ESC+"[1;"+(a+1)+"P":h.C0.ESC+"OP";break;case 113:_.key=a?h.C0.ESC+"[1;"+(a+1)+"Q":h.C0.ESC+"OQ";break;case 114:_.key=a?h.C0.ESC+"[1;"+(a+1)+"R":h.C0.ESC+"OR";break;case 115:_.key=a?h.C0.ESC+"[1;"+(a+1)+"S":h.C0.ESC+"OS";break;case 116:_.key=a?h.C0.ESC+"[15;"+(a+1)+"~":h.C0.ESC+"[15~";break;case 117:_.key=a?h.C0.ESC+"[17;"+(a+1)+"~":h.C0.ESC+"[17~";break;case 118:_.key=a?h.C0.ESC+"[18;"+(a+1)+"~":h.C0.ESC+"[18~";break;case 119:_.key=a?h.C0.ESC+"[19;"+(a+1)+"~":h.C0.ESC+"[19~";break;case 120:_.key=a?h.C0.ESC+"[20;"+(a+1)+"~":h.C0.ESC+"[20~";break;case 121:_.key=a?h.C0.ESC+"[21;"+(a+1)+"~":h.C0.ESC+"[21~";break;case 122:_.key=a?h.C0.ESC+"[23;"+(a+1)+"~":h.C0.ESC+"[23~";break;case 123:_.key=a?h.C0.ESC+"[24;"+(a+1)+"~":h.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(S&&!b||!p.altKey||p.metaKey)!S||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?_.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(_.key=h.C0.US),p.key==="@"&&(_.key=h.C0.NUL)):p.keyCode===65&&(_.type=1);else{const g=u[p.keyCode],v=g==null?void 0:g[p.shiftKey?1:0];if(v)_.key=h.C0.ESC+v;else if(p.keyCode>=65&&p.keyCode<=90){const d=p.ctrlKey?p.keyCode-64:p.keyCode+32;let m=String.fromCharCode(d);p.shiftKey&&(m=m.toUpperCase()),_.key=h.C0.ESC+m}else if(p.keyCode===32)_.key=h.C0.ESC+(p.ctrlKey?h.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let d=p.code.slice(3,4);p.shiftKey||(d=d.toLowerCase()),_.key=h.C0.ESC+d,_.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?_.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?_.key=h.C0.NUL:p.keyCode>=51&&p.keyCode<=55?_.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?_.key=h.C0.DEL:p.keyCode===219?_.key=h.C0.ESC:p.keyCode===220?_.key=h.C0.FS:p.keyCode===221&&(_.key=h.C0.GS)}return _}},482:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utf8ToUtf32=r.StringToUtf32=r.utf32ToString=r.stringFromCodePoint=void 0,r.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},r.utf32ToString=function(l,h=0,u=l.length){let p="";for(let f=h;f<u;++f){let S=l[f];S>65535?(S-=65536,p+=String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):p+=String.fromCharCode(S)}return p},r.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,h){const u=l.length;if(!u)return 0;let p=0,f=0;if(this._interim){const S=l.charCodeAt(f++);56320<=S&&S<=57343?h[p++]=1024*(this._interim-55296)+S-56320+65536:(h[p++]=this._interim,h[p++]=S),this._interim=0}for(let S=f;S<u;++S){const b=l.charCodeAt(S);if(55296<=b&&b<=56319){if(++S>=u)return this._interim=b,p;const _=l.charCodeAt(S);56320<=_&&_<=57343?h[p++]=1024*(b-55296)+_-56320+65536:(h[p++]=b,h[p++]=_)}else b!==65279&&(h[p++]=b)}return p}},r.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,h){const u=l.length;if(!u)return 0;let p,f,S,b,_=0,a=0,g=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let C,T=0;for(;(C=63&this.interim[++T])&&T<4;)w<<=6,w|=C;const y=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=y-T;for(;g<E;){if(g>=u)return 0;if(C=l[g++],(192&C)!=128){g--,m=!0;break}this.interim[T++]=C,w<<=6,w|=63&C}m||(y===2?w<128?g--:h[_++]=w:y===3?w<2048||w>=55296&&w<=57343||w===65279||(h[_++]=w):w<65536||w>1114111||(h[_++]=w)),this.interim.fill(0)}const v=u-4;let d=g;for(;d<u;){for(;!(!(d<v)||128&(p=l[d])||128&(f=l[d+1])||128&(S=l[d+2])||128&(b=l[d+3]));)h[_++]=p,h[_++]=f,h[_++]=S,h[_++]=b,d+=4;if(p=l[d++],p<128)h[_++]=p;else if((224&p)==192){if(d>=u)return this.interim[0]=p,_;if(f=l[d++],(192&f)!=128){d--;continue}if(a=(31&p)<<6|63&f,a<128){d--;continue}h[_++]=a}else if((240&p)==224){if(d>=u)return this.interim[0]=p,_;if(f=l[d++],(192&f)!=128){d--;continue}if(d>=u)return this.interim[0]=p,this.interim[1]=f,_;if(S=l[d++],(192&S)!=128){d--;continue}if(a=(15&p)<<12|(63&f)<<6|63&S,a<2048||a>=55296&&a<=57343||a===65279)continue;h[_++]=a}else if((248&p)==240){if(d>=u)return this.interim[0]=p,_;if(f=l[d++],(192&f)!=128){d--;continue}if(d>=u)return this.interim[0]=p,this.interim[1]=f,_;if(S=l[d++],(192&S)!=128){d--;continue}if(d>=u)return this.interim[0]=p,this.interim[1]=f,this.interim[2]=S,_;if(b=l[d++],(192&b)!=128){d--;continue}if(a=(7&p)<<18|(63&f)<<12|(63&S)<<6|63&b,a<65536||a>1114111)continue;h[_++]=a}}return _}}},225:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let u;r.UnicodeV6=class{constructor(){if(this.version="6",!u){u=new Uint8Array(65536),u.fill(1),u[0]=0,u.fill(0,1,32),u.fill(0,127,160),u.fill(2,4352,4448),u[9001]=2,u[9002]=2,u.fill(2,11904,42192),u[12351]=1,u.fill(2,44032,55204),u.fill(2,63744,64256),u.fill(2,65040,65050),u.fill(2,65072,65136),u.fill(2,65280,65377),u.fill(2,65504,65511);for(let p=0;p<l.length;++p)u.fill(0,l[p][0],l[p][1]+1)}}wcwidth(p){return p<32?0:p<127?1:p<65536?u[p]:function(f,S){let b,_=0,a=S.length-1;if(f<S[0][0]||f>S[a][1])return!1;for(;a>=_;)if(b=_+a>>1,f>S[b][1])_=b+1;else{if(!(f<S[b][0]))return!0;a=b-1}return!1}(p,h)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1}}},5981:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WriteBuffer=void 0;const h=l(8460),u=l(844);class p extends u.Disposable{constructor(S){super(),this._action=S,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(S,b){if(b!==void 0&&this._syncCalls>b)return void(this._syncCalls=0);if(this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(S,b){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(b),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(b)}_innerWrite(S=0,b=!0){const _=S||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],g=this._action(a,b);if(g){const d=m=>Date.now()-_>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(_,m);return void g.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(d)}const v=this._callbacks[this._bufferOffset];if(v&&v(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}r.WriteBuffer=p},5941:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbString=r.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function u(p,f){const S=p.toString(16),b=S.length<2?"0"+S:S;switch(f){case 4:return S[0];case 8:return b;case 12:return(b+b).slice(0,3);default:return b+b}}r.parseColor=function(p){if(!p)return;let f=p.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);const S=l.exec(f);if(S){const b=S[1]?15:S[4]?255:S[7]?4095:65535;return[Math.round(parseInt(S[1]||S[4]||S[7]||S[10],16)/b*255),Math.round(parseInt(S[2]||S[5]||S[8]||S[11],16)/b*255),Math.round(parseInt(S[3]||S[6]||S[9]||S[12],16)/b*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),h.exec(f)&&[3,6,9,12].includes(f.length))){const S=f.length/3,b=[0,0,0];for(let _=0;_<3;++_){const a=parseInt(f.slice(S*_,S*_+S),16);b[_]=S===1?a<<4:S===2?a:S===3?a>>4:a>>8}return b}},r.toRgbString=function(p,f=16){const[S,b,_]=p;return`rgb:${u(S,f)}/${u(b,f)}/${u(_,f)}`}},5770:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PAYLOAD_LIMIT=void 0,r.PAYLOAD_LIMIT=1e7},6351:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DcsHandler=r.DcsParser=void 0;const h=l(482),u=l(8742),p=l(5770),f=[];r.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}registerHandler(b,_){this._handlers[b]===void 0&&(this._handlers[b]=[]);const a=this._handlers[b];return a.push(_),{dispose:()=>{const g=a.indexOf(_);g!==-1&&a.splice(g,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}reset(){if(this._active.length)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0}hook(b,_){if(this.reset(),this._ident=b,this._active=this._handlers[b]||f,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(b,_,a){if(this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].put(b,_,a);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(b,_,a))}unhook(b,_=!0){if(this._active.length){let a=!1,g=this._active.length-1,v=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,a=_,v=this._stack.fallThrough,this._stack.paused=!1),!v&&a===!1){for(;g>=0&&(a=this._active[g].unhook(b),a!==!0);g--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,a;g--}for(;g>=0;g--)if(a=this._active[g].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",b);this._active=f,this._ident=0}};const S=new u.Params;S.addParam(0),r.DcsHandler=class{constructor(b){this._handler=b,this._data="",this._params=S,this._hitLimit=!1}hook(b){this._params=b.length>1||b.params[0]?b.clone():S,this._data="",this._hitLimit=!1}put(b,_,a){this._hitLimit||(this._data+=(0,h.utf32ToString)(b,_,a),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(b){let _=!1;if(this._hitLimit)_=!1;else if(b&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then(a=>(this._params=S,this._data="",this._hitLimit=!1,a));return this._params=S,this._data="",this._hitLimit=!1,_}}},2015:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.EscapeSequenceParser=r.VT500_TRANSITION_TABLE=r.TransitionTable=void 0;const h=l(844),u=l(8742),p=l(6242),f=l(6351);class S{constructor(g){this.table=new Uint8Array(g)}setDefault(g,v){this.table.fill(g<<4|v)}add(g,v,d,m){this.table[v<<8|g]=d<<4|m}addMany(g,v,d,m){for(let w=0;w<g.length;w++)this.table[v<<8|g[w]]=d<<4|m}}r.TransitionTable=S;const b=160;r.VT500_TRANSITION_TABLE=function(){const a=new S(4095),g=Array.apply(null,Array(256)).map((T,y)=>y),v=(T,y)=>g.slice(T,y),d=v(32,127),m=v(0,24);m.push(25),m.push.apply(m,v(28,32));const w=v(0,14);let C;for(C in a.setDefault(1,0),a.addMany(d,0,2,0),w)a.addMany([24,26,153,154],C,3,0),a.addMany(v(128,144),C,3,0),a.addMany(v(144,152),C,3,0),a.add(156,C,0,0),a.add(27,C,11,1),a.add(157,C,4,8),a.addMany([152,158,159],C,0,7),a.add(155,C,11,3),a.add(144,C,11,9);return a.addMany(m,0,3,0),a.addMany(m,1,3,1),a.add(127,1,0,1),a.addMany(m,8,0,8),a.addMany(m,3,3,3),a.add(127,3,0,3),a.addMany(m,4,3,4),a.add(127,4,0,4),a.addMany(m,6,3,6),a.addMany(m,5,3,5),a.add(127,5,0,5),a.addMany(m,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(d,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(v(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(d,7,0,7),a.addMany(m,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(v(64,127),3,7,0),a.addMany(v(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(v(48,60),4,8,4),a.addMany(v(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(v(32,64),6,0,6),a.add(127,6,0,6),a.addMany(v(64,127),6,0,0),a.addMany(v(32,48),3,9,5),a.addMany(v(32,48),5,9,5),a.addMany(v(48,64),5,0,6),a.addMany(v(64,127),5,7,0),a.addMany(v(32,48),4,9,5),a.addMany(v(32,48),1,9,2),a.addMany(v(32,48),2,9,2),a.addMany(v(48,127),2,10,0),a.addMany(v(48,80),1,10,0),a.addMany(v(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(v(96,127),1,10,0),a.add(80,1,11,9),a.addMany(m,9,0,9),a.add(127,9,0,9),a.addMany(v(28,32),9,0,9),a.addMany(v(32,48),9,9,12),a.addMany(v(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(m,11,0,11),a.addMany(v(32,128),11,0,11),a.addMany(v(28,32),11,0,11),a.addMany(m,10,0,10),a.add(127,10,0,10),a.addMany(v(28,32),10,0,10),a.addMany(v(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(v(32,48),10,9,12),a.addMany(m,12,0,12),a.add(127,12,0,12),a.addMany(v(28,32),12,0,12),a.addMany(v(32,48),12,9,12),a.addMany(v(48,64),12,0,11),a.addMany(v(64,127),12,12,13),a.addMany(v(64,127),10,12,13),a.addMany(v(64,127),9,12,13),a.addMany(m,13,13,13),a.addMany(d,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(b,0,2,0),a.add(b,8,5,8),a.add(b,6,0,6),a.add(b,11,0,11),a.add(b,13,13,13),a}();class _ extends h.Disposable{constructor(g=r.VT500_TRANSITION_TABLE){super(),this._transitions=g,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(v,d,m)=>{},this._executeHandlerFb=v=>{},this._csiHandlerFb=(v,d)=>{},this._escHandlerFb=v=>{},this._errorHandlerFb=v=>v,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new f.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(g,v=[64,126]){let d=0;if(g.prefix){if(g.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=g.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(g.intermediates){if(g.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<g.intermediates.length;++w){const C=g.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=C}}if(g.final.length!==1)throw new Error("final must be a single byte");const m=g.final.charCodeAt(0);if(v[0]>m||m>v[1])throw new Error(`final must be in range ${v[0]} .. ${v[1]}`);return d<<=8,d|=m,d}identToString(g){const v=[];for(;g;)v.push(String.fromCharCode(255&g)),g>>=8;return v.reverse().join("")}setPrintHandler(g){this._printHandler=g}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(g,v){const d=this._identifier(g,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const m=this._escHandlers[d];return m.push(v),{dispose:()=>{const w=m.indexOf(v);w!==-1&&m.splice(w,1)}}}clearEscHandler(g){this._escHandlers[this._identifier(g,[48,126])]&&delete this._escHandlers[this._identifier(g,[48,126])]}setEscHandlerFallback(g){this._escHandlerFb=g}setExecuteHandler(g,v){this._executeHandlers[g.charCodeAt(0)]=v}clearExecuteHandler(g){this._executeHandlers[g.charCodeAt(0)]&&delete this._executeHandlers[g.charCodeAt(0)]}setExecuteHandlerFallback(g){this._executeHandlerFb=g}registerCsiHandler(g,v){const d=this._identifier(g);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const m=this._csiHandlers[d];return m.push(v),{dispose:()=>{const w=m.indexOf(v);w!==-1&&m.splice(w,1)}}}clearCsiHandler(g){this._csiHandlers[this._identifier(g)]&&delete this._csiHandlers[this._identifier(g)]}setCsiHandlerFallback(g){this._csiHandlerFb=g}registerDcsHandler(g,v){return this._dcsParser.registerHandler(this._identifier(g),v)}clearDcsHandler(g){this._dcsParser.clearHandler(this._identifier(g))}setDcsHandlerFallback(g){this._dcsParser.setHandlerFallback(g)}registerOscHandler(g,v){return this._oscParser.registerHandler(g,v)}clearOscHandler(g){this._oscParser.clearHandler(g)}setOscHandlerFallback(g){this._oscParser.setHandlerFallback(g)}setErrorHandler(g){this._errorHandler=g}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(g,v,d,m,w){this._parseStack.state=g,this._parseStack.handlers=v,this._parseStack.handlerPos=d,this._parseStack.transition=m,this._parseStack.chunkPos=w}parse(g,v,d){let m,w=0,C=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&E>-1){for(;E>=0&&(m=y[E](this._params),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 4:if(d===!1&&E>-1){for(;E>=0&&(m=y[E](),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 6:if(w=g[this._parseStack.chunkPos],m=this._dcsParser.unhook(w!==24&&w!==26,d),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=g[this._parseStack.chunkPos],m=this._oscParser.end(w!==24&&w!==26,d),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let y=T;y<v;++y){switch(w=g[y],C=this._transitions.table[this.currentState<<8|(w<160?w:b)],C>>4){case 2:for(let I=y+1;;++I){if(I>=v||(w=g[I])<32||w>126&&w<b){this._printHandler(g,y,I),y=I-1;break}if(++I>=v||(w=g[I])<32||w>126&&w<b){this._printHandler(g,y,I),y=I-1;break}if(++I>=v||(w=g[I])<32||w>126&&w<b){this._printHandler(g,y,I),y=I-1;break}if(++I>=v||(w=g[I])<32||w>126&&w<b){this._printHandler(g,y,I),y=I-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let x=E?E.length-1:-1;for(;x>=0&&(m=E[x](this._params),m!==!0);x--)if(m instanceof Promise)return this._preserveStack(3,E,x,C,y),m;x<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++y<v&&(w=g[y])>47&&w<60);y--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const O=this._escHandlers[this._collect<<8|w];let P=O?O.length-1:-1;for(;P>=0&&(m=O[P](),m!==!0);P--)if(m instanceof Promise)return this._preserveStack(4,O,P,C,y),m;P<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let I=y+1;;++I)if(I>=v||(w=g[I])===24||w===26||w===27||w>127&&w<b){this._dcsParser.put(g,y,I),y=I-1;break}break;case 14:if(m=this._dcsParser.unhook(w!==24&&w!==26),m)return this._preserveStack(6,[],0,C,y),m;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=y+1;;I++)if(I>=v||(w=g[I])<32||w>127&&w<b){this._oscParser.put(g,y,I),y=I-1;break}break;case 6:if(m=this._oscParser.end(w!==24&&w!==26),m)return this._preserveStack(5,[],0,C,y),m;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}r.EscapeSequenceParser=_},6242:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OscHandler=r.OscParser=void 0;const h=l(5770),u=l(482),p=[];r.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(f,S){this._handlers[f]===void 0&&(this._handlers[f]=[]);const b=this._handlers[f];return b.push(S),{dispose:()=>{const _=b.indexOf(S);_!==-1&&b.splice(_,1)}}}clearHandler(f){this._handlers[f]&&delete this._handlers[f]}setHandlerFallback(f){this._handlerFb=f}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")}_put(f,S,b){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(f,S,b);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(f,S,b))}start(){this.reset(),this._state=1}put(f,S,b){if(this._state!==3){if(this._state===1)for(;S<b;){const _=f[S++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&b-S>0&&this._put(f,S,b)}}end(f,S=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let b=!1,_=this._active.length-1,a=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,b=S,a=this._stack.fallThrough,this._stack.paused=!1),!a&&b===!1){for(;_>=0&&(b=this._active[_].end(f),b!==!0);_--)if(b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,b;_--}for(;_>=0;_--)if(b=this._active[_].end(!1),b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,b}else this._handlerFb(this._id,"END",f);this._active=p,this._id=-1,this._state=0}}},r.OscHandler=class{constructor(f){this._handler=f,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(f,S,b){this._hitLimit||(this._data+=(0,u.utf32ToString)(f,S,b),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(f){let S=!1;if(this._hitLimit)S=!1;else if(f&&(S=this._handler(this._data),S instanceof Promise))return S.then(b=>(this._data="",this._hitLimit=!1,b));return this._data="",this._hitLimit=!1,S}}},8742:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Params=void 0;const l=2147483647;class h{constructor(p=32,f=32){if(this.maxLength=p,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(p){const f=new h;if(!p.length)return f;for(let S=Array.isArray(p[0])?1:0;S<p.length;++S){const b=p[S];if(Array.isArray(b))for(let _=0;_<b.length;++_)f.addSubParam(b[_]);else f.addParam(b)}return f}clone(){const p=new h(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let f=0;f<this.length;++f){p.push(this.params[f]);const S=this._subParamsIdx[f]>>8,b=255&this._subParamsIdx[f];b-S>0&&p.push(Array.prototype.slice.call(this._subParams,S,b))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>l?l:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>l?l:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const f=this._subParamsIdx[p]>>8,S=255&this._subParamsIdx[p];return S-f>0?this._subParams.subarray(f,S):null}getSubParamsAll(){const p={};for(let f=0;f<this.length;++f){const S=this._subParamsIdx[f]>>8,b=255&this._subParamsIdx[f];b-S>0&&(p[f]=this._subParams.slice(S,b))}return p}addDigit(p){let f;if(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const S=this._digitIsSub?this._subParams:this.params,b=S[f-1];S[f-1]=~b?Math.min(10*b+p,l):p}}r.Params=h},5741:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AddonManager=void 0,r.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,h){const u={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(u),h.dispose=()=>this._wrappedAddonDispose(u),h.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let h=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===l){h=u;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(h,1)}}},8771:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferApiView=void 0;const h=l(3785),u=l(511);r.BufferApiView=class{constructor(p,f){this._buffer=p,this.type=f}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const f=this._buffer.lines.get(p);if(f)return new h.BufferLineApiView(f)}getNullCell(){return new u.CellData}}},3785:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLineApiView=void 0;const h=l(511);r.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,p){if(!(u<0||u>=this._line.length))return p?(this._line.loadCell(u,p),p):this._line.loadCell(u,new h.CellData)}translateToString(u,p,f){return this._line.translateToString(u,p,f)}}},8285:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferNamespaceApi=void 0;const h=l(8771),u=l(8460);r.BufferNamespaceApi=class{constructor(p){this._core=p,this._onBufferChange=new u.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ParserApi=void 0,r.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,h){return this._core.registerCsiHandler(l,u=>h(u.toArray()))}addCsiHandler(l,h){return this.registerCsiHandler(l,h)}registerDcsHandler(l,h){return this._core.registerDcsHandler(l,(u,p)=>h(u,p.toArray()))}addDcsHandler(l,h){return this.registerDcsHandler(l,h)}registerEscHandler(l,h){return this._core.registerEscHandler(l,h)}addEscHandler(l,h){return this.registerEscHandler(l,h)}registerOscHandler(l,h){return this._core.registerOscHandler(l,h)}addOscHandler(l,h){return this.registerOscHandler(l,h)}}},7090:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeApi=void 0,r.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(c,r,l){var h=this&&this.__decorate||function(a,g,v,d){var m,w=arguments.length,C=w<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,g,v,d);else for(var T=a.length-1;T>=0;T--)(m=a[T])&&(C=(w<3?m(C):w>3?m(g,v,C):m(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},u=this&&this.__param||function(a,g){return function(v,d){g(v,d,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferService=r.MINIMUM_ROWS=r.MINIMUM_COLS=void 0;const p=l(2585),f=l(5295),S=l(8460),b=l(844);r.MINIMUM_COLS=2,r.MINIMUM_ROWS=1;let _=class extends b.Disposable{constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new S.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new S.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,r.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,r.MINIMUM_ROWS),this.buffers=this.register(new f.BufferSet(a,this))}get buffer(){return this.buffers.active}resize(a,g){this.cols=a,this.rows=g,this.buffers.resize(a,g),this._onResize.fire({cols:a,rows:g})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,g=!1){const v=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===a.fg&&d.getBg(0)===a.bg||(d=v.getBlankLine(a,g),this._cachedBlankLine=d),d.isWrapped=g;const m=v.ybase+v.scrollTop,w=v.ybase+v.scrollBottom;if(v.scrollTop===0){const C=v.lines.isFull;w===v.lines.length-1?C?v.lines.recycle().copyFrom(d):v.lines.push(d.clone()):v.lines.splice(w+1,0,d.clone()),C?this.isUserScrolling&&(v.ydisp=Math.max(v.ydisp-1,0)):(v.ybase++,this.isUserScrolling||v.ydisp++)}else{const C=w-m+1;v.lines.shiftElements(m+1,C-1,-1),v.lines.set(w,d.clone())}this.isUserScrolling||(v.ydisp=v.ybase),this._onScroll.fire(v.ydisp)}scrollLines(a,g,v){const d=this.buffer;if(a<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else a+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const m=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+a,d.ybase),0),m!==d.ydisp&&(g||this._onScroll.fire(d.ydisp))}scrollPages(a){this.scrollLines(a*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(a){const g=a-this.buffer.ydisp;g!==0&&this.scrollLines(g)}};_=h([u(0,p.IOptionsService)],_),r.BufferService=_},7994:(c,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharsetService=void 0,r.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,h){this._charsets[l]=h,this.glevel===l&&(this.charset=h)}}},1753:function(c,r,l){var h=this&&this.__decorate||function(d,m,w,C){var T,y=arguments.length,E=y<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,m,w,C);else for(var x=d.length-1;x>=0;x--)(T=d[x])&&(E=(y<3?T(E):y>3?T(m,w,E):T(m,w))||E);return y>3&&E&&Object.defineProperty(m,w,E),E},u=this&&this.__param||function(d,m){return function(w,C){m(w,C,d)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreMouseService=void 0;const p=l(2585),f=l(8460),S=l(844),b={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function _(d,m){let w=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(w|=64,w|=d.action):(w|=3&d.button,4&d.button&&(w|=64),8&d.button&&(w|=128),d.action===32?w|=32:d.action!==0||m||(w|=3)),w}const a=String.fromCharCode,g={DEFAULT:d=>{const m=[_(d,!1)+32,d.col+32,d.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${a(m[0])}${a(m[1])}${a(m[2])}`},SGR:d=>{const m=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${_(d,!0)};${d.col};${d.row}${m}`},SGR_PIXELS:d=>{const m=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${_(d,!0)};${d.x};${d.y}${m}`}};let v=class extends S.Disposable{constructor(d,m){super(),this._bufferService=d,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new f.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(b))this.addProtocol(w,b[w]);for(const w of Object.keys(g))this.addEncoding(w,g[w]);this.reset()}addProtocol(d,m){this._protocols[d]=m}addEncoding(d,m){this._encodings[d]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const m=this._encodings[this._activeEncoding](d);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,m,w){if(w){if(d.x!==m.x||d.y!==m.y)return!1}else if(d.col!==m.col||d.row!==m.row)return!1;return d.button===m.button&&d.action===m.action&&d.ctrl===m.ctrl&&d.alt===m.alt&&d.shift===m.shift}};v=h([u(0,p.IBufferService),u(1,p.ICoreService)],v),r.CoreMouseService=v},6975:function(c,r,l){var h=this&&this.__decorate||function(v,d,m,w){var C,T=arguments.length,y=T<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(v,d,m,w);else for(var E=v.length-1;E>=0;E--)(C=v[E])&&(y=(T<3?C(y):T>3?C(d,m,y):C(d,m))||y);return T>3&&y&&Object.defineProperty(d,m,y),y},u=this&&this.__param||function(v,d){return function(m,w){d(m,w,v)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreService=void 0;const p=l(2585),f=l(8460),S=l(1439),b=l(844),_=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let g=class extends b.Disposable{constructor(v,d,m){super(),this._bufferService=v,this._logService=d,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new f.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new f.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,S.clone)(_),this.decPrivateModes=(0,S.clone)(a)}reset(){this.modes=(0,S.clone)(_),this.decPrivateModes=(0,S.clone)(a)}triggerDataEvent(v,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${v}"`,()=>v.split("").map(w=>w.charCodeAt(0))),this._onData.fire(v)}triggerBinaryEvent(v){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${v}"`,()=>v.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(v))}};g=h([u(0,p.IBufferService),u(1,p.ILogService),u(2,p.IOptionsService)],g),r.CoreService=g},9074:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DecorationService=void 0;const h=l(8055),u=l(8460),p=l(844),f=l(6106);let S=0,b=0;class _ extends p.Disposable{constructor(){super(),this._decorations=new f.SortedList(v=>v==null?void 0:v.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>{for(const v of this._decorations.values())this._onDecorationRemoved.fire(v);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(v){if(v.marker.isDisposed)return;const d=new a(v);if(d){const m=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),m.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const v of this._decorations.values())v.dispose();this._decorations.clear()}*getDecorationsAtCell(v,d,m){var w,C,T;let y=0,E=0;for(const x of this._decorations.getKeyIterator(d))y=(w=x.options.x)!==null&&w!==void 0?w:0,E=y+((C=x.options.width)!==null&&C!==void 0?C:1),v>=y&&v<E&&(!m||((T=x.options.layer)!==null&&T!==void 0?T:"bottom")===m)&&(yield x)}forEachDecorationAtCell(v,d,m,w){this._decorations.forEachByKey(d,C=>{var T,y,E;S=(T=C.options.x)!==null&&T!==void 0?T:0,b=S+((y=C.options.width)!==null&&y!==void 0?y:1),v>=S&&v<b&&(!m||((E=C.options.layer)!==null&&E!==void 0?E:"bottom")===m)&&w(C)})}dispose(){for(const v of this._decorations.values())this._onDecorationRemoved.fire(v);this.reset()}}r.DecorationService=_;class a extends p.Disposable{constructor(v){super(),this.options=v,this.isDisposed=!1,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=v.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.InstantiationService=r.ServiceCollection=void 0;const h=l(2585),u=l(8343);class p{constructor(...S){this._entries=new Map;for(const[b,_]of S)this.set(b,_)}set(S,b){const _=this._entries.get(S);return this._entries.set(S,b),_}forEach(S){for(const[b,_]of this._entries.entries())S(b,_)}has(S){return this._entries.has(S)}get(S){return this._entries.get(S)}}r.ServiceCollection=p,r.InstantiationService=class{constructor(){this._services=new p,this._services.set(h.IInstantiationService,this)}setService(f,S){this._services.set(f,S)}getService(f){return this._services.get(f)}createInstance(f,...S){const b=(0,u.getServiceDependencies)(f).sort((g,v)=>g.index-v.index),_=[];for(const g of b){const v=this._services.get(g.id);if(!v)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${g.id}.`);_.push(v)}const a=b.length>0?b[0].index:S.length;if(S.length!==a)throw new Error(`[createInstance] First service dependency of ${f.name} at position ${a+1} conflicts with ${S.length} static arguments`);return new f(...S,..._)}}},7866:function(c,r,l){var h=this&&this.__decorate||function(_,a,g,v){var d,m=arguments.length,w=m<3?a:v===null?v=Object.getOwnPropertyDescriptor(a,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,a,g,v);else for(var C=_.length-1;C>=0;C--)(d=_[C])&&(w=(m<3?d(w):m>3?d(a,g,w):d(a,g))||w);return m>3&&w&&Object.defineProperty(a,g,w),w},u=this&&this.__param||function(_,a){return function(g,v){a(g,v,_)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LogService=void 0;const p=l(844),f=l(2585),S={debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let b=class extends p.Disposable{constructor(_){super(),this._optionsService=_,this.logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=S[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(_){for(let a=0;a<_.length;a++)typeof _[a]=="function"&&(_[a]=_[a]())}_log(_,a,g){this._evalLazyOptionalParams(g),_.call(console,"xterm.js: "+a,...g)}debug(_,...a){this.logLevel<=f.LogLevelEnum.DEBUG&&this._log(console.log,_,a)}info(_,...a){this.logLevel<=f.LogLevelEnum.INFO&&this._log(console.info,_,a)}warn(_,...a){this.logLevel<=f.LogLevelEnum.WARN&&this._log(console.warn,_,a)}error(_,...a){this.logLevel<=f.LogLevelEnum.ERROR&&this._log(console.error,_,a)}};b=h([u(0,f.IOptionsService)],b),r.LogService=b},7302:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsService=r.DEFAULT_OPTIONS=void 0;const h=l(8460),u=l(6114),p=l(844);r.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];class S extends p.Disposable{constructor(_){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},r.DEFAULT_OPTIONS);for(const g in _)if(g in a)try{const v=_[g];a[g]=this._sanitizeAndValidateOption(g,v)}catch(v){console.error(v)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(_,a){return this.onOptionChange(g=>{g===_&&a(this.rawOptions[_])})}onMultipleOptionChange(_,a){return this.onOptionChange(g=>{_.indexOf(g)!==-1&&a()})}_setupOptions(){const _=g=>{if(!(g in r.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);return this.rawOptions[g]},a=(g,v)=>{if(!(g in r.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);v=this._sanitizeAndValidateOption(g,v),this.rawOptions[g]!==v&&(this.rawOptions[g]=v,this._onOptionChange.fire(g))};for(const g in this.rawOptions){const v={get:_.bind(this,g),set:a.bind(this,g)};Object.defineProperty(this.options,g,v)}}_sanitizeAndValidateOption(_,a){switch(_){case"cursorStyle":if(a||(a=r.DEFAULT_OPTIONS[_]),!function(g){return g==="block"||g==="underline"||g==="bar"}(a))throw new Error(`"${a}" is not a valid value for ${_}`);break;case"wordSeparator":a||(a=r.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=f.includes(a)?a:r.DEFAULT_OPTIONS[_];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${_} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${a}`);case"rows":case"cols":if(!a&&a!==0)throw new Error(`${_} must be numeric, value: ${a}`)}return a}}r.OptionsService=S},2660:function(c,r,l){var h=this&&this.__decorate||function(S,b,_,a){var g,v=arguments.length,d=v<3?b:a===null?a=Object.getOwnPropertyDescriptor(b,_):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(S,b,_,a);else for(var m=S.length-1;m>=0;m--)(g=S[m])&&(d=(v<3?g(d):v>3?g(b,_,d):g(b,_))||d);return v>3&&d&&Object.defineProperty(b,_,d),d},u=this&&this.__param||function(S,b){return function(_,a){b(_,a,S)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OscLinkService=void 0;const p=l(2585);let f=class{constructor(S){this._bufferService=S,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(S){const b=this._bufferService.buffer;if(S.id===void 0){const m=b.addMarker(b.ybase+b.y),w={data:S,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(w,m)),this._dataByLinkId.set(w.id,w),w.id}const _=S,a=this._getEntryIdKey(_),g=this._entriesWithId.get(a);if(g)return this.addLineToLink(g.id,b.ybase+b.y),g.id;const v=b.addMarker(b.ybase+b.y),d={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[v]};return v.onDispose(()=>this._removeMarkerFromLink(d,v)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(S,b){const _=this._dataByLinkId.get(S);if(_&&_.lines.every(a=>a.line!==b)){const a=this._bufferService.buffer.addMarker(b);_.lines.push(a),a.onDispose(()=>this._removeMarkerFromLink(_,a))}}getLinkData(S){var b;return(b=this._dataByLinkId.get(S))===null||b===void 0?void 0:b.data}_getEntryIdKey(S){return`${S.id};;${S.uri}`}_removeMarkerFromLink(S,b){const _=S.lines.indexOf(b);_!==-1&&(S.lines.splice(_,1),S.lines.length===0&&(S.data.id!==void 0&&this._entriesWithId.delete(S.key),this._dataByLinkId.delete(S.id)))}};f=h([u(0,p.IBufferService)],f),r.OscLinkService=f},8343:(c,r)=>{function l(h,u,p){u.di$target===u?u.di$dependencies.push({id:h,index:p}):(u.di$dependencies=[{id:h,index:p}],u.di$target=u)}Object.defineProperty(r,"__esModule",{value:!0}),r.createDecorator=r.getServiceDependencies=r.serviceRegistry=void 0,r.serviceRegistry=new Map,r.getServiceDependencies=function(h){return h.di$dependencies||[]},r.createDecorator=function(h){if(r.serviceRegistry.has(h))return r.serviceRegistry.get(h);const u=function(p,f,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");l(u,p,S)};return u.toString=()=>h,r.serviceRegistry.set(h,u),u}},2585:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IDecorationService=r.IUnicodeService=r.IOscLinkService=r.IOptionsService=r.ILogService=r.LogLevelEnum=r.IInstantiationService=r.ICharsetService=r.ICoreService=r.ICoreMouseService=r.IBufferService=void 0;const h=l(8343);var u;r.IBufferService=(0,h.createDecorator)("BufferService"),r.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),r.ICoreService=(0,h.createDecorator)("CoreService"),r.ICharsetService=(0,h.createDecorator)("CharsetService"),r.IInstantiationService=(0,h.createDecorator)("InstantiationService"),(u=r.LogLevelEnum||(r.LogLevelEnum={}))[u.DEBUG=0]="DEBUG",u[u.INFO=1]="INFO",u[u.WARN=2]="WARN",u[u.ERROR=3]="ERROR",u[u.OFF=4]="OFF",r.ILogService=(0,h.createDecorator)("LogService"),r.IOptionsService=(0,h.createDecorator)("OptionsService"),r.IOscLinkService=(0,h.createDecorator)("OscLinkService"),r.IUnicodeService=(0,h.createDecorator)("UnicodeService"),r.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(c,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeService=void 0;const h=l(8460),u=l(225);r.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const p=new u.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(p){if(!this._providers[p])throw new Error(`unknown Unicode version "${p}"`);this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)}register(p){this._providers[p.version]=p}wcwidth(p){return this._activeProvider.wcwidth(p)}getStringCellWidth(p){let f=0;const S=p.length;for(let b=0;b<S;++b){let _=p.charCodeAt(b);if(55296<=_&&_<=56319){if(++b>=S)return f+this.wcwidth(_);const a=p.charCodeAt(b);56320<=a&&a<=57343?_=1024*(_-55296)+a-56320+65536:f+=this.wcwidth(a)}f+=this.wcwidth(_)}return f}}}},s={};function n(c){var r=s[c];if(r!==void 0)return r.exports;var l=s[c]={exports:{}};return i[c].call(l.exports,l,l.exports,n),l.exports}var o={};return(()=>{var c=o;Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const r=n(3236),l=n(9042),h=n(7975),u=n(7090),p=n(5741),f=n(8285),S=["cols","rows"];c.Terminal=class{constructor(b){this._core=new r.Terminal(b),this._addonManager=new p.AddonManager,this._publicOptions=Object.assign({},this._core.options);const _=g=>this._core.options[g],a=(g,v)=>{this._checkReadonlyOptions(g),this._core.options[g]=v};for(const g in this._core.options){const v={get:_.bind(this,g),set:a.bind(this,g)};Object.defineProperty(this._publicOptions,g,v)}}_checkReadonlyOptions(b){if(S.includes(b))throw new Error(`Option "${b}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new h.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new u.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new f.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const b=this._core.coreService.decPrivateModes;let _="none";switch(this._core.coreMouseService.activeProtocol){case"X10":_="x10";break;case"VT200":_="vt200";break;case"DRAG":_="drag";break;case"ANY":_="any"}return{applicationCursorKeysMode:b.applicationCursorKeys,applicationKeypadMode:b.applicationKeypad,bracketedPasteMode:b.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:_,originMode:b.origin,reverseWraparoundMode:b.reverseWraparound,sendFocusMode:b.sendFocus,wraparoundMode:b.wraparound}}get options(){return this._publicOptions}set options(b){for(const _ in b)this._publicOptions[_]=b[_]}blur(){this._core.blur()}focus(){this._core.focus()}resize(b,_){this._verifyIntegers(b,_),this._core.resize(b,_)}open(b){this._core.open(b)}attachCustomKeyEventHandler(b){this._core.attachCustomKeyEventHandler(b)}registerLinkProvider(b){return this._core.registerLinkProvider(b)}registerCharacterJoiner(b){return this._checkProposedApi(),this._core.registerCharacterJoiner(b)}deregisterCharacterJoiner(b){this._checkProposedApi(),this._core.deregisterCharacterJoiner(b)}registerMarker(b=0){return this._verifyIntegers(b),this._core.addMarker(b)}registerDecoration(b){var _,a,g;return this._checkProposedApi(),this._verifyPositiveIntegers((_=b.x)!==null&&_!==void 0?_:0,(a=b.width)!==null&&a!==void 0?a:0,(g=b.height)!==null&&g!==void 0?g:0),this._core.registerDecoration(b)}hasSelection(){return this._core.hasSelection()}select(b,_,a){this._verifyIntegers(b,_,a),this._core.select(b,_,a)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(b,_){this._verifyIntegers(b,_),this._core.selectLines(b,_)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(b){this._verifyIntegers(b),this._core.scrollLines(b)}scrollPages(b){this._verifyIntegers(b),this._core.scrollPages(b)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(b){this._verifyIntegers(b),this._core.scrollToLine(b)}clear(){this._core.clear()}write(b,_){this._core.write(b,_)}writeln(b,_){this._core.write(b),this._core.write(`\r
`,_)}paste(b){this._core.paste(b)}refresh(b,_){this._verifyIntegers(b,_),this._core.refresh(b,_)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(b){return this._addonManager.loadAddon(this,b)}static get strings(){return l}_verifyIntegers(...b){for(const _ of b)if(_===1/0||isNaN(_)||_%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...b){for(const _ of b)if(_&&(_===1/0||isNaN(_)||_%1!=0||_<0))throw new Error("This API only accepts positive integers")}}})(),o})()})})(Dc);var Pc={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(self,function(){return(()=>{var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{constructor(){}activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const o=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(o._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,o=n._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const c=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,r=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(r.getPropertyValue("height")),h=Math.max(0,parseInt(r.getPropertyValue("width"))),u=window.getComputedStyle(this._terminal.element),p=l-(parseInt(u.getPropertyValue("padding-top"))+parseInt(u.getPropertyValue("padding-bottom"))),f=h-(parseInt(u.getPropertyValue("padding-right"))+parseInt(u.getPropertyValue("padding-left")))-c;return{cols:Math.max(2,Math.floor(f/o.css.cell.width)),rows:Math.max(1,Math.floor(p/o.css.cell.height))}}}})(),i})()})})(Pc);var Ac={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(self,function(){return(()=>{var i={};return(()=>{var s=i;function n(o,c,r){return o.addEventListener(c,r),{dispose:()=>{r&&o.removeEventListener(c,r)}}}Object.defineProperty(s,"__esModule",{value:!0}),s.AttachAddon=void 0,s.AttachAddon=class{constructor(o,c){this._disposables=[],this._socket=o,this._socket.binaryType="arraybuffer",this._bidirectional=!(c&&c.bidirectional===!1)}activate(o){this._disposables.push(n(this._socket,"message",c=>{const r=c.data;o.write(typeof r=="string"?r:new Uint8Array(r))})),this._bidirectional&&(this._disposables.push(o.onData(c=>this._sendData(c))),this._disposables.push(o.onBinary(c=>this._sendBinary(c)))),this._disposables.push(n(this._socket,"close",()=>this.dispose())),this._disposables.push(n(this._socket,"error",()=>this.dispose()))}dispose(){for(const o of this._disposables)o.dispose()}_sendData(o){this._checkOpenSocket()&&this._socket.send(o)}_sendBinary(o){if(!this._checkOpenSocket())return;const c=new Uint8Array(o.length);for(let r=0;r<o.length;++r)c[r]=255&o.charCodeAt(r);this._socket.send(c)}_checkOpenSocket(){switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("Attach addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("Attach addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("Attach addon socket is closed");default:throw new Error("Unexpected socket state")}}}})(),i})()})})(Ac);const Ly=Ue({components:{},props:[],data(){return{loading:!1}},mounted(){this.startTerminal(),this.refresh()},methods:{fitToscreen(){this.fit.fit(),console.log("sending new dimensions to server [8;"+term.cols+";"+term.rows+"t"),this.ws.send("\x1B[8;"+term.cols+";"+term.rows+"t")},startTerminal(){this.term=new Dc.exports.Terminal({cursorBlink:!0,macOptionIsMeta:!0,scrollback:!0}),this.fit=new Pc.exports.FitAddon,this.term.loadAddon(this.fit);const e=(document.location.protocol=="http:"?"ws://":"wss://")+document.location.host+document.location.pathname+"ws?columns="+this.term.cols+"&lines="+this.term.rows;console.log(e),this.ws=new WebSocket(e);const t=new Ac.exports.AttachAddon(this.ws,{bidirectional:!0});this.term.loadAddon(t),this.term.open(this.$refs.terminal),this.fit.fit()},isChanged(){return!1},updateLocation(){document.location.hash="terminal"},refresh(){this.updateLocation()},dispose(){this.ws.send("\x1B$,F"),this.term.dispose(),this.term=null,this.fit=null;try{this.ws.close()}catch{}},loaded(e){this.loading=!1}}}),Oy={class:"terminal-view",tabindex:"1"},My={style:{width:"100%",height:"100%"},ref:"terminal"};function Iy(e,t,i,s,n,o){return j(),V("div",Oy,[U("div",My,null,512)])}const By=qe(Ly,[["render",Iy]]);const Fy=Ue({components:{icon:ls},props:[],data(){return{message:"",type:"errror",show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.message=e.message,this.type=e.type,this.show=!0,this.resolve=t,this.reject=i})},close(){this.show=!1,this.resolve()}}}),Ny={class:"message-text"};function Hy(e,t,i,s,n,o){const c=ye("icon"),r=ye("modal");return j(),tt(r,{modelValue:e.show,"onUpdate:modelValue":t[1]||(t[1]=l=>e.show=l),close:e.close},{default:De(()=>[U("div",{class:ve("airflow-code-editor-modal airflow-code-editor-modal-"+e.type)},[fe(c,{icon:"warning"}),U("span",Ny,we(e.message),1),U("button",{onClick:t[0]||(t[0]=(...l)=>e.close&&e.close(...l)),class:"btn btn-primary"},"Dismiss")],2)]),_:1},8,["modelValue","close"])}const $y=qe(Fy,[["render",Hy]]);const Uy=Ue({props:[],data(){return{target:null,show:!1}},methods:{showDialog(e){return new Promise((t,i)=>{this.target=e,this.show=!0,this.resolve=t,this.reject=i})},ok(){this.close(this.target)},cancel(){this.close()},close(e){this.show=!1,this.resolve(e)}}}),jy={class:"airflow-code-editor-modal airflow-code-editor-modal-delete"},Wy=U("h1",null,"Confirm Close",-1),zy=U("br",null,null,-1),qy={class:"delete-dialog-buttons"};function Ky(e,t,i,s,n,o){const c=ye("modal");return j(),tt(c,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=r=>e.show=r),close:e.close},{default:De(()=>[U("div",jy,[Wy,U("label",null,[Ge("Are you sure you want to close "+we(e.target)+" ?",1),zy,Ge(" Your changed will be lost if you don't save them.")]),U("div",qy,[U("button",{onClick:t[0]||(t[0]=(...r)=>e.cancel&&e.cancel(...r)),class:"btn btn-primary"},"Cancel"),U("button",{onClick:t[1]||(t[1]=(...r)=>e.ok&&e.ok(...r)),class:"btn btn-default"},"Ok")])])]),_:1},8,["modelValue","close"])}const Vy=qe(Uy,[["render",Ky]]);const Lc="d15216ca-854d-4705-bff5-1887e8bf1180";class nr{constructor(t,i,s){i==Nn?this.uuid=Lc:this.uuid=yf(),this.name=t,this.component=i,this.target=s,this.closed=!1}}const Yy=Ue({components:{splitpanes:co,pane:ho,sidebar:U_,container:Fn,historyview:qa,workspace:Nn,"error-dialog":$y,"close-tab-dialog":Vy,"vue-simple-context-menu":Hr},data(){return{tabs:[],selectedTab:null,config:{theme:localStorage.getItem("airflow_code_editor_theme")||"default",mode:localStorage.getItem("airflow_code_editor_mode")||"default",singleTab:!1},sidebarSize:190*100/jQuery(document).width(),options:[{name:'<span class="material-icons">close</span> Close',slug:"close"},{name:'<span class="material-icons">cancel</span> Close other tabs',slug:"close_others"}]}},methods:{initViews(){},show(e){if(e.id=="files"){let t=e.path!="/"?e.path:void 0,i=this.tabs.find(s=>s.target&&s.target.object==t&&s.target.type==e.type&&!s.closed);i?e.type=="tree"&&this.$refs[i.uuid][0].refresh():(i=new nr(e.path,Fn,e),this.tabs.push(i)),this.selectedTab=i.uuid}else if(e.id=="workspace"){let t=this.tabs.find(i=>i.uuid==Lc&&!i.closed);t?this.$refs[t.uuid][0].refresh():(t=new nr("Workspace",Nn),this.tabs.push(t)),this.selectedTab=t.uuid}else if(e.id=="terminal")tab=new nr("Terminal",By),this.tabs.push(tab),this.selectedTab=tab.uuid;else{let t=this.tabs.find(i=>i.target&&i.target.id==e.id&&i.target.name==e.name&&!i.closed);t?this.$refs[t.uuid][0].refresh():(t=new nr(e.name,qa,e),this.tabs.push(t)),this.selectedTab=t.uuid}},showError(e){this.$refs.errorDialog.showDialog({message:e,type:"error"})},showWarning(e){this.$refs.errorDialog.showDialog({message:e,type:"warning"})},showMenu(e,t){t&&this.$refs.appMainNavMenu.showMenu(e,t)},async menuOptionClicked(e){if(e.option.slug=="close_others")for(const t of this.tabs.filter(i=>i!=e.item&&!i.closed))await this.closeTab(t);else e.option.slug=="close"&&await this.closeTab(e.item)},selectTab(e){this.selectedTab=e.uuid},isChanged(e){return e?this.$refs[e.uuid][0].isChanged():!1},async closeTab(e){if(this.isChanged(e)&&!await this.$refs.closeTabDialog.showDialog(e.name))return;let t=this.activeTabs.indexOf(e);t!=-1&&(this.selectedTab==e.uuid&&(this.selectedTab=null,this.activeTabs.length==1?this.selectedTab=null:t==0?this.selectedTab=this.activeTabs[1].uuid:this.selectedTab=this.activeTabs[t-1].uuid),e.closed=!0,this.$refs[e.uuid][0].dispose())}},computed:{activeTabs:function(){return this.tabs.filter((e,t,i)=>!e.closed)}},mounted(){this.initViews()}}),Gy={class:"app-main-nav"},Xy={class:"nav nav-tabs"},Jy=["onClick","onContextmenu"],Qy=["onClick"],Zy={class:"app-main-view"};function eS(e,t,i,s,n,o){const c=ye("sidebar"),r=ye("pane"),l=ye("vue-simple-context-menu"),h=ye("error-dialog"),u=ye("close-tab-dialog"),p=ye("splitpanes");return j(),tt(p,{class:"default-theme"},{default:De(()=>[fe(r,{key:"1",size:e.sidebarSize},{default:De(()=>[fe(c,{class:"app-sidebar",onShow:e.show,config:e.config},null,8,["onShow","config"])]),_:1},8,["size"]),fe(r,{key:"2",size:100-e.sidebarSize,class:"app-main"},{default:De(()=>[st(U("div",Gy,[U("ul",Xy,[(j(!0),V(xe,null,Ze(e.tabs,f=>(j(),V("li",{role:"presentation",class:ve(e.selectedTab==f.uuid?"active":"")},[f.closed?ue("",!0):(j(),V("a",{key:0,href:"#",onClick:Fe(S=>e.selectTab(f),["stop"]),onContextmenu:Fe(S=>e.showMenu(S,f),["prevent","stop"])},[Ge(we(f.name)+" ",1),U("i",{class:"fa fa-close",onClick:Fe(S=>e.closeTab(f),["stop"])},null,8,Qy)],40,Jy))],2))),256))]),fe(l,{"element-id":"app-main-nav-menu",options:e.options,ref:"appMainNavMenu",onOptionClicked:e.menuOptionClicked},null,8,["options","onOptionClicked"])],512),[[It,e.activeTabs.length>1&&!e.config.singleTab]]),U("div",Zy,[(j(!0),V(xe,null,Ze(e.tabs,f=>(j(),V(xe,null,[f.closed?ue("",!0):st((j(),tt(Zd(f.component),{key:0,ref_for:!0,ref:f.uuid,uuid:f.uuid,config:e.config,target:f.target,"is-git":!1,onShow:e.show,onSetTab:S=>{f.name=S.name,f.target=S}},null,40,["uuid","config","target","onShow","onSetTab"])),[[It,e.selectedTab==f.uuid]])],64))),256))])]),_:1},8,["size"]),fe(h,{ref:"errorDialog"},null,512),fe(u,{ref:"closeTabDialog"},null,512)]),_:1})}const tS=qe(Yy,[["render",eS]]);window.init=function(e,t){const i="#global-container",s="#airflow-code-editor-modals";window.CodeMirror.modeURL="/static/code_editor/mode/%N/%N.js",jQuery(i).appendTo(jQuery("body"));const n=pf(tS);n.component("vue-simple-context-menu",Hr),window.app=D_(n,i,s,e,t)};
//# sourceMappingURL=airflow_code_editor.js.map
